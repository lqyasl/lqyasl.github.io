<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
<title>Graduation-countdown</title>
<link rel="stylesheet" href="css/style.css" media="screen" type="text/css" />
</head>
<body id="body">
	<div>
		<p id="beye">工作计时器</p>
		<div id="box"></div>
	</div>
	<div>
		<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=298 height=52 src="//music.163.com/outchain/player?type=0&id=2009642089&auto=1&height=32"></iframe>
		<input id="valueOne" type="text" placeholder="请输入裂解总进料量">
		<input id="valueTwo" type="text" placeholder="请输入氯乙烯总出料量">
		<input id="valueThree" type="text" placeholder="请输入进料纯度,默认为1">
		<button onclick="liejielv()" style="width: 80px;height: 20px;color:white;background-color: rgb(20, 4, 4);">计算裂解率</button>
		<p id="result">裂解率=</p>
		<button onclick="result()" style="width: 60px;height: 20px;color:white;background-color: rgb(20, 4, 4);">清空重算</button>
	</div>
	<div class="content-wrap">
		<div class="content">
			<div id="time">
				<canvas id="canvas"></canvas>
			</div>
			<div id="gohome">
				<a href="https://shulu520.com/">👫home</a>
			</div>
		</div>
	</div>
	<script src='js/dat.gui.min.js'></script>
	<script src="js/index.js"></script>
	
	<script type="text/javascript">
		function randomColor(){  
			var rand = '#'+('00000'+(Math.random()*0x1000000<<0).toString(16)).slice(-6);
			return rand;
		};
	    let obox = document.getElementById("box"),
	        graduationTime = new Date("2020/7/20");//开始工作时间
	    setInterval(() => {
	        let date =graduationTime - new Date(),
	            dd = Math.floor(date/1000/60/60/24),
	            hh = Math.floor(date/1000/60/60)%24,
	            mm = Math.floor(date/1000/60)%60,
	            ss = Math.floor(date/1000)%60,
	            str = `${addZero(dd)}天${addZero(hh)}时${addZero(mm)}分${addZero(ss)}秒`;
	            obox.innerHTML = str;
				obox.style.color = randomColor();
	    },1000);

		setInterval(() => {
			let beye = document.getElementById('beye');
			beye.style.color = randomColor();
		},2000)
	
	     function addZero(n) {//此函数用来增加个位数前面的补位，为了好看
	        return n < 10 ? "0" + n : n + "";
	        // return n.String.padStart(2,"0");//这种用法不熟，报错
	         // return ("0" + n).slice(-2); //这种只针对只有两位数的情况
			}
			let Clickvalue = document.getElementById("result");
			
			function liejielv () {
				let a = 99, b = 62.5, c = 0, d = valueThree.value || 1
				c = (a * valueTwo.value) / (b * valueOne.value * d)

				Clickvalue.innerText ='裂解率=' + '' + c.toFixed(4)*100 + "%"
			}
			function result () {
				valueOne.value = ''
				valueTwo.value = ''
				valueThree.value = ''
				Clickvalue.innerText = '裂解率='
			}
	</script>
</body>
</html>
