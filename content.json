{"meta":{"title":"梦不成","subtitle":"思念如马，自别离，未停蹄","description":"君子生非异也，善假于物也.","author":"刘秋云","url":"https://shulu520.com","root":"/"},"pages":[{"title":"","date":"2019-04-22T05:41:23.000Z","updated":"2019-04-25T17:02:04.110Z","comments":false,"path":"/404.html","permalink":"https://shulu520.com//404.html","excerpt":"","text":"&lt;!DOCTYPE HTML&gt; L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"model\":{\"scale\":1,\"hHeadPos\":0.5,\"vHeadPos\":0.618,\"jsonPath\":\"/live2dw/assets/shizuku.model.json\"},\"display\":{\"superSample\":2,\"width\":160,\"height\":320,\"position\":\"left\",\"hOffset\":-5,\"vOffset\":-35},\"mobile\":{\"show\":true,\"scale\":0.5},\"react\":{\"opacityDefault\":0.7,\"opacityOnHover\":0.2},\"log\":false,\"tagMode\":false});"},{"title":"","date":"2019-04-25T18:15:01.717Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/i.html","permalink":"https://shulu520.com/samaritan/i.html","excerpt":"","text":"Samaritan var tag = document.createElement('script'); tag.src = \"https://www.youtube.com/player_api\"; var firstScriptTag = document.getElementsByTagName('script')[0]; firstScriptTag.parentNode.insertBefore(tag, firstScriptTag); var player; function onYouTubePlayerAPIReady() { player = new YT.Player('boot-video', { height: '100%', width: '100%', videoId: 'xHAzhkIt0z4', playerVars: { rel: 0, autoplay: 1, showinfo: 0, iv_load_policy: 3, controls: 0, modestbranding: 1, enablejsapi: 1 }, events: { 'onReady': onPlayerReady, } }); } function onPlayerReady(event) { event.target.mute(); } &nbsp; &#9650 L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"model\":{\"scale\":1,\"hHeadPos\":0.5,\"vHeadPos\":0.618,\"jsonPath\":\"/live2dw/assets/shizuku.model.json\"},\"display\":{\"superSample\":2,\"width\":160,\"height\":320,\"position\":\"left\",\"hOffset\":-5,\"vOffset\":-35},\"mobile\":{\"show\":true,\"scale\":0.5},\"react\":{\"opacityDefault\":0.7,\"opacityOnHover\":0.2},\"log\":false,\"tagMode\":false});"},{"title":"categories","date":"2019-04-20T01:53:24.000Z","updated":"2019-04-20T05:54:52.506Z","comments":true,"path":"categories/index.html","permalink":"https://shulu520.com/categories/index.html","excerpt":"","text":""},{"title":"","date":"2019-04-25T17:29:18.141Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/README.html","permalink":"https://shulu520.com/samaritan/README.html","excerpt":"","text":"Samaritan 2.0!Available speech commands:12345678910111213141516&apos;locate the machine&apos;&apos;where are you&apos;&apos;who am I&apos;&apos;who are you&apos;&apos;find Finch&apos;&apos;yes&apos;&apos;no&apos;&apos;what are you&apos;&apos;turn off&apos;&apos;restart&apos;&apos;who created you&apos;&apos;who won&apos;&apos;find (me) *name&apos;&apos;search (for) *name&apos;&apos;show (me) *name&apos;//repeats everything if it&apos;s not one of the above Features: Speech recognition Voice image search Technologies: HTML CSS JS Original author:Rodrigo Graça Honorable mentions to:Jeiel Aranal @chemikhaziAlexandru Simandiand all the other contributors"},{"title":"","date":"2019-04-25T18:15:01.726Z","updated":"2019-04-25T18:14:32.848Z","comments":true,"path":"samaritan/index.html","permalink":"https://shulu520.com/samaritan/index.html","excerpt":"","text":"heloword *{margin:0;padding:0;} li{list-style:none;} a{text-decoration: none;} #app{ background-color:red; } 我是最帅的小帅哥 L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"model\":{\"scale\":1,\"hHeadPos\":0.5,\"vHeadPos\":0.618,\"jsonPath\":\"/live2dw/assets/shizuku.model.json\"},\"display\":{\"superSample\":2,\"width\":160,\"height\":320,\"position\":\"left\",\"hOffset\":-5,\"vOffset\":-35},\"mobile\":{\"show\":true,\"scale\":0.5},\"react\":{\"opacityDefault\":0.7,\"opacityOnHover\":0.2},\"log\":false,\"tagMode\":false});"},{"title":"","date":"2019-04-22T05:57:10.894Z","updated":"2019-04-22T05:57:10.894Z","comments":true,"path":"404/404.html","permalink":"https://shulu520.com/404/404.html","excerpt":"","text":"L2Dwidget.init({\"pluginRootPath\":\"live2dw/\",\"pluginJsPath\":\"lib/\",\"pluginModelPath\":\"assets/\",\"model\":{\"scale\":1,\"hHeadPos\":0.5,\"vHeadPos\":0.618,\"jsonPath\":\"/live2dw/assets/shizuku.model.json\"},\"display\":{\"superSample\":2,\"width\":160,\"height\":320,\"position\":\"left\",\"hOffset\":-5,\"vOffset\":-35},\"mobile\":{\"show\":true,\"scale\":0.5},\"react\":{\"opacityDefault\":0.7,\"opacityOnHover\":0.2},\"log\":false,\"tagMode\":false});"},{"title":"","date":"2019-04-25T17:29:18.731Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/manifest.json","permalink":"https://shulu520.com/samaritan/manifest.json","excerpt":"","text":"{\"lang\":\"en\",\"dir\":\"ltr\",\"name\":\"Samaritan\",\"description\":\"Samaritan in your phone/PC\",\"short_name\":\"Samaritan\",\"icons\":[{\"src\":\"img/icon.png\",\"sizes\":\"192x192\"}],\"start_url\":\"index.html\",\"display\":\"fullscreen\",\"theme_color\":\"black\",\"background_color\":\"black\"}"},{"title":"","date":"2019-04-25T17:29:18.781Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/test.html","permalink":"https://shulu520.com/samaritan/test.html","excerpt":"","text":""},{"title":"guestbook","date":"2019-04-20T10:28:28.000Z","updated":"2019-04-20T10:30:14.977Z","comments":true,"path":"guestbook/index.html","permalink":"https://shulu520.com/guestbook/index.html","excerpt":"","text":""},{"title":"js","date":"2019-04-16T18:00:45.000Z","updated":"2019-04-16T18:00:45.870Z","comments":true,"path":"js/index.html","permalink":"https://shulu520.com/js/index.html","excerpt":"","text":""},{"title":"tags","date":"2019-04-20T01:52:59.000Z","updated":"2019-04-20T05:55:51.245Z","comments":true,"path":"tags/index.html","permalink":"https://shulu520.com/tags/index.html","excerpt":"","text":""},{"title":"","date":"2019-04-25T17:29:18.446Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/js/annyang.min.js","permalink":"https://shulu520.com/samaritan/js/annyang.min.js","excerpt":"","text":"//! annyang //! version : 2.4.0 //! author : Tal Ater @TalAter //! license : MIT //! https://www.TalAter.com/annyang/ !function(a,b){\"use strict\";\"function\"==typeof define&&define.amd?define([],function(){return a.annyang=b(a)}):\"object\"==typeof module&&module.exports?module.exports=b(a):a.annyang=b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){\"use strict\";var c,d=a.SpeechRecognition||a.webkitSpeechRecognition||a.mozSpeechRecognition||a.msSpeechRecognition||a.oSpeechRecognition;if(!d)return null;var e,f,g=[],h={start:[],error:[],end:[],result:[],resultMatch:[],resultNoMatch:[],errorNetwork:[],errorPermissionBlocked:[],errorPermissionDenied:[]},i=0,j=!1,k=\"font-weight: bold; color: #00f;\",l=!1,m=!1,n=/\\s*\\((.*?)\\)\\s*/g,o=/(\\(\\?:[^)]+\\))\\?/g,p=/(\\(\\?)?:\\w+/g,q=/\\*\\w+/g,r=/[\\-{}\\[\\]+?.,\\\\\\^$|#]/g,s=function(a){return a=a.replace(r,\"\\\\$&\").replace(n,\"(?:$1)?\").replace(p,function(a,b){return b?a:\"([^\\\\s]+)\"}).replace(q,\"(.*?)\").replace(o,\"\\\\s*$1?\\\\s*\"),new RegExp(\"^\"+a+\"$\",\"i\")},t=function(a){var b=Array.prototype.slice.call(arguments,1);a.forEach(function(a){a.callback.apply(a.context,b)})},u=function(){return e!==b},v=function(){u()||c.init({},!1)},w=function(a,b,c){g.push({command:a,callback:b,originalPhrase:c}),j&&console.log(\"Command successfully loaded: %c\"+c,k)},x=function(a){t(h.result,a);for(var b,c=0;cd;d++){var f=g[d],i=f.command.exec(b);if(i){var l=i.slice(1);return j&&(console.log(\"command matched: %c\"+f.originalPhrase,k),l.length&&console.log(\"with parameters\",l)),f.callback.apply(this,l),void t(h.resultMatch,b,f.originalPhrase,a)}}}t(h.resultNoMatch,a)};return c={init:function(k,n){n=n===b?!0:!!n,e&&e.abort&&e.abort(),e=new d,e.maxAlternatives=5,e.continuous=\"http:\"===a.location.protocol,e.lang=\"en-US\",e.onstart=function(){m=!0,t(h.start)},e.onerror=function(a){switch(t(h.error),a.error){case\"network\":t(h.errorNetwork);break;case\"not-allowed\":case\"service-not-allowed\":f=!1,t((new Date).getTime()-ia?setTimeout(c.start,1e3-a):c.start()}},e.onresult=function(a){if(l)return j&&console.log(\"Speech heard, but annyang is paused\"),!1;for(var b=a.results[a.resultIndex],c=[],d=0;d0?!!a:!0},setLanguage:function(a){v(),e.lang=a},addCommands:function(b){var c;v();for(var d in b)if(b.hasOwnProperty(d))if(c=a[b[d]]||b[d],\"function\"==typeof c)w(s(d),c,d);else{if(!(\"object\"==typeof c&&c.regexp instanceof RegExp)){j&&console.log(\"Can not register command: %c\"+d,k);continue}w(new RegExp(c.regexp.source,\"i\"),c.callback,d)}},removeCommands:function(a){return a===b?void(g=[]):(a=Array.isArray(a)?a:[a],void(g=g.filter(function(b){for(var c=0;c"},{"title":"","date":"2019-04-25T17:29:18.510Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/js/phraselist.js","permalink":"https://shulu520.com/samaritan/js/phraselist.js","excerpt":"","text":"var phraselist = [ \"I will protect you now\", \"What are your commands ?\", \"Investigation ongoing\", \"Calculating Response\", \"There is no alternative.\", \"Find the Machine\", \"Stop it. Now.\" ]"},{"title":"","date":"2019-04-25T17:29:18.388Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/css/style.css","permalink":"https://shulu520.com/samaritan/css/style.css","excerpt":"","text":"@font-face { font-family: magdacleanmono; src: url(font/magdacleanmono-bold.ttf); } body { color: #FFF; background-color: #000; height: 100%; width: 100%; height: 100%; position: fixed; margin: 0; padding: 0; text-align: center; } p { font-family:\"magdacleanmono\"; font-size: 2em; text-transform: uppercase; display: block !important; } #main { position: absolute; display: block; width: 100%; bottom: 50%; } #main hr { width: 30px; /* default initial size */ border-top: 2px solid #FFF; border-bottom: none; } #main p, #main hr { margin-top: 0; margin-bottom: 0; } #main p.hidden { color: #000; } #marker { position: absolute; display: block; width: 100%; top: 50%; vertical-align: top; } #triangle { color: #F00; font-size: 2em; font-family: \"magdacleanmono\"; } #settings { width: 30px; height: 30px; font-size: 10px; position: absolute; bottom: 0px; right: 0px; color: #444; } @media(min-width: 900px){ #main p.hidden { color: #fff; } body { color: #000 !important; background-color: #fff; } #main hr { border-top: 2px solid #000; } body, html { background-color: rgba(0, 0, 0, 0.56); background: -moz-radial-gradient(center, ellipse cover, rgba(255,255,255,0.56) 0%, rgba(127,127,127,1) 100%); background: -webkit-gradient(radial, center center, 0px, center center, 100%, color-stop(0%,rgba(255,255,255,0.56)), color-stop(100%,rgba(127,127,127,1))); background: -webkit-radial-gradient(center, ellipse cover, rgba(255,255,255,0.56) 0%,rgba(127,127,127,1) 100%); background: -o-radial-gradient(center, ellipse cover, rgba(255,255,255,0.56) 0%,rgba(127,127,127,1) 100%); background: -ms-radial-gradient(center, ellipse cover, rgba(255,255,255,0.56) 0%,rgba(127,127,127,1) 100%); background: radial-gradient(center, ellipse cover, rgba(255,255,255,0.56) 0%,rgba(127,127,127,1) 100%); } }"},{"title":"","date":"2019-04-25T17:29:18.490Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/js/main.js","permalink":"https://shulu520.com/samaritan/js/main.js","excerpt":"","text":"$(document).ready(function(){ samaritanModule.start(); speechModule.start(); // var baseSpeed = 8770; // var scrollBarInterval = 3000; // var imageInterval = 537; // // var leftRatio = Math.random() / 2 + 1.1; // // setInterval(function(){ // var image = $(''); // $('body').append(image); // image.attr('style', 'position: fixed; left: 20vw; top: 2000px; z-index: -1;'); // image.velocity({ // top: '-2000px' // }, baseSpeed * leftRatio, 'linear', function(){ // image.remove(); // }); // // // }, imageInterval * leftRatio); // // setInterval(function(){ // var scrollbar = $(''); // $('body').append(scrollbar); // scrollbar.attr('style', 'position: fixed; left: 10vw; top: 2000px; z-index: -1;'); // scrollbar.velocity({ // top: '-2000px' // }, baseSpeed * leftRatio, 'linear', function(){ // scrollbar.remove(); // }); // }, scrollBarInterval * leftRatio); // // var rightRatio = Math.random() / 2 + 1.1; // // setInterval(function(){ // var image = $(''); // $('body').append(image); // image.attr('style', 'position: fixed; right: 20vw; top: 2000px; z-index: -1;'); // image.velocity({ // top: '-2000px' // }, baseSpeed * rightRatio, 'linear', function(){ // image.remove(); // }); // // // }, imageInterval * rightRatio); // // setInterval(function(){ // var scrollbar = $(''); // $('body').append(scrollbar); // scrollbar.attr('style', 'position: fixed; right: 10vw; top: 2000px; z-index: -1; transform: scaleX(-1); filter: FlipH;'); // scrollbar.velocity({ // top: '-2000px' // }, baseSpeed * rightRatio, 'linear', function(){ // scrollbar.remove(); // }); // }, scrollBarInterval * rightRatio); });"},{"title":"","date":"2019-04-25T17:29:18.584Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/js/screenfull.min.js","permalink":"https://shulu520.com/samaritan/js/screenfull.min.js","excerpt":"","text":"/*! * screenfull * v1.2.0 - 2014-04-29 * (c) Sindre Sorhus; MIT License */ !function(){\"use strict\";var a=\"undefined\"!=typeof module&&module.exports,b=\"undefined\"!=typeof Element&&\"ALLOW_KEYBOARD_INPUT\"in Element,c=function(){for(var a,b,c=[[\"requestFullscreen\",\"exitFullscreen\",\"fullscreenElement\",\"fullscreenEnabled\",\"fullscreenchange\",\"fullscreenerror\"],[\"webkitRequestFullscreen\",\"webkitExitFullscreen\",\"webkitFullscreenElement\",\"webkitFullscreenEnabled\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"webkitRequestFullScreen\",\"webkitCancelFullScreen\",\"webkitCurrentFullScreenElement\",\"webkitCancelFullScreen\",\"webkitfullscreenchange\",\"webkitfullscreenerror\"],[\"mozRequestFullScreen\",\"mozCancelFullScreen\",\"mozFullScreenElement\",\"mozFullScreenEnabled\",\"mozfullscreenchange\",\"mozfullscreenerror\"],[\"msRequestFullscreen\",\"msExitFullscreen\",\"msFullscreenElement\",\"msFullscreenEnabled\",\"MSFullscreenChange\",\"MSFullscreenError\"]],d=0,e=c.length,f={};e>d;d++)if(a=c[d],a&&a[1]in document){for(d=0,b=a.length;b>d;d++)f[c[0][d]]=a[d];return f}return!1}(),d={request:function(a){var d=c.requestFullscreen;a=a||document.documentElement,/5\\.1[\\.\\d]* Safari/.test(navigator.userAgent)?a[d]():a[d](b&&Element.ALLOW_KEYBOARD_INPUT)},exit:function(){document[c.exitFullscreen]()},toggle:function(a){this.isFullscreen?this.exit():this.request(a)},onchange:function(){},onerror:function(){},raw:c};return c?(Object.defineProperties(d,{isFullscreen:{get:function(){return!!document[c.fullscreenElement]}},element:{enumerable:!0,get:function(){return document[c.fullscreenElement]}},enabled:{enumerable:!0,get:function(){return!!document[c.fullscreenEnabled]}}}),document.addEventListener(c.fullscreenchange,function(a){d.onchange.call(d,a)}),document.addEventListener(c.fullscreenerror,function(a){d.onerror.call(d,a)}),void(a?module.exports=d:window.screenfull=d)):void(a?module.exports=!1:window.screenfull=!1)}();"},{"title":"","date":"2019-04-25T17:29:18.619Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/js/speech.js","permalink":"https://shulu520.com/samaritan/js/speech.js","excerpt":"","text":"var speechModule = (function () { var _writeWrapper = function (msg) { return function () { samaritanModule.write(msg); }; }; var _flickrSearchUrl = 'https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=c359958b98a60fc24acdc9b2e3f11c90&format=json&per_page=20&tags='; var _flickrSearch = function(name){ samaritanModule.write('searching for ' + name); // console.log(_flickrSearchUrl + name); $.ajax({ url: _flickrSearchUrl + name, type: 'GET', dataType: 'json' }).always(function(data){ // console.log(data.responseText.substring(18, data.responseText.length - 1)); //18 var photos = JSON.parse(data.responseText.substring(14, data.responseText.length - 1)).photos.photo; //console.log(photos); var photosURL = []; for(var i = 0; i < photos.length; i++){ photosURL.push('https://farm' + photos[i].farm +'.static.flickr.com/' + photos[i].server + '/' + photos[i].id + '_' + photos[i].secret + '.jpg'); } console.log(photosURL); samaritanModule.showImages(photosURL); }); } var _commands = { 'locate the machine': _writeWrapper('Target can not be reached !'), 'where are you': _writeWrapper(\"I am everywhere , i am god\"), 'who am I': _writeWrapper(\"Asset\"), 'who are you': _writeWrapper('i am samaritan !'), 'find Finch': _writeWrapper('Locating Harold Finch ?'), 'yes': _writeWrapper('yes what ?'), 'no': _writeWrapper('ok then what is your suggestion ?'), 'what are you': _writeWrapper('i am samaritan !'), 'turn off': _writeWrapper('shutdown initiated'), 'restart': _writeWrapper('initiating reboot sequence'), 'who created you': _writeWrapper(\"it's irrelevant\"), 'who won': _writeWrapper('team machine'), 'find (me) *name': _flickrSearch, 'search (for) *name': _flickrSearch, 'show (me) *name': _flickrSearch, //repeats everything if it's not one of the above '*phrase': function (phrase) { samaritanModule.write(phrase); } }; //PUBLIC ********************************** var start = function () { if (annyang) { setTimeout(function () { samaritanModule.writeFromUrl(); samaritanModule.write('what are your commands ?'); }, 10000); annyang.addCommands(_commands); annyang.start(); } else { setTimeout(function () { samaritanModule.writeFromUrl(); samaritanModule.write('speech recognition not supported in this browser !'); }, 10000); } }; return { start: start }; })();"},{"title":"","date":"2019-04-25T17:29:18.533Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/js/samaritan.js","permalink":"https://shulu520.com/samaritan/js/samaritan.js","excerpt":"","text":"var samaritanModule = (function () { _$State = { isText: false, wordTime: 750, // Time to display a word wordAnim: 150, // Time to animate a word randomInterval: 18000, lastRandomIndex: -1, randomTimer: null, lastMouseUp: -1 }; // From Stack Overflow // http://stackoverflow.com/questions/1582534/calculating-text-width-with-jquery $.fn.textWidth = function () { var html_org = $(this).html(); var html_calc = '' + html_org + ''; $(this).html(html_calc); var width = $(this).find('span:first').width(); $(this).html(html_org); return width; }; // http://stackoverflow.com/questions/19491336/get-url-parameter-jquery var _getUrlParameter = function(sParam) { var sPageURL = window.location.search.substring(1); var sURLVariables = sPageURL.split('&'); for (var i = 0; i < sURLVariables.length; i++) { var sParameterName = sURLVariables[i].split('='); if (sParameterName[0] == sParam) { return sParameterName[1]; } } } var _processMessageFromHash = function() { var message = decodeURIComponent(window.location.hash.slice(1)); if (message) { setTimeout(function () { write(message); }, _$State.wordTime); } } var _blinkTriangle = function () { // Stop blinking if samaritan is in action if (_$State.isText) return; _$State.triangle.fadeTo(500, 0).fadeTo(500, 1, _blinkTriangle); } var _runRandomPhrase = function () { // Get a random phrase and makes samaritan write var randomIndex = 0; if (_$State.phraselist.length > 1) { if (_getUrlParameter('random') == 'false') { //if random parameter is set to false if (_$State.lastRandomIndex + 1 != _$State.phraselist.length) { //if it's not the last one randomIndex = _$State.lastRandomIndex + 1; } } else { randomIndex = Math.floor(Math.random() * (_$State.phraselist.length - 0)); while (randomIndex == _$State.lastRandomIndex) randomIndex = Math.floor(Math.random() * (_$State.phraselist.length - 0)); } } _$State.lastRandomIndex = randomIndex; write(_$State.phraselist[randomIndex]); } var _randomTimePhrase = function () { if (_$State.randomTimer !== null) clearTimeout(_$State.randomTimer); var randomTime = Math.floor(Math.random() * (3000 - 0)); randomTime += _$State.randomInterval; _$State.randomTimer = setTimeout(_runRandomPhrase, randomTime); } //PUBLIC ******************************* var start = function () { $('#interface').hide(); setTimeout(function () { $('#boot-screen').fadeOut(2400); $('#interface').fadeIn(2400); }, 7000); // Cache the jquery things _$State.triangle = $('#triangle'); _$State.text = $('#main p'); _$State.line = $('#main hr'); // Start the triangle blinking _blinkTriangle(); // Store the phrase list in the state if (_$State.phraselist !== undefined) phraselist = phraselist.concat(_$State.phraselist); _$State.phraselist = phraselist; $(document).bind(\"mouseup\", function () { if ((Date.now() - _$State.lastMouseUp) 8) wordTime *= (word.length / 8); setTimeout(function () { // Set the text to black, and put in the word // so that the length can be measured _$State.text.addClass('hidden').html(word); // Then animate the line with extra padding _$State.line.animate({ 'width': (_$State.text.textWidth() + 18) + \"px\" }, { 'duration': _$State.wordAnim, // When line starts anmating, set text to white again 'start': _$State.text.removeClass('hidden') }) }, (timeStart + _$State.wordAnim)); timeStart += wordTime; }); // Set a final timer to hide text and show triangle setTimeout(function () { // Clear the text _$State.text.html(\"\"); // Animate trinagle back in _$State.triangle.finish().animate({ 'font-size': '2em', 'opacity': '1' }, { 'duration': _$State.wordAnim, // Once complete, blink the triangle again and animate the line to original size 'done': function () { _$State.isText = false; _randomTimePhrase(); _blinkTriangle(); _$State.line.animate({ 'width': \"30px\" }, { 'duration': _$State.wordAnim, 'start': _$State.text.removeClass('hidden') }) } }); }, timeStart + _$State.wordTime); } }) }; // write function var showImages = function (imagesURL) { var baseSpeed = 8770; var scrollBarInterval = 3000; var imageInterval = 1337; var leftRatio = Math.random() / 2 + 1.3; setTimeout(function(){ var intervalLeftImages = setInterval(function(){ if(imagesURL.length == 0){ clearInterval(intervalLeftScroll); return; } //style bugs on chrome on fixed images var image = $(''); $('body').append(image); image.attr('style', 'position: fixed; left: 20vw; top: 2000px; z-index: -1;'); image.velocity({ top: '-2000px' }, baseSpeed * leftRatio, 'linear', function(){ image.remove(); }); }, imageInterval * leftRatio); }, scrollBarInterval); var intervalLeftScroll = setInterval(function(){ if(imagesURL.length == 0){ clearInterval(intervalLeftScroll); return; } var scrollbar = $(''); $('body').append(scrollbar); scrollbar.attr('style', 'position: fixed; left: 10vw; top: 2000px; z-index: -1;'); scrollbar.velocity({ top: '-2000px' }, baseSpeed * leftRatio, 'linear', function(){ scrollbar.remove(); }); }, scrollBarInterval * leftRatio); var rightRatio = Math.random() / 2 + 1.3; setTimeout(function(){ var intervalRightImages = setInterval(function(){ if(imagesURL.length == 0){ clearInterval(intervalLeftScroll); return; } //style bugs on chrome on fixed images var image = $(''); $('body').append(image); image.attr('style', 'position: fixed; right: 20vw; top: 2000px; z-index: -1;'); image.velocity({ top: '-2000px' }, baseSpeed * rightRatio, 'linear', function(){ image.remove(); }); }, imageInterval * rightRatio); }, scrollBarInterval); var intervalRightScroll = setInterval(function(){ if(imagesURL.length == 0){ clearInterval(intervalLeftScroll); return; } var scrollbar = $(''); $('body').append(scrollbar); scrollbar.attr('style', 'position: fixed; right: 10vw; top: 2000px; z-index: -1; transform: scaleX(-1); filter: FlipH;'); scrollbar.velocity({ top: '-2000px' }, baseSpeed * rightRatio, 'linear', function(){ scrollbar.remove(); }); }, scrollBarInterval * rightRatio); } var writeFromUrl = function () { var urlMsg = _getUrlParameter('msg'); if (urlMsg !== undefined) { urlMsg = urlMsg.split('%20').join(' ').split('%22').join('').split('%27').join(\"'\"); write(urlMsg); } else { _processMessageFromHash(); } // Show a new message whenever the URL fragment changes $(window).on('hashchange', _processMessageFromHash); } return { start: start, write: write, showImages: showImages, writeFromUrl: writeFromUrl }; })();"},{"title":"","date":"2019-04-25T17:29:18.665Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/js/velocity.min.js","permalink":"https://shulu520.com/samaritan/js/velocity.min.js","excerpt":"","text":"/*! VelocityJS.org (1.2.3). (C) 2014 Julian Shapiro. MIT @license: en.wikipedia.org/wiki/MIT_License */ /*! VelocityJS.org jQuery Shim (1.0.1). (C) 2014 The jQuery Foundation. MIT @license: en.wikipedia.org/wiki/MIT_License. */ !function(a){function b(a){var b=a.length,d=c.type(a);return\"function\"===d||c.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===d||0===b||\"number\"==typeof b&&b>0&&b-1 in a}if(!a.jQuery){var c=function(a,b){return new c.fn.init(a,b)};c.isWindow=function(a){return null!=a&&a==a.window},c.type=function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?e[g.call(a)]||\"object\":typeof a},c.isArray=Array.isArray||function(a){return\"array\"===c.type(a)},c.isPlainObject=function(a){var b;if(!a||\"object\"!==c.type(a)||a.nodeType||c.isWindow(a))return!1;try{if(a.constructor&&!f.call(a,\"constructor\")&&!f.call(a.constructor.prototype,\"isPrototypeOf\"))return!1}catch(d){return!1}for(b in a);return void 0===b||f.call(a,b)},c.each=function(a,c,d){var e,f=0,g=a.length,h=b(a);if(d){if(h)for(;g>f&&(e=c.apply(a[f],d),e!==!1);f++);else for(f in a)if(e=c.apply(a[f],d),e===!1)break}else if(h)for(;g>f&&(e=c.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=c.call(a[f],f,a[f]),e===!1)break;return a},c.data=function(a,b,e){if(void 0===e){var f=a[c.expando],g=f&&d[f];if(void 0===b)return g;if(g&&b in g)return g[b]}else if(void 0!==b){var f=a[c.expando]||(a[c.expando]=++c.uuid);return d[f]=d[f]||{},d[f][b]=e,e}},c.removeData=function(a,b){var e=a[c.expando],f=e&&d[e];f&&c.each(b,function(a,b){delete f[b]})},c.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for(\"boolean\"==typeof h&&(k=h,h=arguments[i]||{},i++),\"object\"!=typeof h&&\"function\"!==c.type(h)&&(h={}),i===j&&(h=this,i--);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(c.isPlainObject(d)||(b=c.isArray(d)))?(b?(b=!1,g=a&&c.isArray(a)?a:[]):g=a&&c.isPlainObject(a)?a:{},h[e]=c.extend(k,g,d)):void 0!==d&&(h[e]=d));return h},c.queue=function(a,d,e){function f(a,c){var d=c||[];return null!=a&&(b(Object(a))?!function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;)a[e++]=b[d++];if(c!==c)for(;void 0!==b[d];)a[e++]=b[d++];return a.length=e,a}(d,\"string\"==typeof a?[a]:a):[].push.call(d,a)),d}if(a){d=(d||\"fx\")+\"queue\";var g=c.data(a,d);return e?(!g||c.isArray(e)?g=c.data(a,d,f(e)):g.push(e),g):g||[]}},c.dequeue=function(a,b){c.each(a.nodeType?[a]:a,function(a,d){b=b||\"fx\";var e=c.queue(d,b),f=e.shift();\"inprogress\"===f&&(f=e.shift()),f&&(\"fx\"===b&&e.unshift(\"inprogress\"),f.call(d,function(){c.dequeue(d,b)}))})},c.fn=c.prototype={init:function(a){if(a.nodeType)return this[0]=a,this;throw new Error(\"Not a DOM node.\")},offset:function(){var b=this[0].getBoundingClientRect?this[0].getBoundingClientRect():{top:0,left:0};return{top:b.top+(a.pageYOffset||document.scrollTop||0)-(document.clientTop||0),left:b.left+(a.pageXOffset||document.scrollLeft||0)-(document.clientLeft||0)}},position:function(){function a(){for(var a=this.offsetParent||document;a&&\"html\"===!a.nodeType.toLowerCase&&\"static\"===a.style.position;)a=a.offsetParent;return a||document}var b=this[0],a=a.apply(b),d=this.offset(),e=/^(?:body|html)$/i.test(a.nodeName)?{top:0,left:0}:c(a).offset();return d.top-=parseFloat(b.style.marginTop)||0,d.left-=parseFloat(b.style.marginLeft)||0,a.style&&(e.top+=parseFloat(a.style.borderTopWidth)||0,e.left+=parseFloat(a.style.borderLeftWidth)||0),{top:d.top-e.top,left:d.left-e.left}}};var d={};c.expando=\"velocity\"+(new Date).getTime(),c.uuid=0;for(var e={},f=e.hasOwnProperty,g=e.toString,h=\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),i=0;ie;++e){var f=j(c,a,d);if(0===f)return c;var g=i(c,a,d)-b;c-=g/f}return c}function l(){for(var b=0;t>b;++b)x[b]=i(b*u,a,d)}function m(b,c,e){var f,g,h=0;do g=c+(e-c)/2,f=i(g,a,d)-b,f>0?e=g:c=g;while(Math.abs(f)>r&&++h=q?k(b,h):0==i?h:m(b,c,c+u)}function o(){y=!0,(a!=c||d!=e)&&l()}var p=4,q=.001,r=1e-7,s=10,t=11,u=1/(t-1),v=\"Float32Array\"in b;if(4!==arguments.length)return!1;for(var w=0;4>w;++w)if(\"number\"!=typeof arguments[w]||isNaN(arguments[w])||!isFinite(arguments[w]))return!1;a=Math.min(a,1),d=Math.min(d,1),a=Math.max(a,0),d=Math.max(d,0);var x=v?new Float32Array(t):new Array(t),y=!1,z=function(b){return y||o(),a===c&&d===e?b:0===b?0:1===b?1:i(n(b),c,e)};z.getControlPoints=function(){return[{x:a,y:c},{x:d,y:e}]};var A=\"generateBezier(\"+[a,c,d,e]+\")\";return z.toString=function(){return A},z}function j(a,b){var c=a;return p.isString(a)?t.Easings[a]||(c=!1):c=p.isArray(a)&&1===a.length?h.apply(null,a):p.isArray(a)&&2===a.length?u.apply(null,a.concat([b])):p.isArray(a)&&4===a.length?i.apply(null,a):!1,c===!1&&(c=t.Easings[t.defaults.easing]?t.defaults.easing:s),c}function k(a){if(a){var b=(new Date).getTime(),c=t.State.calls.length;c>1e4&&(t.State.calls=e(t.State.calls));for(var f=0;c>f;f++)if(t.State.calls[f]){var h=t.State.calls[f],i=h[0],j=h[2],n=h[3],o=!!n,q=null;n||(n=t.State.calls[f][3]=b-16);for(var r=Math.min((b-n)/j.duration,1),s=0,u=i.length;u>s;s++){var w=i[s],y=w.element;if(g(y)){var z=!1;if(j.display!==d&&null!==j.display&&\"none\"!==j.display){if(\"flex\"===j.display){var A=[\"-webkit-box\",\"-moz-box\",\"-ms-flexbox\",\"-webkit-flex\"];m.each(A,function(a,b){v.setPropertyValue(y,\"display\",b)})}v.setPropertyValue(y,\"display\",j.display)}j.visibility!==d&&\"hidden\"!==j.visibility&&v.setPropertyValue(y,\"visibility\",j.visibility);for(var B in w)if(\"element\"!==B){var C,D=w[B],E=p.isString(D.easing)?t.Easings[D.easing]:D.easing;if(1===r)C=D.endValue;else{var F=D.endValue-D.startValue;if(C=D.startValue+F*E(r,j,F),!o&&C===D.currentValue)continue}if(D.currentValue=C,\"tween\"===B)q=C;else{if(v.Hooks.registered[B]){var G=v.Hooks.getRoot(B),H=g(y).rootPropertyValueCache[G];H&&(D.rootPropertyValue=H)}var I=v.setPropertyValue(y,B,D.currentValue+(0===parseFloat(C)?\"\":D.unitType),D.rootPropertyValue,D.scrollData);v.Hooks.registered[B]&&(g(y).rootPropertyValueCache[G]=v.Normalizations.registered[G]?v.Normalizations.registered[G](\"extract\",null,I[1]):I[1]),\"transform\"===I[0]&&(z=!0)}}j.mobileHA&&g(y).transformCache.translate3d===d&&(g(y).transformCache.translate3d=\"(0px, 0px, 0px)\",z=!0),z&&v.flushTransformCache(y)}}j.display!==d&&\"none\"!==j.display&&(t.State.calls[f][2].display=!1),j.visibility!==d&&\"hidden\"!==j.visibility&&(t.State.calls[f][2].visibility=!1),j.progress&&j.progress.call(h[1],h[1],r,Math.max(0,n+j.duration-b),n,q),1===r&&l(f)}}t.State.isTicking&&x(k)}function l(a,b){if(!t.State.calls[a])return!1;for(var c=t.State.calls[a][0],e=t.State.calls[a][1],f=t.State.calls[a][2],h=t.State.calls[a][4],i=!1,j=0,k=c.length;k>j;j++){var l=c[j].element;if(b||f.loop||(\"none\"===f.display&&v.setPropertyValue(l,\"display\",f.display),\"hidden\"===f.visibility&&v.setPropertyValue(l,\"visibility\",f.visibility)),f.loop!==!0&&(m.queue(l)[1]===d||!/\\.velocityQueueEntryFlag/i.test(m.queue(l)[1]))&&g(l)){g(l).isAnimating=!1,g(l).rootPropertyValueCache={};var n=!1;m.each(v.Lists.transforms3D,function(a,b){var c=/^scale/.test(b)?1:0,e=g(l).transformCache[b];g(l).transformCache[b]!==d&&new RegExp(\"^\\\\(\"+c+\"[^.]\").test(e)&&(n=!0,delete g(l).transformCache[b])}),f.mobileHA&&(n=!0,delete g(l).transformCache.translate3d),n&&v.flushTransformCache(l),v.Values.removeClass(l,\"velocity-animating\")}if(!b&&f.complete&&!f.loop&&j===k-1)try{f.complete.call(e,e)}catch(o){setTimeout(function(){throw o},1)}h&&f.loop!==!0&&h(e),g(l)&&f.loop===!0&&!b&&(m.each(g(l).tweensContainer,function(a,b){/^rotate/.test(a)&&360===parseFloat(b.endValue)&&(b.endValue=0,b.startValue=360),/^backgroundPosition/.test(a)&&100===parseFloat(b.endValue)&&\"%\"===b.unitType&&(b.endValue=0,b.startValue=100)}),t(l,\"reverse\",{loop:!0,delay:f.delay})),f.queue!==!1&&m.dequeue(l,f.queue)}t.State.calls[a]=!1;for(var p=0,q=t.State.calls.length;q>p;p++)if(t.State.calls[p]!==!1){i=!0;break}i===!1&&(t.State.isTicking=!1,delete t.State.calls,t.State.calls=[])}var m,n=function(){if(c.documentMode)return c.documentMode;for(var a=7;a>4;a--){var b=c.createElement(\"div\");if(b.innerHTML=\"\",b.getElementsByTagName(\"span\").length)return b=null,a}return d}(),o=function(){var a=0;return b.webkitRequestAnimationFrame||b.mozRequestAnimationFrame||function(b){var c,d=(new Date).getTime();return c=Math.max(0,16-(d-a)),a=d+c,setTimeout(function(){b(d+c)},c)}}(),p={isString:function(a){return\"string\"==typeof a},isArray:Array.isArray||function(a){return\"[object Array]\"===Object.prototype.toString.call(a)},isFunction:function(a){return\"[object Function]\"===Object.prototype.toString.call(a)},isNode:function(a){return a&&a.nodeType},isNodeList:function(a){return\"object\"==typeof a&&/^\\[object (HTMLCollection|NodeList|Object)\\]$/.test(Object.prototype.toString.call(a))&&a.length!==d&&(0===a.length||\"object\"==typeof a[0]&&a[0].nodeType>0)},isWrapped:function(a){return a&&(a.jquery||b.Zepto&&b.Zepto.zepto.isZ(a))},isSVG:function(a){return b.SVGElement&&a instanceof b.SVGElement},isEmptyObject:function(a){for(var b in a)return!1;return!0}},q=!1;if(a.fn&&a.fn.jquery?(m=a,q=!0):m=b.Velocity.Utilities,8>=n&&!q)throw new Error(\"Velocity: IE8 and below require jQuery to be loaded before Velocity.\");if(7>=n)return void(jQuery.fn.velocity=jQuery.fn.animate);var r=400,s=\"swing\",t={State:{isMobile:/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),isAndroid:/Android/i.test(navigator.userAgent),isGingerbread:/Android 2\\.3\\.[3-7]/i.test(navigator.userAgent),isChrome:b.chrome,isFirefox:/Firefox/i.test(navigator.userAgent),prefixElement:c.createElement(\"div\"),prefixMatches:{},scrollAnchor:null,scrollPropertyLeft:null,scrollPropertyTop:null,isTicking:!1,calls:[]},CSS:{},Utilities:m,Redirects:{},Easings:{},Promise:b.Promise,defaults:{queue:\"\",duration:r,easing:s,begin:d,complete:d,progress:d,display:d,visibility:d,loop:!1,delay:!1,mobileHA:!0,_cacheValues:!0},init:function(a){m.data(a,\"velocity\",{isSVG:p.isSVG(a),isAnimating:!1,computedStyle:null,tweensContainer:null,rootPropertyValueCache:{},transformCache:{}})},hook:null,mock:!1,version:{major:1,minor:2,patch:2},debug:!1};b.pageYOffset!==d?(t.State.scrollAnchor=b,t.State.scrollPropertyLeft=\"pageXOffset\",t.State.scrollPropertyTop=\"pageYOffset\"):(t.State.scrollAnchor=c.documentElement||c.body.parentNode||c.body,t.State.scrollPropertyLeft=\"scrollLeft\",t.State.scrollPropertyTop=\"scrollTop\");var u=function(){function a(a){return-a.tension*a.x-a.friction*a.v}function b(b,c,d){var e={x:b.x+d.dx*c,v:b.v+d.dv*c,tension:b.tension,friction:b.friction};return{dx:e.v,dv:a(e)}}function c(c,d){var e={dx:c.v,dv:a(c)},f=b(c,.5*d,e),g=b(c,.5*d,f),h=b(c,d,g),i=1/6*(e.dx+2*(f.dx+g.dx)+h.dx),j=1/6*(e.dv+2*(f.dv+g.dv)+h.dv);return c.x=c.x+i*d,c.v=c.v+j*d,c}return function d(a,b,e){var f,g,h,i={x:-1,v:0,tension:null,friction:null},j=[0],k=0,l=1e-4,m=.016;for(a=parseFloat(a)||500,b=parseFloat(b)||20,e=e||null,i.tension=a,i.friction=b,f=null!==e,f?(k=d(a,b),g=k/e*m):g=m;;)if(h=c(h||i,g),j.push(1+h.x),k+=16,!(Math.abs(h.x)>l&&Math.abs(h.v)>l))break;return f?function(a){return j[a*(j.length-1)|0]}:k}}();t.Easings={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},spring:function(a){return 1-Math.cos(4.5*a*Math.PI)*Math.exp(6*-a)}},m.each([[\"ease\",[.25,.1,.25,1]],[\"ease-in\",[.42,0,1,1]],[\"ease-out\",[0,0,.58,1]],[\"ease-in-out\",[.42,0,.58,1]],[\"easeInSine\",[.47,0,.745,.715]],[\"easeOutSine\",[.39,.575,.565,1]],[\"easeInOutSine\",[.445,.05,.55,.95]],[\"easeInQuad\",[.55,.085,.68,.53]],[\"easeOutQuad\",[.25,.46,.45,.94]],[\"easeInOutQuad\",[.455,.03,.515,.955]],[\"easeInCubic\",[.55,.055,.675,.19]],[\"easeOutCubic\",[.215,.61,.355,1]],[\"easeInOutCubic\",[.645,.045,.355,1]],[\"easeInQuart\",[.895,.03,.685,.22]],[\"easeOutQuart\",[.165,.84,.44,1]],[\"easeInOutQuart\",[.77,0,.175,1]],[\"easeInQuint\",[.755,.05,.855,.06]],[\"easeOutQuint\",[.23,1,.32,1]],[\"easeInOutQuint\",[.86,0,.07,1]],[\"easeInExpo\",[.95,.05,.795,.035]],[\"easeOutExpo\",[.19,1,.22,1]],[\"easeInOutExpo\",[1,0,0,1]],[\"easeInCirc\",[.6,.04,.98,.335]],[\"easeOutCirc\",[.075,.82,.165,1]],[\"easeInOutCirc\",[.785,.135,.15,.86]]],function(a,b){t.Easings[b[0]]=i.apply(null,b[1])});var v=t.CSS={RegEx:{isHex:/^#([A-f\\d]{3}){1,2}$/i,valueUnwrap:/^[A-z]+\\((.*)\\)$/i,wrappedValueAlreadyExtracted:/[0-9.]+ [0-9.]+ [0-9.]+( [0-9.]+)?/,valueSplit:/([A-z]+\\(.+\\))|(([A-z0-9#-.]+?)(?=\\s|$))/gi},Lists:{colors:[\"fill\",\"stroke\",\"stopColor\",\"color\",\"backgroundColor\",\"borderColor\",\"borderTopColor\",\"borderRightColor\",\"borderBottomColor\",\"borderLeftColor\",\"outlineColor\"],transformsBase:[\"translateX\",\"translateY\",\"scale\",\"scaleX\",\"scaleY\",\"skewX\",\"skewY\",\"rotateZ\"],transforms3D:[\"transformPerspective\",\"translateZ\",\"scaleZ\",\"rotateX\",\"rotateY\"]},Hooks:{templates:{textShadow:[\"Color X Y Blur\",\"black 0px 0px 0px\"],boxShadow:[\"Color X Y Blur Spread\",\"black 0px 0px 0px 0px\"],clip:[\"Top Right Bottom Left\",\"0px 0px 0px 0px\"],backgroundPosition:[\"X Y\",\"0% 0%\"],transformOrigin:[\"X Y Z\",\"50% 50% 0px\"],perspectiveOrigin:[\"X Y\",\"50% 50%\"]},registered:{},register:function(){for(var a=0;a"},{"title":"","date":"2019-04-25T17:29:18.483Z","updated":"2019-04-09T12:28:11.000Z","comments":true,"path":"samaritan/js/jquery-1.11.0.min.js","permalink":"https://shulu520.com/samaritan/js/jquery-1.11.0.min.js","excerpt":"","text":"/*! jQuery v1.11.0 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */ !function(a,b){\"object\"==typeof module&&\"object\"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error(\"jQuery requires a window with a document\");return b(a)}:b(a)}(\"undefined\"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k=\"\".trim,l={},m=\"1.11.0\",n=function(a,b){return new n.fn.init(a,b)},o=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,p=/^-ms-/,q=/-([\\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:\"\",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return n.each(this,a,b)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for(\"boolean\"==typeof g&&(j=g,g=arguments[h]||{},h++),\"object\"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(e=arguments[h]))for(d in e)a=g[d],c=e[d],g!==c&&(j&&c&&(n.isPlainObject(c)||(b=n.isArray(c)))?(b?(b=!1,f=a&&n.isArray(a)?a:[]):f=a&&n.isPlainObject(a)?a:{},g[d]=n.extend(j,f,c)):void 0!==c&&(g[d]=c));return g},n.extend({expando:\"jQuery\"+(m+Math.random()).replace(/\\D/g,\"\"),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return\"function\"===n.type(a)},isArray:Array.isArray||function(a){return\"array\"===n.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return a-parseFloat(a)>=0},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||\"object\"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;try{if(a.constructor&&!j.call(a,\"constructor\")&&!j.call(a.constructor.prototype,\"isPrototypeOf\"))return!1}catch(c){return!1}if(l.ownLast)for(b in a)return j.call(a,b);for(b in a);return void 0===b||j.call(a,b)},type:function(a){return null==a?a+\"\":\"object\"==typeof a||\"function\"==typeof a?h[i.call(a)]||\"object\":typeof a},globalEval:function(b){b&&n.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(p,\"ms-\").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=s(a);if(c){if(g){for(;f>e;e++)if(d=b.apply(a[e],c),d===!1)break}else for(e in a)if(d=b.apply(a[e],c),d===!1)break}else if(g){for(;f>e;e++)if(d=b.call(a[e],e,a[e]),d===!1)break}else for(e in a)if(d=b.call(a[e],e,a[e]),d===!1)break;return a},trim:k&&!k.call(\"\\ufeff\\xa0\")?function(a){return null==a?\"\":k.call(a)}:function(a){return null==a?\"\":(a+\"\").replace(o,\"\")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,\"string\"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g)return g.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d)a[e++]=b[d++];if(c!==c)while(void 0!==b[d])a[e++]=b[d++];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,f=0,g=a.length,h=s(a),i=[];if(h)for(;g>f;f++)d=b(a[f],f,c),null!=d&&i.push(d);else for(f in a)d=b(a[f],f,c),null!=d&&i.push(d);return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return\"string\"==typeof b&&(f=a[b],b=a,a=f),n.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||n.guid++,e):void 0},now:function(){return+new Date},support:l}),n.each(\"Boolean Number String Function Array Date RegExp Object Error\".split(\" \"),function(a,b){h[\"[object \"+b+\"]\"]=b.toLowerCase()});function s(a){var b=a.length,c=n.type(a);return\"function\"===c||n.isWindow(a)?!1:1===a.nodeType&&b?!0:\"array\"===c||0===b||\"number\"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=\"sizzle\"+-new Date,t=a.document,u=0,v=0,w=eb(),x=eb(),y=eb(),z=function(a,b){return a===b&&(j=!0),0},A=\"undefined\",B=1"}],"posts":[{"title":"myfriends","slug":"myfriends","date":"2019-04-23T15:03:21.000Z","updated":"2019-04-26T05:20:59.934Z","comments":true,"path":"start/myfriends/","link":"","permalink":"https://shulu520.com/start/myfriends/","excerpt":"终于等到你：来了就好好逛逛，这里既是我的学习园地，也是我的精神家园，欢迎常来看看。友情提示：请不要对我的女神动手动脚的，她可是有脾气的⊙∀⊙！，可以点击女神书桌上的聊天按钮（手机上要双击哦）与博主在线嗨撩，快来试试吧。","text":"终于等到你：来了就好好逛逛，这里既是我的学习园地，也是我的精神家园，欢迎常来看看。友情提示：请不要对我的女神动手动脚的，她可是有脾气的⊙∀⊙！，可以点击女神书桌上的聊天按钮（手机上要双击哦）与博主在线嗨撩，快来试试吧。 将进酒唐代：李白君不见，黄河之水天上来，奔流到海不复回。君不见，高堂明镜悲白发，朝如青丝暮成雪。人生得意须尽欢，莫使金樽空对月。天生我材必有用，千金散尽还复来。烹羊宰牛且为乐，会须一饮三百杯。岑夫子，丹丘生，将进酒，杯莫停。与君歌一曲，请君为我倾耳听。钟鼓馔玉不足贵，但愿长醉不复醒。古来圣贤皆寂寞，惟有饮者留其名。陈王昔时宴平乐，斗酒十千恣欢谑。主人何为言少钱，径须沽取对君酌。五花马，千金裘，呼儿将出换美酒，与尔同销万古愁。","categories":[{"name":"start","slug":"start","permalink":"https://shulu520.com/categories/start/"}],"tags":[]},{"title":"H5-music","slug":"guigu-h5-music","date":"2019-04-22T14:19:33.000Z","updated":"2019-04-26T05:18:51.023Z","comments":true,"path":"H5/guigu-h5-music/","link":"","permalink":"https://shulu520.com/H5/guigu-h5-music/","excerpt":"面向对象面向君，不负代码不负卿。","text":"面向对象面向君，不负代码不负卿。 第一天 像素 适配 图片加载太慢，后面要用纯文字代替，记得更新 rem最终适配代码 123456;(function()&#123; var styleNode = document.createElement(&quot;style&quot;); var w = document.documentElement.clientWidth/16; styleNode.innerHTML=&quot;html&#123;font-size:&quot;+w+&quot;px!important&#125;&quot; document.head.appendChild(styleNode);&#125;)() 1物理像素的实现 用媒体查询的方法 一般用伪元素来做123456789101112131415161718192021222324252627282930313233343536&lt;!DOCTYPE html&gt;&lt;html&gt; &lt;head&gt; &lt;meta charset=&quot;UTF-8&quot;&gt; &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width,initial-scale=1.0&quot;/&gt; &lt;style type=&quot;text/css&quot;&gt; *&#123; margin: 0; padding: 0; &#125; #test:before&#123; position: absolute; bottom: 0px; content: &quot;&quot;; display: block; width: 100%; height: 1px; background: black; &#125; @media only screen and (-webkit-device-pixel-ratio:2 ) &#123; #test:before&#123; transform: scaleY(.5); &#125; &#125; @media only screen and (-webkit-device-pixel-ratio:3 ) &#123; #test:before&#123; transform: scaleY(.33333333333); &#125; &#125; &lt;/style&gt; &lt;/head&gt; &lt;body&gt; &lt;div id=&quot;test&quot;&gt;&lt;/div&gt; &lt;/body&gt;&lt;/html&gt; 第二天 移动端基础事件 querySelectorAll() 匹配满足选择器的所有元素 改变dom结构后一定得再次获取 1234567891011window.onload=function()&#123; //querySelectorAll:获取静态列表 var itemNodes = document.querySelectorAll(&quot;.item&quot;); // 第一次获取 console.log(itemNodes.length) document.body.innerHTML+=&quot;&lt;div class=&apos;item&apos;&gt;&lt;/div&gt;&quot;; itemNodes = document.querySelectorAll(&quot;.item&quot;); // 改变dom结构后一定得再次获取 console.log(itemNodes) for(var i=0;i&lt;itemNodes.length;i++)&#123; itemNodes[i].style.background=&quot;pink&quot;; &#125;&#125; querySelector 获取 querySelectorAll 匹配到的第一个 触屏事件 监听用 addEventListenerpc端12345678910 touchstart mousedown touchmove mousemove 不可能单独触发 可以单独触发 touchend mouseupwindow.onload=function()&#123; var item = document.querySelector(&quot;.item&quot;); item.addEventListener(&quot;touchstart&quot;,function()&#123; console.log(&quot;touchstart&quot;) &#125;)&#125; 移动端事件默认行为 长按选中，橡皮筋效果（下拉）等 全面禁止事件默认行为 在 touchstart事件上，即手指触摸上去的时候就开始禁止 一上来就这段代码，全面禁止事件默认行为12345678910window.onload=function()&#123; document.addEventListener(&quot;touchstart&quot;,function(ev)&#123; ev=ev||event; ev.preventDefault();&#125;)// 单独按需开启 item.addEventListener(&quot;touchstart&quot;,function(ev)&#123; ev=ev||event; ev.stopPropagation();&#125;) 右键菜单的阻止与开启 与自定义右键 全局阻止右键1234567891011121314151617181920212223242526272829 document.oncontextmenu=function()&#123; return false; &#125;// 单独按需开启浏览器的右键菜单 var inner = document.querySelector(&quot;#inner&quot;); inner.oncontextmenu=function(ev)&#123; ev.stopPropagation();&#125;// 也可以自定义右键菜单window.onload=function()&#123; document.oncontextmenu=function(ev)&#123; ev = ev||event; var x = ev.clientX; var y = ev.clientY; var wrap =document.querySelector(&quot;#wrap&quot;); wrap.style.display=&quot;block&quot;; wrap.style.left = x+&quot;px&quot;; wrap.style.top = y+&quot;px&quot;; return false; &#125; // 单击消失 document.onclick=function()&#123; var wrap =document.querySelector(&quot;#wrap&quot;); wrap.style.display=&quot;none&quot;; &#125;&#125; 事件点透 pc端的事件可以在移动端触发 PC端事件有300毫秒延迟 移动端事件不会有延迟 移动端 a 标签跳转方案 并解决误触 123456789101112131415161718192021 // 阻止事件默认行为 document.addEventListener(&quot;touchstart&quot;,function(ev)&#123; ev=ev||event; ev.preventDefault(); &#125;) //移动端a标签的跳转方案 解决误触 var aNodes = document.querySelectorAll(&quot;a&quot;); for(var i=0;i&lt;aNodes.length;i++)&#123; aNodes[i].addEventListener(&quot;touchstart&quot;,function()&#123; this.isMoved=false; &#125;) aNodes[i].addEventListener(&quot;touchmove&quot;,function()&#123; this.isMoved=true; &#125;) aNodes[i].addEventListener(&quot;touchend&quot;,function()&#123; if(!this.isMoved)&#123; location.href=this.href; &#125; &#125;) &#125;&#125; event : //changedTouches: 触发当前事件的手指列表, 最常用//targetTouches: 触发当前事件时元素上的手指列表//touches: 触发当前事件时屏幕上的手指列表常见问题 及解决方法 禁止电话与邮箱,添加标签 1&lt;meta name=&quot;format-detection&quot; content=&quot;telephone=no,email=no&quot;/&gt; 按需开启 电话与邮箱 12 &lt;a href=&quot;tel:1383838438&quot;&gt;1383838438&lt;/a&gt;&lt;a href=&quot;mailto:2642816105@qq.com&quot;&gt;2642816105&lt;/a&gt; 解决连接按钮高亮问题 1234a &#123; text-decoration:none; // 去下划线 webkit-tap-highlight-color:rgba(0,0,0,0); // 去背景高亮，只需字体高亮&#125; 解决圆角过圆的问题 加属性 webkit-appearance:none 即可 fontboosting 的问题 及显示的字体与设置的大小不一致的现象，加属性 max-height:999999px;即可 无缝华屏 移动端清除浮动：父元素ul元素上加 overflow:hidden 即可 表单：表单高亮：outline:none; 表单内阴影：boder:none; 划屏相关 在谁上面划，即划屏包裹slide-wrapper 划的内容 即slide-content 元素排到一行的方法 浮动 父容器宽度不够会自动换行 另一种技巧 父容器white-space :nowrap; 子元素: display: inline-block;橡皮筋效果 减少每次move 的有效距离，最终的有效距离还是一直在增大 混合 继承 可以单独定义一系列通用的样式，在需要的时候进行调用。从而减少代码的重复 混合：简单 1234567891011121314151617181920&lt;!-- 定义混合 --&gt;.mixin()&#123; &lt;!-- 规则集 --&gt;&#125;&lt;!-- 使用混合 --&gt;#text1&#123; &lt;!-- 相当于将规则集里面的代码cv到这里 --&gt; &lt;!-- 每次使用都是将代码复制到相应位置 --&gt; &lt;!-- 使用几次就有几处相同的代码 --&gt; .mixin();&#125;#text2&#123; .mixin();&#125;#text3&#123; .mixin();&#125;&lt;!-- 多处使用相同的混合 这样写好一点-（手动写）-&gt;#text1,#text2,#text3&#123; .mixin() &#125; 继承：性能好一点 1234567891011121314151617&lt;!-- 定义继承 --&gt;.extend&#123; &lt;!-- 规则集 --&gt;&#125;&lt;!-- 使用继承 --&gt;#text1&#123; &amp;::extend(.extend);&#125;#text2&#123; &amp;::extend(.extend);&#125;#text3&#123; &amp;::extend(.extend);&#125;&lt;!-- 最终编译为 --&gt;#text1,#text2,#text3&#123; &lt;!-- 规则集 ，相当于将规则集里面的代码cv到这里--&gt;&#125;","categories":[{"name":"H5","slug":"H5","permalink":"https://shulu520.com/categories/H5/"}],"tags":[{"name":"H5-music","slug":"H5-music","permalink":"https://shulu520.com/tags/H5-music/"}]},{"title":"vue-note","slug":"vuenote","date":"2019-04-17T12:00:21.954Z","updated":"2019-04-26T05:20:42.885Z","comments":true,"path":"vue/vuenote/","link":"","permalink":"https://shulu520.com/vue/vuenote/","excerpt":"人生即在于体验，而体验源于去尝试，去折腾，去改变，去塑新。要知道：过一个平凡无趣的人生实在太容易了，你可以不读书，不冒险，不运动，不写作，不外出，不折腾……但是，人生最后悔的事情就是：我本可以。生活也好，职场也罢，亦同此理；编程则更如其是。","text":"人生即在于体验，而体验源于去尝试，去折腾，去改变，去塑新。要知道：过一个平凡无趣的人生实在太容易了，你可以不读书，不冒险，不运动，不写作，不外出，不折腾……但是，人生最后悔的事情就是：我本可以。生活也好，职场也罢，亦同此理；编程则更如其是。 Vue 的特点 遵循 MVVM 模式 即MVVM 模式的一种实现 编码简洁, 体积小, 运行效率高, 适合移动/PC 端开发 它本身只关注 UI, 可以轻松引入 vue 插件（依赖vue）或其它第三库(不依赖vue)开发项目 MVVM 的理解 M 即 model 模型, 数据对象（data） V 即 view 视图，模板页面 VM 即 viewModel 视图模型 是vue的实例 dom监听 数据绑定 组件 即 局部功能界面 ，是提供某一完整功能的模块模板的理解：动态的html页面，包含了一些js语法代码vue 扩展组件 vue-cli: vue 脚手架 axios: ajax 请求 vue-router: 路由 vuex: 状态管 vue-lazyload: 图片懒加载 vue-scroller: 页面滑动相关 mint-ui: 基于 vue 的 UI 组件库(移动端) element-ui: 基于 vue 的 UI 组件库(PC 端) 编程方式 命令式 如 jquery 声明式 如 vue数组的扩展-array.some()和array.every()区别 ome():方法用于检测数组中的元素是否有满足指定条件的，若满足返回true，否则返回false； every():方法用于检测数组中所有元素是否都符合指定条件，若符合返回true，否则返回false；挂载元素app new Vue({ el :’#app’ }); new vue({}).$moute(‘#app’) 用于单元测试vue 指令 v-bind 即 : 强制 动态 数据绑定（属性） v-on 即 @ 绑定事件监听 v-html 内部innerHTML XSS攻击 内容必须是可信赖的 vue 计算属性 computed 什么时候执行 ： 初始化显示，/ 相关的data 数据属性发生变化时触发 各个方法的返回值作为相关的属性值 get 回调函数，当需要读取当前属性值的时候回调，计算并返回当前属性的值 set 回调函数，监视当前属性值的变化，当属性值变化时回调，更新相关的属性数据 计算属性，存在缓存，多次读取，只调用一次getter计算，性能好, 全选时可用计算属性 vue 的方法 methods 我们可以将同一函数定义为一个方法而不是一个计算属性。两种方式的最终结果确实是完全相同的。 然而，不同的是计算属性是基于它们的依赖进行缓存的。只在相关依赖发生改变时它们才会重新求值 相比之下，每当触发重新渲染时，调用方法将总会再次执行函数 如果你不希望有缓存，请用方法来替代 vue 的watch 虽然计算属性在大多数情况下更合适，但有时也需要一个自定义的侦听器 当需要在数据变化时执行异步或开销较大的操作时，这个方式是最有用的 绑定 style class :class=”xxx” xxx是字符串或对象 :style=”xxx” xxx是对象 对象更新 完全跟新 即重新写这个对象 补充更新 vm.$set(要跟新的对象名,补充的属性名,属性值) 数组更新检测 变异方法（vue重写原生的方法）即以下这些方法已不再是原生的方法 push pop shift unshift splice sort reverse 使用它们会触发视图更新 注意事项： 利用索引直接设置一个项时/修改数组的长度时 vue不能检测到数组变化 常用事件修饰符 阻止事件冒泡 如@click.stop=”XXX” 传统方法 e.stopPropagation 取消事件默认行为 如 @click.prevent=”xxx” 传统方法 e.preventDefault @click.once=”xxx” 点击事件将只会触发一次 常用按键修饰符 抬起某键时，执行操作 如按回车 @keyup.enter=”xxx” 鼠标修饰符 left right middle 系统修饰键 可以用如下修饰符来实现仅在按下相应按键时才触发鼠标或键盘事件的监听器。 ctrl alt shift meta 表单数据的自动收集 使用 v-model vue实例的 生命周期（钩子函数） 大致有三个阶段 初始化阶段 beforeCreate created beforeMount mounted 只执行一次 更新阶段 beforeUpdate updated 执行N次 销毁阶段 beforeDestory destoryed 常用的有1：mounted （挂载方法） 发送Ajax 请求,获取真实dom ，执行定时器等异步任务2： `beforeDestory` 收尾工作，如清除定时器，解绑操作等 vue 过渡&amp;动画 过渡 ：transition 显示时的效果：xxx-enter-active{…} 隐藏时的效果 ：xxx-leave-active{…} 其中xxx表示 transition元素的name 属性值 动画 ：animation 过滤 vue.filter(‘自定义函数名’，() =&gt; {…}) 指令 ref 为某个元素指定一个唯一的标识，vue对象通过$refs属性访问这个元素对象 v-cloak 防止闪现表达式 与css属性选择器配合 [v-cloak] {display:none} 自定义指令 全局指令： vue.directive(‘指令名’，function(el,binding){…}) 参数el指属性所在的标签对象 binding包含指令相关的数据对象 局部指令： 在vue实例选项中配置directives:{‘指令名’，(el,binding) =&gt; {…},others} vue 自定义插件 plugin Vue 插件是一个包含 install 方法的对象 1234567891011121314151617181920 自定义 Vue 插件 包在匿名函数自执行里面(function () &#123; const MyPlugin = &#123;&#125;; MyPlugin.install = function (Vue, options) &#123; // 1. 添加全局方法或属性 Vue.myGlobalMethod = function () &#123; alert(&apos;Vue 函数对象方法执行&apos;) &#125;; // 2. 添加全局资源 Vue.directive(&apos;my-directive&apos;, function (el, binding) &#123; el.innerHTML = &quot;MyPlugin my-directive &quot; + binding.value &#125;); // 3. 添加实例方法 Vue.prototype.$myMethod = function () &#123; alert(&apos;vue 实例对象方法执行&apos;) &#125;; &#125; window.MyPlugin = MyPlugin;&#125;)() 页面使用插件1234567891011121314151617181920212223&lt;div id=&quot;demo&quot;&gt;&lt;!--使用自定义指令--&gt;&lt;p v-my-directive=&quot;msg&quot;&gt;&lt;/p&gt;&lt;/div&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;../js/vue.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot; src=&quot;vue-myPlugin.js&quot;&gt;&lt;/script&gt;&lt;script type=&quot;text/javascript&quot;&gt;//声明使用自定义插件Vue.use(MyPlugin)var vm = new Vue(&#123;el: &apos;#demo&apos;,data: &#123;msg: &apos;atguigu&apos;&#125;&#125;)//调用自定义的静态方法Vue.myGlobalMethod()//调用自定义的对象方法vm.$myMethod()&lt;/script&gt; vue 组件 全局组件 局部组件vue 组件间通信 父传向子 props 在组件内声明所有的 props 方式一: 只指定名称props: [‘name’, ‘age’, ‘setName’] 方式二: 指定名称和类型props: { name: String, age: Number, setNmae: Function} 方式三: 指定名称/类型/必要性/默认值props: { name: {type: String, required: true, default:xxx},}问题: a. 如果需要向非子后代传递数据必须多层逐层传递 b. 兄弟组件间也不能直接 props 通信, 必须借助父组件才可以 属性校验 123456789101112 要校验的 props : &#123; msg :&#123; type :Number, validator (value)&#123; //validator 属性校验器，可以自定义属性校验 return value &gt; 3; &#125; &#125; arr :&#123; type :Array, default :() =&gt; ([1,2,3]) // 属性校验中，如果是`数组/对象` 需要将默认值返回 &#125;&#125; 子传向父 通过自定义事件 绑定事件监听 // 方式一: 通过 v-on 绑定 @delete_todo=”deleteTodo” // 方式二: 通过$on() this.$refs.xxx.$on(‘delete_todo’, function (todo) { this.deleteTodo(todo) }) 触发事件 // 触发事件(只能在父组件中接收) this.$emit(eventName, data) 问题: 隔代组件或兄弟组件间通信此种方式不合适 vue 自定义事件 我的理解 子组件中 @click=”add” methods 里面 是具体的add方法干的事情 add里面最终 通过this.$emit(&quot;add&quot;,this.msg)通知父级我触发了此事件 并传值给父组件 父组件中 监听@add=”addCounter” methods里面定义addCounter要干啥事，用一个形参接收子组件传来的值 消息订阅与发布(PubSubJS 库) 订阅消息 —-&gt;事件监听 PubSub.subscribe(‘msg’, function(msg, data){}) 发布消息 —–&gt;触发事件 PubSub.publish(‘msg’, data) 优点: 此方式可实现任意关系组件间通信(数据) slot(插槽，占位的) 此方式用于父组件向子组件传递标签数据4.2 复用性 使用 父组件中：xxx 对应的标签结构 子组件中：不确定的标签结构 1 插槽对应的方法属性等定义在父组件中，子组件只是使用罢了 模块导出为函数还是对象的依据要看模块向外暴露一个功能还是多个功能 一个功能即函数 多个功能则对象 ，因为对象可以包含多个方法 ajax 插件相关知识 下载插件 引入插件 声明使用插件 即 Vue.use(名字) 方式一：vue-resource 内部会给vm对象和组件对象添加一个属性：$http $http 有两个方法 get() ,post() 方式二：axios vue.2.X 下载 npm install axios –save // 直接引入模块使用，不用声明 在哪里使用在哪里引入12345678import axios from &apos;axios&apos; // 发送 ajax 请求axios.get(url).then(response =&gt; &#123; console.log(response.data) // 得到返回结果数据&#125;).catch(error =&gt; &#123; console.log(error.message)&#125;) 数组方法之map方法的特点：数组里面的对象变，但数组对象的个数不变组件名称 路由相关 开发中分为路由组件和非路由组件 路由组件 名称为 views 或 pages 非路由组件 名称为 components 路由器模块命名为router建立index.js文件 路由器模块: src/router/index.js 引入vue import Vue from ‘vue’ 引入VueRouter import VueRouter from ‘vue-router’ 注册使用VueRouter Vue.use(VueRouter) 导出一个VueRouter实例 1234567891011 export default new VueRouter(&#123; routes 数组， routes: [ // 路由配置 k即（path） 和value即（component） &#123; path: &apos;/&apos;, redirect: &apos;/about&apos; &#125;, &#123; path: &apos;/about&apos;, component: About &#125;, ]&#125;) 注册路由器: main.js 1234567 import Vue from &apos;vue&apos; import router from &apos;./router&apos; // 创建 vue 配置路由器new Vue(&#123; el: &apos;#app&apos;, router, render: h =&gt; h(app)&#125;) 使用路由组件标签 12345&lt;!--路由链接--&gt;&lt;router-link to=&quot;/about&quot;&gt;About&lt;/router-link&gt;&lt;router-link to=&quot;/home&quot;&gt;Home&lt;/router-link&gt;&lt;!--用于渲染当前路由组件--&gt;&lt;router-view&gt;&lt;/router-view&gt; 子路由 children path可以写全或 直接写当前的路由名字（简化写法） 缓存路由组件对象 默认情况下, 被切换的路由组件对象会死亡释放, 再次回来时是重新创建的 如果可以缓存路由组件对象, 可以提高用户体验123&lt;keep-alive&gt; &lt;router-view&gt;&lt;/router-view&gt;&lt;/keep-alive&gt; 向路由组件传递数据 方式 1: 路由路径携带参数(param/query) 配置路由 12345children: [&#123; path: &apos;mdetail/:id&apos;, component: MessageDetail&#125;] 路由路径 1&lt;router-link :to=&quot;&apos;/home/message/mdetail/&apos;+m.id&quot;&gt;&#123;&#123;m.title&#125;&#125;&lt;/router-link&gt; 路由组件中读取请求参数 1this.$route.params.id 方式 2: 属性携带数据1&lt;router-view :msg=&quot;msg&quot;&gt;&lt;/router-view&gt; 编程式路由导航 即用js 的方法实现而非 标签方式 相关 API 栈的结构 this.$router.push(path): 相当于点击路由链接(可以返回到当前路由界面) this.$router.replace(path): 用新路由替换当前路由(不可以返回到当前路由界面) this.$router.back(): 请求(返回)上一个记录路由 this.$router.go(-1): 请求(返回)上一个记录路由 this.$router.go(1): 请求下一个记录路由 栈 队列 例子 ： 喝醉酒后站着从上面出来即为栈 call 方法调用 让一个函数成为指定对象的方法进行调用 slice.call(lis) 即让slice函数成为lis的方法进行调用 vue 源码分析知识点分析 vue 作为一个 MVVM 框架的基本实现原理####. 准备知识 1 [].slice.call(lis): 将伪数组转换为真数组 slice 方法有浅拷贝的用法，表示截取一部分，不传参数的话就是拷贝原数组 这样更好 Array.prototype.slice.call(lis) 2 node.nodeType: 得到节点类型 节点类型：常用的 document // 文档 Element //元素节点 节点类型 nodeType === 1; Attr //属性 Text //文本 documentFragment // 文档碎片 3 Object.defineProperty(obj, propName, {}): 给对象添加/修改属性(指定描述符) vue 数据代理的核心语法，不支持ie8，面试题 属性描述符： 数据描述符： configurable: true/false 是否可以重新 define enumerable: true/false 是否可以枚举(for..in / keys()) value: 指定初始值 writable: true/false value 是否可以修改 访问描述符：vue的计算属性就是利用get set 方法 get: 回调函数, 根据其他相关的属性动态计算得到当前属性值，根据相关的属性更新（得到）当前的属性 set: 回调函数, 监视当前属性值的变化，更新相关的属性值 ，根据当前的属性更新相关的属性 Object.keys(obj): 得到对象自身可枚举的属性名的数组 obj.hasOwnProperty(prop): 判断 prop 是否是 obj 自身的属性 DocumentFragment: 文档碎片(高效批量更新多个节点) 传言啊 这个 childNodes是正统属性 亲生的 而这个children是野孩子 这个野孩子比较随意 所以用它返回来的就只有DOM元素了 其他的文字啥的 都不返回 而 childNodes比较讲究 事无巨细 都要返回来 但是我还是觉得野孩子乖 所以也获得了几乎所有浏览器的支持 如果你想要DOM节点 直接用野孩子就可以了 id1234 &lt;li&gt;test1&lt;/li&gt; &lt;li&gt;test2&lt;/li&gt; &lt;li&gt;test3&lt;/li&gt;&lt;/ul&gt; 12345678910111213141516let list = document.getElementById(&quot;list&quot;); // 1. 创建文档碎片 let fragment = document.createDocumentFragment(); // 2. 取出ul中 所有 子节点保存到fragment中 //Array.prototype.slice.call(list.children).forEach(element =&gt; &#123; fragment.appendChild(element); &#125;); // 3.修改fragment中的每一个子元素的内容 Array.prototype.slice.call(fragment.children).forEach(element =&gt; &#123; element.textContent = &apos;舒璐&apos;; &#125;); // 4.将文档碎片插入到list中 list.appendChild(fragment); 数据代理的实现基本实现流程 通过 Object.defineProperty()给 vm 添加与 data 对象的属性对应的属性描述符 所有添加的属性都包含 getter/setter getter/setter 内部去操作 data 中对应的属性数据12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152相当于Vue的构造函数function MVVM(options) &#123; // 将选项对象保存到vm this.$options = options; // 将data对象保存到vm和datq变量中 var data = this._data = this.$options.data; //将vm保存在me变量中 var me = this; // 遍历data中所有属性 Object.keys(data).forEach(function (key) &#123; // 属性名: name // 对指定属性实现代理 me._proxy(key); &#125;); // 对data进行监视 observe(data, this); // 创建一个用来编译模板的compile对象 this.$compile = new Compile(options.el || document.body, this)&#125;MVVM.prototype = &#123; $watch: function (key, cb, options) &#123; new Watcher(this, key, cb); &#125;, // 对指定属性实现代理 _proxy: function (key) &#123; // 保存vm var me = this; // 给vm添加指定属性名的属性(使用属性描述) Object.defineProperty(me, key, &#123; configurable: false, // 不能再重新定义 enumerable: true, // 可以枚举 // 当通过vm.name读取属性值时自动调用 get: function proxyGetter() &#123; // 读取data中对应属性值返回(实现代理读操作) return me._data[key]; &#125;, // 当通过vm.name = &apos;xxx&apos;时自动调用 set: function proxySetter(newVal) &#123; // 将最新的值保存到data中对应的属性上(实现代理写操作) me._data[key] = newVal; &#125; &#125;); &#125;&#125;; 其中最关键的部分为 Object.defineProperty(me, key, { configurable: false, // 不能再重新定义 enumerable: true, // 可以枚举 // 当通过vm.name读取属性值时自动调用 get: function proxyGetter() {// 读取data中对应属性值返回(实现代理读操作) return me._data[key]; }, // 当通过vm.name = ‘xxx’时自动调用 set: function proxySetter(newVal) {// 将最新的值保存到data中对应的属性上(实现代理写操作) me._data[key] = newVal; }}); 模板解析 嵌套调用: a里面调用b,b里面调用c 递归: a 里面调用 a ,a继续调用a即特殊的嵌套调用 模板解析的基本流程 1)将 el 的所有子节点取出, 添加到一个新建的文档 fragment 对象中 2)对 fragment 中的所有层次子节点递归进行编译解析处理 对大括号表达式文本节点进行解析 对元素节点的指令属性进行解析 事件指令解析 一般指令解析 3) 将解析后的 fragment 添加到 el 中显示 模板解析(1): 大括号表达式解析&lt;p&gt;&lt;/p&gt; 根据正则对象得到匹配出的表达式字符串: 子匹配/RegExp.$1 name 从 data 中取出表达式对应的属性值 将属性值设置为文本节点的 textContent 模板解析(2): 事件指令解析从指令名中取出事件名 根据指令的值(表达式)从 methods 中得到对应的事件处理函数对象 给当前元素节点绑定指定事件名和回调函数的 dom 事件监听 指令解析完后, 移除此指令属性 模板解析(3): 一般指令解析得到指令名和指令值(表达式) text/html/class msg/myClass 从 data 中根据表达式得到对应的值 根据指令名确定需要操作元素节点的什么属性 v-text—textContent 属性 v-html—innerHTML 属性 v-class–className 属性 4) 将得到的表达式的值设置到对应的属性上 5) 移除元素的指令属性 call apply bind JavaScript 的一大特点是， 函数存在「定义时上下文」和「运行时上下文」以及「上下文是可以改变的」这样的概念 apply 、 call 、bind 三者都是用来改变函数的this对象的指向的； apply 、 call 、bind 三者第一个参数都是this要指向的对象，也就是想指定的上下文； apply 、 call 、bind 三者都可以利用后续参数传参； bind 是返回对应函数，便于稍后调用；apply 、call 则是立即调用 。 call 需要把参数按顺序传递进去，而 apply 则是把参数放在数组里 bind()最简单的用法是创建一个函数，使这个函数不论怎么调用都有同样的this值。 常见的错误就像，将方法从对象中拿出来，然后调用，并且希望this指向原来的对象。 如果不做特殊处理，一般会丢失原来的对象。用bind方法可以 数据绑定 简单地说，就是数据更新，界面改变。 一旦更新了 data 中的某个属性数据, 所有界面上直接使用或间接使用了此属性的节点+更新 数据劫持 数据劫持是 vue 中用来实现数据绑定的一种技术 基本思想: 通过 defineProperty()来监视 data 中所有属性(任意层次)数据的变化, 一旦变化就去更新界面 初始化显示：页面（表达式/指令）能从data中读取数据显示（编译/解析） 更新显示：更新data中的属性数据，.&gt;&gt;&gt; 页面更新 图中黑线表示初始化，红线表示更新时触发 双向数据绑定 双向数据绑定是建立在单向数据绑定(model==&gt;View)的基础之上的 双向数据绑定的实现流程: 在解析 v-model 指令时, 给当前元素添加 input 监听(input事件会在value属性值发生改变时触发，通过js改变value属性值不会触发此事件。只有IE8以上或者谷歌火狐等标准浏览器支持。) 当 input 的 value 发生改变时, 将最新的值赋值给当前表达式所对应的 data 属性 vuex 是vue 的一个插件 简单来说: 对 vue 应用中多个组件的共享状态进行集中式的管理(读/写) 状态自管理应用 state: 驱动应用的数据源（data） view: 以声明方式将 state 映射到视图(模板界面) actions:（在vue中是函数） 响应在 view 上的用户输入导致的状态变化 (包含 n 个*更新状态的方法*) ![](vuenote_files/2.jpg) 多组件共享状态的问题 多个视图依赖于同一状态 来自不同视图的行为需要变更同一状态 以前的解决办 将数据以及操作数据的行为都定义在父组件 将数据以及操作数据的行为传递给需要的各个子组件(有可能需要多级传递) vuex 就是用来解决这个问题的 vuex 核心概念和 API state vuex 管理的状态对象,它应该是唯一的 mutations 包含多个直接更新 state 的方法(回调函数)的对象 谁来触发: action 中的 commit(&apos;mutation 名称&apos;) 只能包含同步的代码, 不能写异步代码 const mutations = { yyy (state, {data1}) { // 更新 state 的某个属性 } } vuex 人生管理哲学，哈哈State:想一想，你现在心里在意哪些事？ Mutation目标导向: 写下目标，直接改变State Action阶段性执行： 写下行动 ，执行一个个Matation、异步函数、和其它阶段性执行。 Getters: 写下其它指标，根据现有的state得到其他的指标 mapState和mapGetters必须在computed中访问，因为它们返回的是对象，所以需要用拓展符…进行展开。 mapActions则是将Action挂载到methods上，也需要用拓展符…进行展开。 组件中的mapActions([“increment”])与actions 中 increment 函数名一样actions 中 commit(“INCREMENT”)与mutations 中 INCREMENT函数名一样大写的函数名只是为了区分各个函数 可以定义一个mutation-type.js","categories":[{"name":"vue","slug":"vue","permalink":"https://shulu520.com/categories/vue/"}],"tags":[]},{"title":"less-note","slug":"less","date":"2019-04-17T12:00:21.909Z","updated":"2019-04-26T05:20:08.768Z","comments":true,"path":"less/less/","link":"","permalink":"https://shulu520.com/less/less/","excerpt":"君子生非异也，善假于物也.","text":"君子生非异也，善假于物也. less 即css预处理器 vscode 编辑器 下载插件 easy less 声明编码集 @charset “utf-8”声明变量 声明变量(原始值类型) @bb:#ff0000; 使用变量 color:@bb; 声明变量（路劲类型） @img:”../images”; 使用变量 background-image:url(“@{img}/1.jpg”) 声明变量(属性类型) @ww:width; 使用变量 @{ww}:100px; 混合方式 带默认参数 定义 .border-r(@radius:5px){ border-radiis:@radius; } 使用 .box{ .border-r; 传参即.border-r(10px); } 接收多个参数 定义 .box-s(@x, @y, @blur, @color){ box-shadow:@arguments; } 使用 .box{ .box-s(3px,4px,5px,red) } color 函数 了解就行 运算 各种可以计算的都可以计算 包括颜色值 支持运算符 + - * / 即加减乘除命名空间 它用于将mixins分组在通用名称下。 使用命名空间可以避免名称冲突，并从外部封装mixin组12345678910111213141516171819202122定义：#bgcolor()&#123; // 加 () 默认不输出 background: #ffffff; .a&#123; color: #888888; &amp;:hover&#123; color: green; &#125; .b&#123; background: red; &#125; &#125;&#125;使用：.bgcolor1&#123; background: yellow; #bgcolor&gt;.a; // &gt;符号表示选中混合中的每一个样式&#125;.bgcolor2&#123; // #bgcolor&gt;.a&gt;.b; #bgcolor .a .b; // 省略写法：将&gt;换成空格即可&#125; 避免编译 我们能在编译后的css文件中看到 它 编译计算之前的样子 最终的编译计算由浏览器来完成 css3中有这样一个函数calc() less里面 123.box&#123; width:~&apos;calc(300px - 10px)&apos;&#125; 编译完的 css 123.box&#123; width:calc(300px - 10px)&#125; !important css 样式中 用来提升优先级（最高） less 中 一样 常用来调试代码 比如 某一段样式不起作用，不知道是继承还是覆盖等造成的 给他加上 !important 还不起作用的话 就说明代码书写有误","categories":[{"name":"less","slug":"less","permalink":"https://shulu520.com/categories/less/"}],"tags":[]},{"title":"haha","slug":"haha","date":"2019-04-17T12:00:21.821Z","updated":"2019-04-26T05:21:43.094Z","comments":true,"path":"start/haha/","link":"","permalink":"https://shulu520.com/start/haha/","excerpt":"","text":"试了好几次，终于可以了 这是二级标题这是三级标题三级标题的内容","categories":[{"name":"start","slug":"start","permalink":"https://shulu520.com/categories/start/"}],"tags":[]}]}