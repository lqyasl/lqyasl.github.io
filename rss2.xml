<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>梦不成</title>
    <link>https://shulu520.com/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>君子生非异也，善假于物也</description>
    <pubDate>Sun, 16 May 2021 15:33:33 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>Matplotlib</title>
      <link>https://shulu520.com/Matplotlib/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8BMatplotlib%E7%AC%94%E8%AE%B0/</link>
      <guid>https://shulu520.com/Matplotlib/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8BMatplotlib%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Sun, 16 May 2021 15:30:40 GMT</pubDate>
      <description>
      
        数据分析图表展示
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="matplotlib图表关系"><a href="#matplotlib图表关系" class="headerlink" title="matplotlib图表关系"></a>matplotlib图表关系</h2><h3 id="matplotlib-gt-pyplot-gt-figure-gt-axes-gt-axis-gt-刻度"><a href="#matplotlib-gt-pyplot-gt-figure-gt-axes-gt-axis-gt-刻度" class="headerlink" title="matplotlib&gt;pyplot&gt;figure&gt;axes&gt;axis&gt;刻度"></a>matplotlib&gt;pyplot&gt;figure&gt;axes&gt;axis&gt;刻度</h3><h3 id="pyplot-是-matplotlib-一个子模块，主要为底层的面向对象的绘图库提供状态机界面。"><a href="#pyplot-是-matplotlib-一个子模块，主要为底层的面向对象的绘图库提供状态机界面。" class="headerlink" title="pyplot 是 matplotlib 一个子模块，主要为底层的面向对象的绘图库提供状态机界面。"></a>pyplot 是 matplotlib 一个子模块，主要为底层的面向对象的绘图库提供状态机界面。</h3><h3 id="Figure-图像窗口-Figure-是包裹-Axes、tiles、legends-等组件的最外层窗口。它其实是一个-Windows-应用窗口-。图是层次结构中级别最高的对象。它对应于整个图形表示，通常可以包含多个轴。"><a href="#Figure-图像窗口-Figure-是包裹-Axes、tiles、legends-等组件的最外层窗口。它其实是一个-Windows-应用窗口-。图是层次结构中级别最高的对象。它对应于整个图形表示，通常可以包含多个轴。" class="headerlink" title="Figure 图像窗口,Figure 是包裹 Axes、tiles、legends 等组件的最外层窗口。它其实是一个 Windows 应用窗口 。图是层次结构中级别最高的对象。它对应于整个图形表示，通常可以包含多个轴。"></a>Figure 图像窗口,Figure 是包裹 Axes、tiles、legends 等组件的最外层窗口。它其实是一个 Windows 应用窗口 。图是层次结构中级别最高的对象。它对应于整个图形表示，通常可以包含多个轴。</h3><h3 id="Axes坐标轴区域，是带有数据的图像区域，它是位于Figure里面。一个-Figure-中可以有多个Axes。包含轴Axis，标题，标签，刻度，图例等小组件。Axes是Figure子容器中最重要的一个子容器。Axes是一个矩形区域，这个矩形是基于figure坐标系统定义的。"><a href="#Axes坐标轴区域，是带有数据的图像区域，它是位于Figure里面。一个-Figure-中可以有多个Axes。包含轴Axis，标题，标签，刻度，图例等小组件。Axes是Figure子容器中最重要的一个子容器。Axes是一个矩形区域，这个矩形是基于figure坐标系统定义的。" class="headerlink" title="Axes坐标轴区域，是带有数据的图像区域，它是位于Figure里面。一个 Figure 中可以有多个Axes。包含轴Axis，标题，标签，刻度，图例等小组件。Axes是Figure子容器中最重要的一个子容器。Axes是一个矩形区域，这个矩形是基于figure坐标系统定义的。"></a>Axes坐标轴区域，是带有数据的图像区域，它是位于Figure里面。一个 Figure 中可以有多个Axes。包含轴Axis，标题，标签，刻度，图例等小组件。Axes是Figure子容器中最重要的一个子容器。Axes是一个矩形区域，这个矩形是基于figure坐标系统定义的。</h3><h3 id="Axis对象考虑要在轴上表示的数值，定义限制，并管理刻度-轴上的标记-和刻度标签-每个刻度上表示的标签文本-。标记的位置由名为Locator的对象调整，而格式化标记标签则由名为Formatter的对象调整。"><a href="#Axis对象考虑要在轴上表示的数值，定义限制，并管理刻度-轴上的标记-和刻度标签-每个刻度上表示的标签文本-。标记的位置由名为Locator的对象调整，而格式化标记标签则由名为Formatter的对象调整。" class="headerlink" title="Axis对象考虑要在轴上表示的数值，定义限制，并管理刻度(轴上的标记)和刻度标签(每个刻度上表示的标签文本)。标记的位置由名为Locator的对象调整，而格式化标记标签则由名为Formatter的对象调整。"></a>Axis对象考虑要在轴上表示的数值，定义限制，并管理刻度(轴上的标记)和刻度标签(每个刻度上表示的标签文本)。标记的位置由名为Locator的对象调整，而格式化标记标签则由名为Formatter的对象调整。</h3><h3 id="subplot该函数创建并返回一个给定网格位置的Axes对象-subplot-233-在二行三列的网格中，第三个位置。是一个Axes的高级封装，方便使用。"><a href="#subplot该函数创建并返回一个给定网格位置的Axes对象-subplot-233-在二行三列的网格中，第三个位置。是一个Axes的高级封装，方便使用。" class="headerlink" title="subplot该函数创建并返回一个给定网格位置的Axes对象,subplot(233),在二行三列的网格中，第三个位置。是一个Axes的高级封装，方便使用。"></a>subplot该函数创建并返回一个给定网格位置的Axes对象,subplot(233),在二行三列的网格中，第三个位置。是一个Axes的高级封装，方便使用。</h3><h3 id="subplots它充当实用程序包装器，并在单个调用中帮助创建子图的公共布局，包括封闭的图形对象。该函数返回一个图形对象figure和一个包含等于nrows-ncols的轴对象的元组，每个轴对象都可通过索引访问。fig-axList-plt-subplots-2-2"><a href="#subplots它充当实用程序包装器，并在单个调用中帮助创建子图的公共布局，包括封闭的图形对象。该函数返回一个图形对象figure和一个包含等于nrows-ncols的轴对象的元组，每个轴对象都可通过索引访问。fig-axList-plt-subplots-2-2" class="headerlink" title="subplots它充当实用程序包装器，并在单个调用中帮助创建子图的公共布局，包括封闭的图形对象。该函数返回一个图形对象figure和一个包含等于nrows * ncols的轴对象的元组，每个轴对象都可通过索引访问。fig, axList =  plt.subplots(2,2)"></a>subplots它充当实用程序包装器，并在单个调用中帮助创建子图的公共布局，包括封闭的图形对象。该函数返回一个图形对象figure和一个包含等于nrows * ncols的轴对象的元组，每个轴对象都可通过索引访问。fig, axList =  plt.subplots(2,2)</h3><h2 id="matplotlib图表窗口"><a href="#matplotlib图表窗口" class="headerlink" title="matplotlib图表窗口"></a>matplotlib图表窗口</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br><span class="line">import matplotlib.pyplot as plt</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 图表窗口1 plt.show()</span><br><span class="line">plt.plot(np.random.rand(10))</span><br><span class="line">plt.show()</span><br><span class="line"></span><br><span class="line"># 图表窗口2 魔法函数 嵌入图表</span><br><span class="line">%matplotlib inline</span><br><span class="line">x=np.random.randn(1000)</span><br><span class="line">y=np.random.randn(1000)</span><br><span class="line">plt.scatter(x,y)</span><br><span class="line"></span><br><span class="line"># 图表窗口3 魔法函数 弹出可交互窗口</span><br><span class="line">%matplotlib notebook</span><br><span class="line">s=pd.Series(np.random.randn(100))</span><br><span class="line">s.plot(style=&apos;k--o&apos;,figsize=(10,5))</span><br><span class="line"></span><br><span class="line"># 图表窗口4 魔法函数 弹出更骚的可交互窗口</span><br><span class="line">%matplotlib qt5</span><br><span class="line">df=pd.DataFrame(np.random.rand(50,2),columns=[&apos;A&apos;,&apos;B&apos;])</span><br><span class="line">df.hist(figsize=(12,5),color=&apos;g&apos;,alpha=0.8)</span><br></pre></td></tr></table></figure><h2 id="图表基本元素"><a href="#图表基本元素" class="headerlink" title="图表基本元素"></a>图表基本元素</h2><ul><li>figsize(6,8) 图表大小</li><li>plt.title(‘标题’)</li><li>plt.xlabel(“angle”, fontsize=20, rotation = -60, color=”r”) x轴标题</li><li>legend(loc=0) 图例 数字0-10表示不同的位置，也对应着关键字</li><li>plt.xlim([0,8]) x轴边界</li><li>plt.xticks(range(10)) x轴刻度</li><li>plt.rcParams[“font.size”] = 15 设置字体大小</li><li>plt.rcParams[“font.sans-serif”]=[“SimHei”] 汉字设置 字体文件已经导入jupyter</li><li>plt.rcParams[“font.sans-serif”]=[“SimHei”] #正常显示中文</li><li>plt.rcParams[“axes.unicode_minus”]=False #正常显示负号</li><li>plt.grid(True,linestyle=’–’,color=’pink’,linewidth=’0.5’,axis=’both’) #创建格网</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"># **中文显示问题与坐标轴负数负号问题**</span><br><span class="line"># 解决过程 </span><br><span class="line"># 查看水木清华天猫数据分析里面的matplotlib.md文档-简单画图那里，并且配合视屏讲解</span><br><span class="line">import numpy as np</span><br><span class="line">import math</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line"># plt使用rc配置文件来自定义图形的各种默认属性，称之为rc配置或rc参数。</span><br><span class="line"># 通过rc参数可以修改默认的属性，</span><br><span class="line"># 包括窗体大小、每英寸的点数、线条宽度、颜色、样式、坐标轴、文本、字体等。</span><br><span class="line"># rc参数存储在字典变量中，通过字典的方式进行访问。</span><br><span class="line"></span><br><span class="line"># https://blog.csdn.net/helunqu2017/article/details/78652261 详细配置</span><br><span class="line"></span><br><span class="line">plt.rcParams[&quot;font.sans-serif&quot;]=[&quot;SimHei&quot;] #正常显示中文</span><br><span class="line">plt.rcParams[&quot;axes.unicode_minus&quot;]=False #正常显示负号</span><br><span class="line"></span><br><span class="line">x = np.arange(0, math.pi*2, 0.05)</span><br><span class="line">y = np.sin(x)</span><br><span class="line"></span><br><span class="line">plt.plot(x, y) #画图线</span><br><span class="line"></span><br><span class="line">plt.xlabel(&quot;正玄波&quot;)</span><br><span class="line">plt.ylabel(&quot;角度&quot;)</span><br><span class="line">plt.title(&quot;正玄&quot;)</span><br><span class="line"></span><br><span class="line">plt.grid(True,linestyle=&apos;--&apos;,color=&apos;pink&apos;,linewidth=&apos;0.5&apos;,axis=&apos;both&apos;) #创建格网</span><br><span class="line"></span><br><span class="line">plt.tick_params(bottom=&apos;on&apos;,left=&apos;on&apos;) #坐标轴上的刻度小竖线显示</span><br><span class="line">import matplotlib #这里需要导入matplotlib总体包</span><br><span class="line">matplotlib.rcParams[&apos;xtick.direction&apos;]=&apos;in&apos; #小竖线显示位置</span><br><span class="line">matplotlib.rcParams[&apos;ytick.direction&apos;]=&apos;inout&apos;#多运行几次就刷新了</span><br><span class="line"></span><br><span class="line">frame=plt.gca()</span><br><span class="line"># plt.axis(&apos;off&apos;) #关闭坐标轴 </span><br><span class="line"># 还有X、Y轴不显示等操作</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">plt的参数 样式太多用的时候再搜查</span><br><span class="line">linestyle 点、实线等</span><br><span class="line">marker 好多好多样式</span><br><span class="line">color 颜色</span><br><span class="line">alpha 透明度</span><br><span class="line">colormap 颜色渐变</span><br><span class="line"></span><br><span class="line">&lt;!-- 注意使用style之后所有的图表都会应用 想改变回来，就要重启 --&gt;</span><br><span class="line">style ; import matplotlib.style as psl;  psl.use(&apos;某种样式&apos;)</span><br></pre></td></tr></table></figure><h2 id="设置主副刻度对象属性-刻度定位器与格式"><a href="#设置主副刻度对象属性-刻度定位器与格式" class="headerlink" title="设置主副刻度对象属性-刻度定位器与格式"></a>设置主副刻度对象属性-刻度定位器与格式</h2><p><strong>注意事项：包的导入和修改设置等需要在一个jupyter输入框里面写否则修改不显示</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">from matplotlib.ticker import MultipleLocator, FormatStrFormatter</span><br><span class="line">t = np.arange(0.0, 100.0, 1)</span><br><span class="line">s = np.sin(0.1*np.pi*t)*np.exp(-t*0.01)</span><br><span class="line"></span><br><span class="line">ax = plt.subplot(111) #注意:一般都在ax中设置,不在plot中设置</span><br><span class="line"></span><br><span class="line">plt.grid(True,linestyle=&apos;--&apos;,color=&apos;pink&apos;,linewidth=&apos;0.5&apos;,axis=&apos;both&apos;) #创建格网</span><br><span class="line"></span><br><span class="line">plt.plot(t,s,&apos;--r*&apos;)</span><br><span class="line"></span><br><span class="line">#修改主刻度</span><br><span class="line">xmajorLocator = MultipleLocator(20) #将x主刻度标签设置为20的倍数</span><br><span class="line">xmajorFormatter = FormatStrFormatter(&apos;%.0f&apos;) #设置x轴标签文本的格式</span><br><span class="line"># ymajorLocator = MultipleLocator(0.5) #将y轴主刻度标签设置为0.5的倍数</span><br><span class="line"># ymajorFormatter = FormatStrFormatter(&apos;%1.1f&apos;) #设置y轴标签文本的格式</span><br><span class="line"></span><br><span class="line">#设置主刻度标签的位置,标签文本的格式</span><br><span class="line">ax.xaxis.set_major_locator(xmajorLocator)</span><br><span class="line">ax.xaxis.set_major_formatter(xmajorFormatter)</span><br><span class="line"># ax.yaxis.set_major_locator(ymajorLocator)</span><br><span class="line"># ax.yaxis.set_major_formatter(ymajorFormatter)</span><br><span class="line"></span><br><span class="line">#修改次刻度</span><br><span class="line">xminorLocator = MultipleLocator(5) #将x轴次刻度标签设置为5的倍数</span><br><span class="line"># yminorLocator = MultipleLocator(0.1) #将此y轴次刻度标签设置为0.1的倍数</span><br><span class="line"></span><br><span class="line">#设置次刻度标签的位置,没有标签文本格式</span><br><span class="line">ax.xaxis.set_minor_locator(xminorLocator)</span><br><span class="line"># ax.yaxis.set_minor_locator(yminorLocator)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#打开网格 which=&apos;major&apos;\which=&apos;minor&apos;\which=&apos;both&apos;</span><br><span class="line">ax.xaxis.grid(True, which=&apos;major&apos;) #x坐标轴的网格使用主刻度</span><br><span class="line"># ax.yaxis.grid(True, which=&apos;minor&apos;) #y坐标轴的网格使用次刻度</span><br><span class="line"></span><br><span class="line"># 删除坐标轴的刻度显示</span><br><span class="line">ax.xaxis.set_major_formatter(plt.NullFormatter()) </span><br><span class="line"># ax.yaxis.set_major_locator(plt.NullLocator())</span><br></pre></td></tr></table></figure><h2 id="图像内的文字、注释、箭头"><a href="#图像内的文字、注释、箭头" class="headerlink" title="图像内的文字、注释、箭头"></a>图像内的文字、注释、箭头</h2><table><thead><tr><th>Pyplot函数</th><th>描述</th></tr></thead><tbody><tr><td>text()</td><td>在Axes对象的任意位置添加文字</td></tr><tr><td>suptitle()</td><td>为Figure对象添加中心化的标题</td></tr><tr><td>figtext()</td><td>在Figure对象的任意位置添加文字</td></tr><tr><td>annnotate()</td><td>为Axes对象添加注释（箭头可选）</td></tr></tbody></table><p>注意：所有的方法会返回一个matplotlib.text.Text对象</p><h2 id="注解-text-在Axes对象的任意位置添加文字"><a href="#注解-text-在Axes对象的任意位置添加文字" class="headerlink" title="注解 text()在Axes对象的任意位置添加文字"></a>注解 text()在Axes对象的任意位置添加文字</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># ax.text(横坐标，纵坐标，内容，其他样式设置)</span><br><span class="line">import numpy as np</span><br><span class="line">import math</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_axes([0,0,1,1])</span><br><span class="line"></span><br><span class="line">t = np.arange(0.0, 2.0, 0.01)</span><br><span class="line">s = np.sin(2*np.pi*t)</span><br><span class="line"></span><br><span class="line">ax.plot(t, s)</span><br><span class="line">ax.set_title(r&apos;$\alpha_i&gt; \beta_i$&apos;, fontsize=20)</span><br><span class="line"></span><br><span class="line">ax.text(0.6, 0.3, r&apos;sunck is a good man&apos;, fontsize = 20)</span><br><span class="line">ax.text(0.6, 0.6, r&apos;$\mathcal&#123;A&#125;\mathrm&#123;sin&#125;(2 \omega t)$&apos;, fontsize = 20)</span><br><span class="line">ax.text(0.1, -0.5, r&apos;$\sqrt&#123;2&#125;$&apos;, fontsize=10)</span><br><span class="line">ax.text(0.6, 0.1, &apos;The italic text wrapped in the data coordinates&apos;, style=&apos;italic&apos;, bbox = &#123;&apos;facecolor&apos;: &apos;red&apos;&#125;)</span><br><span class="line"></span><br><span class="line">ax.set_xlabel(&apos;time (s)&apos;)</span><br><span class="line">ax.set_ylabel(&apos;volts (mV)&apos;)</span><br><span class="line"></span><br><span class="line">ax.legend(labels=(&apos;k&apos;),loc=&quot;lower left&quot;)</span><br></pre></td></tr></table></figure><h2 id="suptitle-中心化标题、figtext-注释"><a href="#suptitle-中心化标题、figtext-注释" class="headerlink" title="suptitle()中心化标题、figtext()注释"></a>suptitle()中心化标题、figtext()注释</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import math</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">plt.figure(figsize=(12,6))</span><br><span class="line"></span><br><span class="line">x = np.arange(0, math.pi*2, 0.05)</span><br><span class="line">y1 = np.sin(x)</span><br><span class="line">y2 = np.cos(x)</span><br><span class="line"></span><br><span class="line">ax1 = plt.subplot(121)</span><br><span class="line">ax1.plot(x, y1)</span><br><span class="line">ax1.set_title(&quot;sine&quot;)</span><br><span class="line"></span><br><span class="line">ax2=plt.subplot(122)</span><br><span class="line">ax2.plot(x,y2)</span><br><span class="line">ax2.set_title(&quot;cosine&quot;)</span><br><span class="line"></span><br><span class="line">plt.suptitle(&quot;sine&amp;cosine&quot;) ###</span><br><span class="line"></span><br><span class="line">plt.figtext(1,0.5,s = &apos;sin(0) = 0&apos;) ###</span><br></pre></td></tr></table></figure><h2 id="annotate-箭头"><a href="#annotate-箭头" class="headerlink" title="annotate()箭头"></a>annotate()箭头</h2><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>xy</td><td>设置箭头指示的位置</td></tr><tr><td>xytext</td><td>设置注释文字的位置</td></tr><tr><td>arrowprops</td><td>以字典的形式设置箭头的样式</td></tr></tbody></table><table><thead><tr><th>箭头样式属性</th><th>说明</th></tr></thead><tbody><tr><td>width</td><td>设置箭头长方形部分的宽度</td></tr><tr><td>headlength</td><td>设置箭头尖端的长度</td></tr><tr><td>headwidth</td><td>设置箭头尖端底部的宽度</td></tr><tr><td>facecolor</td><td>设置箭头颜色</td></tr><tr><td>shrink</td><td>设置箭头顶点、尾部与指示点、注释文字的距离（比例值）</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_axes([0,0,1,1])</span><br><span class="line"></span><br><span class="line">x = np.arange(0, math.pi*2, 0.05)</span><br><span class="line">y = np.sin(x)</span><br><span class="line"></span><br><span class="line">ax.plot(x, y)</span><br><span class="line">ax.annotate(&apos;annotate&apos;, xy = (1.5,0.8), xytext = (1, 0.4), arrowprops = dict(facecolor = &apos;red&apos;, shrink = 0.005))</span><br></pre></td></tr></table></figure><h3 id="箭头汇总"><a href="#箭头汇总" class="headerlink" title="箭头汇总"></a>箭头汇总</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure(figsize=(12,9))</span><br><span class="line">ax = fig.add_axes([0,0,1,1])</span><br><span class="line"></span><br><span class="line">arrstyles = [&apos;-&apos;, &apos;-&gt;&apos;, &apos;-[&apos;, &apos;&lt;-&apos;, &apos;&lt;-&gt;&apos;, &apos;fancy&apos;, &apos;simple&apos;, &apos;wedge&apos;]</span><br><span class="line">for i, style in enumerate(arrstyles):</span><br><span class="line">    ax.annotate(style, xy=(0.2, 0.9-0.1*i), xytext=(0.05, 0.85-0.1*i), arrowprops=dict(arrowstyle=style));</span><br><span class="line">    </span><br><span class="line">connstyles=[&quot;arc&quot;, &quot;arc,angleA=10,armA=30,rad=30&quot;, &quot;arc3,rad=.2&quot;, &quot;arc3,rad=-.2&quot;, &quot;angle&quot;, &quot;angle3&quot;]</span><br><span class="line">for i, style in enumerate(connstyles):</span><br><span class="line">    ax.annotate(style, xy=(0.7, 0.9-0.1*i), xytext=(0.6, 0.85-0.1*i), arrowprops=dict(arrowstyle=&apos;-&gt;&apos;, connectionstyle=style));</span><br></pre></td></tr></table></figure><h2 id="将绘图保存到图片"><a href="#将绘图保存到图片" class="headerlink" title="将绘图保存到图片"></a>将绘图保存到图片</h2><ul><li>图片周围空白设置 bbox_inches=’tight’ 不设置的话 刻度不显示</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fig.savefig(&quot;./sin.png&quot;, dpi=400, facecolor=&quot;green&quot;,edgecolor=&apos;b&apos;,bbox_inches=&apos;tight&apos;)</span><br><span class="line"></span><br><span class="line">参数：用时在查</span><br><span class="line">savefig(fname, dpi=None, facecolor=&apos;w&apos;, edgecolor=&apos;w&apos;, orientation=&apos;portrait&apos;, papertype=None, format=None, transparent=False, bbox_inches=None, pad_inches=0.1, frameon=None, metadata=None)</span><br></pre></td></tr></table></figure><h2 id="创建子图"><a href="#创建子图" class="headerlink" title="创建子图"></a>创建子图</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import math</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 0.先创建窗口figure，再通过fig.add_axes添加坐标轴区域</span><br><span class="line"># add_axes(rect, projection=None, polar=False, **kwargs)</span><br><span class="line">其中的 rect 是位置参数，接受一个4元素的浮点数列表，[left, bottom, width, height] ，它定义了要添加到figure中的矩形子区域的：左下角坐标(x, y)、宽度、高度。</span><br><span class="line"></span><br><span class="line">注意：每个元素的值是figure宽度和高度的分数。即将figure的宽、高作为1个单位。</span><br><span class="line"></span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_axes([0,0,1,1]) </span><br><span class="line">langs = [&apos;C&apos;, &apos;C++&apos;, &apos;Java&apos;, &apos;Python&apos;, &apos;PHP&apos;]</span><br><span class="line">students = [23,17,35,29,12]</span><br><span class="line">ax.bar(langs,students,0.5,10,align=&apos;center&apos;,color=&quot;r&quot;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 1.先创建窗口figure，再通过fig.add_subplot添加坐标轴axes</span><br><span class="line">fig=plt.figure()</span><br><span class="line">ax1=fig.add_subplot(221)#添加两行两列的axes，ax1是第一行第一个</span><br><span class="line">ax1.plot(np.random.rand(50).cumsum(),&apos;k--&apos;)</span><br><span class="line"></span><br><span class="line">ax2=fig.add_subplot(222)</span><br><span class="line">ax2.plot(np.random.rand(50).cumsum(),&apos;b--&apos;)</span><br><span class="line"></span><br><span class="line">ax4=fig.add_subplot(224)</span><br><span class="line">ax4.plot(np.random.rand(50).cumsum(),&apos;r--&apos;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 2.同时创建figure和Axes，通过plt.subplots</span><br><span class="line">fig,axes=plt.subplots(2,3,figsize=(10,4))</span><br><span class="line">line=pd.Series(np.random.randn(100).cumsum())</span><br><span class="line">print(axes,axes.shape,type(axes))</span><br><span class="line"></span><br><span class="line">axes[0,0].plot(np.random.rand(100))</span><br><span class="line">ax1=axes[0,1]</span><br><span class="line">ax1.plot(line)</span><br><span class="line"></span><br><span class="line"># plt.subplots参数调整</span><br><span class="line">fig,axes=plt.subplots(1,2,figsize=(10,4),sharey=True) #共享y轴</span><br><span class="line"></span><br><span class="line">axes[0].hist(np.random.randn(500))</span><br><span class="line">axes[1].hist(np.random.randn(500))</span><br><span class="line"></span><br><span class="line">plt.subplots_adjust(wspace=0,hspace=0) #图像间距</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 3.创建子图</span><br><span class="line">data=np.random.randn(1000,4)</span><br><span class="line">df=pd.DataFrame(data,columns=list(&apos;ABCD&apos;)).cumsum()</span><br><span class="line"></span><br><span class="line">data=np.random.randn(1000,4)</span><br><span class="line">df=pd.DataFrame(data,columns=list(&apos;ABCD&apos;)).cumsum()</span><br><span class="line">df.plot(style=&apos;--&apos;,figsize=(8,8)) #ABCD四个图在一起</span><br><span class="line"></span><br><span class="line">df.plot(style=&apos;--&apos;,figsize=(8,8),subplots=True) #四图分开，共享X轴</span><br></pre></td></tr></table></figure><h2 id="由Series或DataFrame直接生成图表"><a href="#由Series或DataFrame直接生成图表" class="headerlink" title="由Series或DataFrame直接生成图表"></a>由Series或DataFrame直接生成图表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># Series直接生成图表</span><br><span class="line">ss=pd.Series(np.random.randn(1000),index=pd.date_range(&apos;1/1/2021&apos;,periods=1000)).cumsum()</span><br><span class="line">ss.plot(kind=&apos;line&apos;,</span><br><span class="line">       label=&apos;haha&apos;,</span><br><span class="line">        color=&apos;red&apos;,</span><br><span class="line">        alpha=0.5,</span><br><span class="line">        grid=True,</span><br><span class="line">        rot=45,</span><br><span class="line">        figsize=(8,4),</span><br><span class="line">        title=&apos;test&apos;,</span><br><span class="line">        legend=True,</span><br><span class="line">        ylim=[-50,50],</span><br><span class="line">        yticks=list(range(-50,50,10))</span><br><span class="line">       )</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># DataFrame直接生成图表</span><br><span class="line">df=pd.DataFrame(np.random.randn(1000,4),index=ss.index,columns=list(&apos;ABCD&apos;)).cumsum()</span><br><span class="line">df.plot(kind=&apos;line&apos;,</span><br><span class="line">        colormap=&apos;Greens&apos;, #官网有颜色</span><br><span class="line">        subplots=True,#图像分开显示，共享X轴</span><br><span class="line">       )#其他参数与Series直接生成图表一样</span><br></pre></td></tr></table></figure><h2 id="条形图"><a href="#条形图" class="headerlink" title="条形图"></a>条形图</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 可以两种方式实现条形图的绘制：</span><br><span class="line"># ax.bar() 比较好的一种方式，推荐</span><br><span class="line"># series/df.plot() 这是pandas封装的一种方式</span><br><span class="line"></span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_axes([0,0,1,1]) #位置参数 [left, bottom, width, height]</span><br><span class="line"># 每个元素的值是figure宽度和高度的分数。即将figure的宽、高作为1个单位。</span><br><span class="line"></span><br><span class="line">langs = [&apos;C&apos;, &apos;C++&apos;, &apos;Java&apos;, &apos;Python&apos;, &apos;PHP&apos;]</span><br><span class="line">students = [23,17,35,29,12]</span><br><span class="line">ax.bar(langs,students,0.5,10,align=&apos;center&apos;,color=&quot;r&quot;)#x,y,宽、高等</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 水平基本条形图</span><br><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_axes([0,0,1,1])</span><br><span class="line"></span><br><span class="line">langs = [&apos;C&apos;, &apos;C++&apos;, &apos;Java&apos;, &apos;Python&apos;, &apos;PHP&apos;]</span><br><span class="line">students = [23,17,35,29,12]</span><br><span class="line">ss=pd.Series(students,index=langs).sort_values()</span><br><span class="line"># print(ss)</span><br><span class="line">ax.barh(ss.index,ss,0.5,10,align=&apos;center&apos;,color=&quot;r&quot;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">fig,axes=plt.subplots(3,1,figsize=(10,10))</span><br><span class="line">ss=pd.Series(np.random.randint(0,10,10),index=list(&apos;abcdefghij&apos;))#0-10的16个随机整数</span><br><span class="line">df=pd.DataFrame(np.random.rand(5,3),columns=list(&apos;ABC&apos;)) #生成5行3列的二维数组</span><br><span class="line"># print(ss)</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line"># 单系列</span><br><span class="line">axes[0].bar(ss.index,ss)</span><br><span class="line"># ss.plot(kind=&apos;bar&apos;,ax=axes[0])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 多系列</span><br><span class="line">x=np.arange(3)</span><br><span class="line">axes[1].bar(x + 0.00, df.iloc[0], color = &apos;b&apos;, width = 0.10)</span><br><span class="line">axes[1].bar(x + 0.10, df.iloc[1], color = &apos;g&apos;, width = 0.10)</span><br><span class="line">axes[1].bar(x + 0.20, df.iloc[2], color = &apos;r&apos;, width = 0.10)</span><br><span class="line">axes[1].bar(x + 0.30, df.iloc[3], color = &apos;y&apos;, width = 0.10)</span><br><span class="line">axes[1].bar(x + 0.40, df.iloc[4], color = &apos;pink&apos;, width = 0.10)</span><br><span class="line"># df.plot(kind=&apos;bar&apos;,ax=axes[1])</span><br><span class="line"></span><br><span class="line"># 多系列堆叠 垂直堆叠条形图 stacked=True</span><br><span class="line">df.plot(kind=&apos;bar&apos;,ax=axes[2],stacked=True,colormap=&apos;Set3&apos;)</span><br></pre></td></tr></table></figure><h2 id="折线图-条形图-面积图-比较"><a href="#折线图-条形图-面积图-比较" class="headerlink" title="折线图 条形图 面积图 比较"></a>折线图 条形图 面积图 比较</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 如果使用折线图，虽然也能很清晰反映出各种种产品的销量变化情况，</span><br><span class="line"># 但最想强调的——差距变化的部分，则欠缺可视化的突出表现。</span><br><span class="line"># 面积图也可以表示总体总量变化趋势。最高的那条线即总量</span><br><span class="line"></span><br><span class="line"># 当要表达多数据系列中部分与整体的关系，或者是表达累加的数据集，堆叠面积图就派上用场了。</span><br><span class="line"># 标准面积图stacked=False 适用于展示或者比较随着时间连续变化的定量。</span><br><span class="line"># 在需要绘制大量数据系列的情况下，折线图通常是更清晰的可视化表达方式</span><br><span class="line"></span><br><span class="line"># 堆叠面积图适用于可视化“部分-整体”的关系，这有助于我们展现各分类及总体的发展趋势和相互之间的关系。</span><br><span class="line"># 值得注意的是，堆叠面积图与标准面积图不同，某一分类的值并非与纵坐标完全对应，而是通过折线之间的相对高度来表达。</span><br><span class="line"># 因此堆叠面积图不会出现不同分类的数据点被遮盖、被隐藏的状况。</span><br><span class="line"></span><br><span class="line"># 为了数据表达能更加清晰，在设计面积图的时候，你要确保你做到了以下几点：</span><br><span class="line">对比类别的数量不要太多</span><br><span class="line">纵坐标从0开始</span><br><span class="line">使用透明色</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">fig,axes=plt.subplots(4,1,figsize=(10,12))</span><br><span class="line">df1=pd.DataFrame(np.random.rand(10,4),columns=list(&apos;abcd&apos;))</span><br><span class="line">df2=pd.DataFrame(np.random.randn(10,4),columns=list(&apos;ABCD&apos;))</span><br><span class="line"></span><br><span class="line">df1.plot.area(ax=axes[0],alpha=0.5,colormap=&apos;Set1&apos;)#堆叠面积图</span><br><span class="line">df1.plot.area(ax=axes[1],stacked=False,alpha=0.5,colormap=&apos;Set1&apos;)#标准面积图</span><br><span class="line">df1.plot.bar(ax=axes[2]) #条形图</span><br><span class="line">df1.plot(ax=axes[3]) #折线图</span><br><span class="line"></span><br><span class="line"># 当stacked为True时，每一列都必须是正的或负的。</span><br><span class="line"># df2.plot.area(ax=axes[1],stacked=False,colormap=&apos;Set2&apos;)</span><br><span class="line"># print(df1)</span><br></pre></td></tr></table></figure><h2 id="填图"><a href="#填图" class="headerlink" title="填图"></a>填图</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 对函数与坐标轴之间的区域进行填充，使用fill函数</span><br><span class="line">fig,axes = plt.subplots(2,1,figsize = (8,6))</span><br><span class="line">x = np.linspace(0, 1, 500)</span><br><span class="line">y1 = np.sin(4 * np.pi * x) * np.exp(-5 * x)</span><br><span class="line">y2 = -np.sin(4 * np.pi * x) * np.exp(-5 * x)</span><br><span class="line">axes[0].fill(x, y1, &apos;r&apos;,alpha=0.5,label=&apos;y1&apos;)</span><br><span class="line">axes[0].fill(x, y2, &apos;g&apos;,alpha=0.5,label=&apos;y2&apos;)</span><br><span class="line"></span><br><span class="line"># 填充两个函数之间的区域，使用fill_between函数</span><br><span class="line">x = np.linspace(0, 1, 1000)</span><br><span class="line">y1 = np.sin(x)  </span><br><span class="line">y2 = np.sin(2 * x)  </span><br><span class="line">axes[1].fill_between(x, y1, y2, color =&apos;r&apos;,alpha=0.5,label=&apos;area&apos;)  </span><br><span class="line"></span><br><span class="line"># 添加图例、格网</span><br><span class="line">for i in range(2):</span><br><span class="line">    axes[i].legend()</span><br><span class="line">    axes[i].grid()</span><br></pre></td></tr></table></figure><h2 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h2><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>x</td><td>数组式，楔形大小</td></tr><tr><td>explode</td><td>设置每一块顶点距圆形的长度（比例值）</td></tr><tr><td>labels</td><td>列表。一系列字符串，为每个楔形提供标签</td></tr><tr><td>colors</td><td>一系列matplotlib颜色参数，饼图将通过它循环。如果为None，将使用当前活动周期中的颜色</td></tr><tr><td>autopct</td><td>string用于用数值标记楔形。标签将放在楔子内。格式字符串将为fmt%pct</td></tr><tr><td>pctdistance</td><td>设置比例值文字距离圆心的距离</td></tr><tr><td>shadow</td><td>布尔值，设置是否绘制阴影</td></tr><tr><td>startangle</td><td>设置旋转角度</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">fig = plt.figure(figsize=(10,5))</span><br><span class="line">ax = fig.add_axes([0,0,1,1])</span><br><span class="line">ax.axis(&apos;equal&apos;) # 保证长宽相等</span><br><span class="line"></span><br><span class="line">langs = [&apos;C&apos;, &apos;C++&apos;, &apos;Java&apos;, &apos;Python&apos;, &apos;PHP&apos;]</span><br><span class="line">students = [23,17,35,29,12]</span><br><span class="line">ax.pie(students, labels = langs,autopct=&apos;%1.2f%%&apos;,colors=[&quot;red&quot;,&quot;blue&quot;,&quot;yellow&quot;,&quot;green&quot;,&quot;pink&quot;],explode = [0,0.1,0,0,0],shadow=True)</span><br></pre></td></tr></table></figure><h2 id="直方图反应的是数据的分布情况"><a href="#直方图反应的是数据的分布情况" class="headerlink" title="直方图反应的是数据的分布情况"></a>直方图反应的是数据的分布情况</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">%matplotlib inline</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_axes([0,0,1,1])</span><br><span class="line"></span><br><span class="line">a = np.random.randn(1000)</span><br><span class="line"></span><br><span class="line">ax.hist(a, bins = 20,width=0.3)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 密度图是与直方图密切相关的概念，</span><br><span class="line">它用一条连续的曲线表示变量的分布，可以理解为直方图的”平滑版本“。</span><br><span class="line"># 生成密度图只需要在plot的时候指定kind=‘kde’,</span><br><span class="line">可以看到，在0附近的数据占到了全部数据的进40%</span><br><span class="line">s=pd.Series(a)</span><br><span class="line">s.plot(kind=&apos;kde&apos;)</span><br></pre></td></tr></table></figure><h2 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">fig = plt.figure(figsize=(8,6))</span><br><span class="line">ax = fig.add_axes([0,0,1,1])</span><br><span class="line"></span><br><span class="line">x=np.random.randn(1000) #一个维度</span><br><span class="line">y=np.random.randn(1000) #一个维度</span><br><span class="line"></span><br><span class="line">ax.scatter(x,y,marker=&apos;.&apos;,</span><br><span class="line">           s=np.random.randn(1000)*100, #一个维度</span><br><span class="line">           c=np.random.randn(1000)*100, #一个维度</span><br><span class="line">           cmap=&apos;Reds&apos;</span><br><span class="line">          )</span><br><span class="line"></span><br><span class="line"># s 散点的大小</span><br><span class="line"># c 散点的颜色</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 散点矩阵</span><br><span class="line"># 将高维度 数据 中所有变量的两两之间的关系展示出来</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/Matplotlib/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8BMatplotlib%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Python数据分析之pandas笔记</title>
      <link>https://shulu520.com/pandas/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8Bpandas%E7%AC%94%E8%AE%B0/</link>
      <guid>https://shulu520.com/pandas/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8Bpandas%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Thu, 15 Apr 2021 04:42:39 GMT</pubDate>
      <description>
      
        数据分析工具：Pandas
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="pandas数据帧DataFrame列操作"><a href="#pandas数据帧DataFrame列操作" class="headerlink" title="pandas数据帧DataFrame列操作"></a>pandas数据帧DataFrame列操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#创建数据帧</span><br><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line">data = &#123;&quot;name&quot;: [&quot;sun&quot;, &quot;liu&quot;, &quot;zhan&quot;, &quot;ren&quot;, &quot;dao&quot;], &quot;age&quot;:[18, 20, 16, 34, 25]&#125;</span><br><span class="line">df = pd.DataFrame(data, index=[&quot;rank1&quot;, &quot;rank2&quot;, &quot;rank3&quot;, &quot;rank4&quot;, &quot;rank5&quot;])</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line">       name  age</span><br><span class="line">rank1   sun   18</span><br><span class="line">rank2   liu   20</span><br><span class="line">rank3  zhan   16</span><br><span class="line">rank4   ren   34</span><br><span class="line">rank5   dao   25</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 列获取</span><br><span class="line">df[&apos;name&apos;] 或df.name 或df.get(&apos;name&apos;) </span><br><span class="line">#只有get方法找不到不报错，返回none</span><br><span class="line"></span><br><span class="line">rank1     sun</span><br><span class="line">rank2     liu</span><br><span class="line">rank3    zhan</span><br><span class="line">rank4     ren</span><br><span class="line">rank5     dao</span><br><span class="line">Name: name, dtype: object</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 列增加或修改</span><br><span class="line">df[&apos;sex&apos;]=[&apos;男&apos;,&apos;女&apos;,&apos;男&apos;,&apos;女&apos;,&apos;男&apos;]</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">nameagesex</span><br><span class="line">rank1sun18男</span><br><span class="line">rank2liu20女</span><br><span class="line">rank3zhan16男</span><br><span class="line">rank4ren34女</span><br><span class="line">rank5dao25男</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 列删除</span><br><span class="line">del df[&apos;age&apos;]</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">name sex</span><br><span class="line">rank1sun男</span><br><span class="line">rank2liu女</span><br><span class="line">rank3zhan男</span><br><span class="line">rank4ren女</span><br><span class="line">rank5dao男</span><br></pre></td></tr></table></figure><h2 id="pandas数据帧DataFrame行操作"><a href="#pandas数据帧DataFrame行操作" class="headerlink" title="pandas数据帧DataFrame行操作"></a>pandas数据帧DataFrame行操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 行选择 按非数字index值(自定义非数字的index)</span><br><span class="line">data = &#123;&quot;name&quot;: [&quot;sun&quot;, &quot;liu&quot;, &quot;hao&quot;, &quot;ren&quot;, &quot;dao&quot;], &quot;age&quot;:[18, 20, 16, 34, 25]&#125;</span><br><span class="line">df=pd.DataFrame(data,index=[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;])</span><br><span class="line">print(df)</span><br><span class="line">df.loc[&apos;b&apos;]</span><br><span class="line"></span><br><span class="line"> name  age</span><br><span class="line">a  sun   18</span><br><span class="line">b  liu   20</span><br><span class="line">c  hao   16</span><br><span class="line">d  ren   34</span><br><span class="line">e  dao   25</span><br><span class="line"></span><br><span class="line">name    liu</span><br><span class="line">age      20</span><br><span class="line">Name: b, dtype: object</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"># 行选择 按数字index值</span><br><span class="line">data = &#123;&quot;name&quot;: [&quot;sun&quot;, &quot;liu&quot;, &quot;hao&quot;, &quot;ren&quot;, &quot;dao&quot;], &quot;age&quot;:[18, 20, 16, 34, 25]&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">print(df)</span><br><span class="line">df.iloc[2]</span><br><span class="line"></span><br><span class="line">  name  age</span><br><span class="line">0  sun   18</span><br><span class="line">1  liu   20</span><br><span class="line">2  hao   16</span><br><span class="line">3  ren   34</span><br><span class="line">4  dao   25</span><br><span class="line"></span><br><span class="line">name    hao</span><br><span class="line">age      16</span><br><span class="line">Name: 2, dtype: object</span><br><span class="line"></span><br><span class="line">#可以使用切片操作`:`运算符选择多行</span><br><span class="line">#loc和iloc的第二个参数都表示列选择，不写和写一个冒号都表示所有列</span><br><span class="line">#参数之间逗号隔开</span><br><span class="line">df.iloc[2:4]</span><br><span class="line"></span><br><span class="line">nameage</span><br><span class="line">2hao16</span><br><span class="line">3ren34</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># 行修改</span><br><span class="line">data = &#123;&quot;name&quot;: [&quot;sun&quot;, &quot;liu&quot;, &quot;hao&quot;, &quot;ren&quot;, &quot;dao&quot;], &quot;age&quot;:[18, 20, 16, 34, 25]&#125;</span><br><span class="line">df=pd.DataFrame(data,index=[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;])</span><br><span class="line">df.loc[&apos;b&apos;]=&#123;&apos;shu&apos;,22&#125;</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">name age</span><br><span class="line">asun18</span><br><span class="line">bshu22</span><br><span class="line">chao16</span><br><span class="line">dren34</span><br><span class="line">edao25</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 行添加append</span><br><span class="line"># 行添加</span><br><span class="line">df2=pd.DataFrame([[&apos;lul&apos;,17],[&apos;yun&apos;,19]],index=[&apos;f&apos;,&apos;g&apos;],columns=[&apos;name&apos;,&apos;age&apos;])</span><br><span class="line">df=df.append(df2)</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">nameage</span><br><span class="line">asun18</span><br><span class="line">blu23</span><br><span class="line">chao16</span><br><span class="line">dren34</span><br><span class="line">edao25</span><br><span class="line">flul17</span><br><span class="line">gyun19</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#行删除</span><br><span class="line">df3=df[:3]</span><br><span class="line">print(df3)</span><br><span class="line">  name  age</span><br><span class="line">a  sun   18</span><br><span class="line">b   lu   23</span><br><span class="line">c  hao   16</span><br><span class="line"></span><br><span class="line">df4=df3.drop(&apos;b&apos;) </span><br><span class="line">print(df4)</span><br><span class="line">  name  age</span><br><span class="line">a  sun   18</span><br><span class="line">c  hao   16</span><br></pre></td></tr></table></figure><h2 id="查看头尾"><a href="#查看头尾" class="headerlink" title="查看头尾"></a>查看头尾</h2><ul><li>两个方法可以快速浏览数据结构，可以传数字参数，表示获取几条数据</li><li>df.head()</li><li>df.tail()</li></ul><h2 id="重建索引reindex"><a href="#重建索引reindex" class="headerlink" title="重建索引reindex"></a>重建索引reindex</h2><ul><li>其作用是创建一个适应新索引的新对象</li><li>参数index行索引</li><li>参数columns列索引</li><li>index和columns必须是原索引的子集</li><li>copy=true</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">df=pd.DataFrame([[&apos;lul&apos;,17],[&apos;yun&apos;,19]],columns=[&apos;name&apos;,&apos;age&apos;])</span><br><span class="line">print(df)</span><br><span class="line">df2=df.reindex(index=[1],columns=[&apos;name&apos;,&apos;age&apos;])</span><br><span class="line">print(&apos;df2:&apos;)</span><br><span class="line">print(df2)</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line">  name  age</span><br><span class="line">0  lul   17</span><br><span class="line">1  yun   19</span><br><span class="line"></span><br><span class="line">df2:</span><br><span class="line">  name  age</span><br><span class="line">1  yun   19</span><br><span class="line"></span><br><span class="line">  name  age</span><br><span class="line">0  lul   17</span><br><span class="line">1  yun   19</span><br></pre></td></tr></table></figure><h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#按行索引排序</span><br><span class="line"></span><br><span class="line">data = &#123;&quot;name&quot;: [&quot;sun&quot;, &quot;liu&quot;, &quot;hao&quot;, &quot;ren&quot;, &quot;dao&quot;], &quot;age&quot;:[18, 20, 16, 34, 25]&#125;</span><br><span class="line">df=pd.DataFrame(data,index=[3,2,4,0,1])</span><br><span class="line">print(df)</span><br><span class="line">df2=df.sort_index() #按行索引排序</span><br><span class="line">print(df2)</span><br><span class="line"></span><br><span class="line">  name  age</span><br><span class="line">3  sun   18</span><br><span class="line">2  liu   20</span><br><span class="line">4  hao   16</span><br><span class="line">0  ren   34</span><br><span class="line">1  dao   25</span><br><span class="line"></span><br><span class="line">  name  age</span><br><span class="line">0  ren   34</span><br><span class="line">1  dao   25</span><br><span class="line">2  liu   20</span><br><span class="line">3  sun   18</span><br><span class="line">4  hao   16</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#升降序可选ascending参数</span><br><span class="line">df3=df.sort_index(ascending=False) #降序</span><br><span class="line">print(df3)</span><br><span class="line"></span><br><span class="line">  name  age</span><br><span class="line">4  hao   16</span><br><span class="line">3  sun   18</span><br><span class="line">2  liu   20</span><br><span class="line">1  dao   25</span><br><span class="line">0  ren   34</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">#按列索引排序</span><br><span class="line">data = &#123;&quot;col2&quot;: [&quot;sun&quot;, &quot;liu&quot;, &quot;hao&quot;], &quot;col3&quot;:[18, 20, 16],&quot;col1&quot;:[&apos;sd&apos;,&apos;dd&apos;,8]&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">print(df)</span><br><span class="line">df2=df.sort_index(axis=1) #按列索引排序</span><br><span class="line">print(df2)</span><br><span class="line"></span><br><span class="line">  col2  col3 col1</span><br><span class="line">0  sun    18   sd</span><br><span class="line">1  liu    20   dd</span><br><span class="line">2  hao    16    8</span><br><span class="line"></span><br><span class="line">  col1 col2  col3</span><br><span class="line">0   sd  sun    18</span><br><span class="line">1   dd  liu    20</span><br><span class="line">2    8  hao    16</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 按某列的值排序</span><br><span class="line">data = &#123;&quot;col2&quot;: [&quot;sun&quot;, &quot;liu&quot;, &quot;hao&quot;], &quot;col3&quot;:[18, 20, 16],&quot;col1&quot;:[&apos;sd&apos;,&apos;dd&apos;,8]&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">print(df)</span><br><span class="line">df2=df.sort_values(by=&apos;col3&apos;) #对col3列的值排序</span><br><span class="line">print(df2)</span><br><span class="line"></span><br><span class="line">  col2  col3 col1</span><br><span class="line">0  sun    18   sd</span><br><span class="line">1  liu    20   dd</span><br><span class="line">2  hao    16    8</span><br><span class="line"></span><br><span class="line">  col2  col3 col1</span><br><span class="line">2  hao    16    8</span><br><span class="line">0  sun    18   sd</span><br><span class="line">1  liu    20   dd</span><br></pre></td></tr></table></figure><h2 id="层次化索引"><a href="#层次化索引" class="headerlink" title="层次化索引"></a>层次化索引</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#层次化行索引</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#层次化列索引</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#行列同时层次化索引</span><br><span class="line">mindex1 = pd.MultiIndex.from_product([list(&quot;ABC&quot;),[&apos;期中&apos;,&apos;期末&apos;]])</span><br><span class="line">mindex2=pd.MultiIndex.from_product([[&apos;Python&apos;,&apos;Java&apos;, &apos;C++&apos;],[&apos;去年&apos;,&apos;今年&apos;]])</span><br><span class="line">socre = np.random.randint(0,150,(6,6))</span><br><span class="line">df = pd.DataFrame(data = socre,index = mindex1,columns = mindex2)</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">       Python   Java    C++</span><br><span class="line">      去年 今年去年 今年去年 今年</span><br><span class="line">A期中 133  10766 67  52143</span><br><span class="line">  期末  44 9359  3 5546</span><br><span class="line">B期中 148 14123 136 10269</span><br><span class="line">  期末  13   9767 85 11868</span><br><span class="line">C期中 139  0135 1073264</span><br><span class="line">  期末  51144138 62  6835</span><br></pre></td></tr></table></figure><h2 id="层次化索引选择"><a href="#层次化索引选择" class="headerlink" title="层次化索引选择"></a>层次化索引选择</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#层次化索引选择</span><br><span class="line">df[[&apos;Java&apos;,&apos;C++&apos;]]</span><br><span class="line"></span><br><span class="line">JavaC++</span><br><span class="line">去年今年去年今年</span><br><span class="line">A期中45267989</span><br><span class="line">期末13011312242</span><br><span class="line">B期中7944458</span><br><span class="line">期末1161252331</span><br><span class="line">C期中14814111799</span><br><span class="line">期末275010223</span><br><span class="line"></span><br><span class="line">df[&apos;Java&apos;][&apos;今年&apos;]</span><br><span class="line"></span><br><span class="line">A  期中     26</span><br><span class="line">   期末    113</span><br><span class="line">B  期中     44</span><br><span class="line">   期末    125</span><br><span class="line">C  期中    141</span><br><span class="line">   期末     50</span><br><span class="line">Name: 今年, dtype: int32</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">df.loc[&apos;A&apos;]</span><br><span class="line"></span><br><span class="line">   Python    Java   C++</span><br><span class="line">    去年今年去年今年去年今年</span><br><span class="line">期中125  142 45 26  79   89</span><br><span class="line">期末108  108 130113122  42</span><br></pre></td></tr></table></figure><h2 id="层次化行索引行列转置"><a href="#层次化行索引行列转置" class="headerlink" title="层次化行索引行列转置"></a>层次化行索引行列转置</h2><ul><li>stack()将列索引变为行索引</li><li>unstack()将行索引变为列索引</li><li>level参数：level=0对一级索引操作，=1对二级索引操作</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">mindex1 = pd.MultiIndex.from_product([list(&quot;ABC&quot;),[&apos;期中&apos;,&apos;期末&apos;]])</span><br><span class="line">mindex2=pd.MultiIndex.from_product([[&apos;Python&apos;,&apos;Java&apos;, &apos;C++&apos;],[&apos;去年&apos;,&apos;今年&apos;]])</span><br><span class="line">socre = np.random.randint(0,150,(6,6))</span><br><span class="line">df = pd.DataFrame(data = socre,index = mindex1,columns = mindex2)</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">       Python   Java    C++</span><br><span class="line">      去年 今年去年 今年去年 今年</span><br><span class="line">A期中 133  10766 67  52143</span><br><span class="line">  期末  44 9359  3 5546</span><br><span class="line">B期中 148 14123 136 10269</span><br><span class="line">  期末  13   9767 85 11868</span><br><span class="line">C期中 139  0135 1073264</span><br><span class="line">  期末  51144138 62  6835</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#一级列索引变为最小级行索引</span><br><span class="line"></span><br><span class="line">df.stack(level=0) </span><br><span class="line"></span><br><span class="line">          今年去年</span><br><span class="line">A期中C++9018</span><br><span class="line">      Java6  1</span><br><span class="line">    Python6134</span><br><span class="line">  期末C++8478</span><br><span class="line">      Java95105</span><br><span class="line">    Python113132</span><br><span class="line">B期中  C++14680</span><br><span class="line">      Java114139</span><br><span class="line">    Python42104</span><br><span class="line">  期末 C++142113</span><br><span class="line">      Java11859</span><br><span class="line">    Python9585</span><br><span class="line">C期中C++8020</span><br><span class="line">      Java126118</span><br><span class="line">    Python12599</span><br><span class="line">  期末 C++5143</span><br><span class="line">      Java9784</span><br><span class="line">    Python2916</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#二级列索引变为最小级行索引</span><br><span class="line"></span><br><span class="line">df.stack(level=1) </span><br><span class="line"></span><br><span class="line">      C++JavaPython</span><br><span class="line">A期中今年906    61</span><br><span class="line">        去年181    34</span><br><span class="line">  期末今年8495  113</span><br><span class="line">        去年78105  132</span><br><span class="line">B期中今年146114  42</span><br><span class="line">        去年80139  104</span><br><span class="line">  期末今年142118  95</span><br><span class="line">        去年11359  85</span><br><span class="line">C期中今年80126  125</span><br><span class="line">        去年20118  99</span><br><span class="line">  期末今年5197  29</span><br><span class="line">        去年4384  16</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#一级行索引变为最小级列索引</span><br><span class="line">df.unstack(level=0)</span><br><span class="line"></span><br><span class="line">      Python                   Java                    C++</span><br><span class="line">        去年        今年     去年     今年        去年      今年</span><br><span class="line">      A  B  C  A  B C AB  C  A B  C A B C A B C</span><br><span class="line">期中34104996142 12511391186114 1261880209014680</span><br><span class="line">期末132851611395 29 105 598495 118 97 78 113438414251</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#二级行索引变为最小级列索引</span><br><span class="line">df.unstack(level=1)</span><br><span class="line"></span><br><span class="line">  Python                  Java                  C++</span><br><span class="line">  去年        今年      去年      今年    去年      今年</span><br><span class="line">  期中期末期中期末期中期末期中期末期中期末期中期末</span><br><span class="line">A34  132  61  113  1  105  6    95  18 78   90  84</span><br><span class="line">B104   85  42  95139   59114  118  80 113146  142</span><br><span class="line">C99   16  125  29118   84  126   97  20 43   80  51</span><br></pre></td></tr></table></figure><h2 id="日期与时间"><a href="#日期与时间" class="headerlink" title="日期与时间"></a>日期与时间</h2><ul><li>pandas模块下的datetime模块在将来的版本中会被弃用</li><li>建议直接引入datetime模块使用</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">from datetime import datetime</span><br></pre></td></tr></table></figure><h3 id="获取日期、时间和时间戳"><a href="#获取日期、时间和时间戳" class="headerlink" title="获取日期、时间和时间戳"></a>获取日期、时间和时间戳</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">print(datetime.now())</span><br><span class="line">print(datetime.now().date())</span><br><span class="line">print(datetime.now().time())</span><br><span class="line">print(datetime.now().timestamp())</span><br><span class="line"></span><br><span class="line">2021-04-12 14:11:17.790021</span><br><span class="line">2021-04-12</span><br><span class="line">14:11:17.791025</span><br><span class="line">1618207877.791025</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">print(datetime.today())</span><br><span class="line">print(datetime.today().date())</span><br><span class="line">print(datetime.today().time())</span><br><span class="line">print(datetime.today().timestamp())</span><br><span class="line"></span><br><span class="line">2021-04-12 14:35:16.016302</span><br><span class="line">2021-04-12</span><br><span class="line">14:35:16.016302</span><br><span class="line">1618209316.016302</span><br><span class="line"></span><br><span class="line">pd.datetime.now()</span><br><span class="line">2021-04-12 14:35:16.017273</span><br></pre></td></tr></table></figure><h3 id="字符串转为日期时间"><a href="#字符串转为日期时间" class="headerlink" title="字符串转为日期时间"></a>字符串转为日期时间</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">d=&apos;2021-5-1&apos;</span><br><span class="line">d1=[&apos;2021-1-1&apos;,&apos;2021-2-8&apos;,&apos;2021-3-2&apos;]</span><br><span class="line">d2=[&apos;2021-1-1&apos;,&apos;shulu&apos;,&apos;2021-3-2&apos;]</span><br><span class="line">print(pd.to_datetime(d))</span><br><span class="line">print(pd.to_datetime(d1))</span><br><span class="line">print(pd.to_datetime(d2,errors=&apos;ignore&apos;))</span><br><span class="line">print(pd.to_datetime(d2,errors=&apos;coerce&apos;))</span><br><span class="line"></span><br><span class="line">print(pd.Timestamp(d))</span><br><span class="line"></span><br><span class="line">2021-05-01 00:00:00</span><br><span class="line">DatetimeIndex([&apos;2021-01-01&apos;, &apos;2021-02-08&apos;, &apos;2021-03-02&apos;], dtype=&apos;datetime64[ns]&apos;, freq=None)</span><br><span class="line">Index([&apos;2021-1-1&apos;, &apos;shulu&apos;, &apos;2021-3-2&apos;], dtype=&apos;object&apos;)</span><br><span class="line">DatetimeIndex([&apos;2021-01-01&apos;, &apos;NaT&apos;, &apos;2021-03-02&apos;], dtype=&apos;datetime64[ns]&apos;, freq=None)</span><br><span class="line">2021-05-01 00:00:00</span><br><span class="line">#NaT表示不是一个时间的值(相当于NaN)</span><br></pre></td></tr></table></figure><h3 id="时间差"><a href="#时间差" class="headerlink" title="时间差"></a>时间差</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">past=datetime(2017, 4, 16, 21, 21, 20, 871000)</span><br><span class="line">now=datetime.now()</span><br><span class="line">delta=now-past</span><br><span class="line">print(delta) </span><br><span class="line">print(delta.days)</span><br><span class="line"></span><br><span class="line">1456 days, 17:30:33.216922</span><br><span class="line">1456</span><br><span class="line"></span><br><span class="line">print(pd.Timedelta(now - past))</span><br><span class="line">1456 days 17:30:33.216922</span><br></pre></td></tr></table></figure><h3 id="时间戳索引DatetimeIndex的快速创建"><a href="#时间戳索引DatetimeIndex的快速创建" class="headerlink" title="时间戳索引DatetimeIndex的快速创建"></a>时间戳索引DatetimeIndex的快速创建</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">print(pd.date_range(start=&apos;2021-5-1&apos;,end=&apos;2021-5-3&apos;))</span><br><span class="line">print(pd.date_range(start=&apos;2021-6-15&apos;,end=&apos;2021-8-6&apos;,freq=&apos;M&apos;))</span><br><span class="line">print(pd.date_range(start=&apos;2021-5-1&apos;,periods=3))</span><br><span class="line">print(pd.date_range(end=&apos;2021-5-1&apos;,periods=3))</span><br><span class="line"></span><br><span class="line">DatetimeIndex([&apos;2021-05-01&apos;, &apos;2021-05-02&apos;, &apos;2021-05-03&apos;], dtype=&apos;datetime64[ns]&apos;, freq=&apos;D&apos;)</span><br><span class="line">DatetimeIndex([&apos;2021-06-30&apos;, &apos;2021-07-31&apos;], dtype=&apos;datetime64[ns]&apos;, freq=&apos;M&apos;)</span><br><span class="line">DatetimeIndex([&apos;2021-05-01&apos;, &apos;2021-05-02&apos;, &apos;2021-05-03&apos;], dtype=&apos;datetime64[ns]&apos;, freq=&apos;D&apos;)</span><br><span class="line">DatetimeIndex([&apos;2021-04-29&apos;, &apos;2021-04-30&apos;, &apos;2021-05-01&apos;], dtype=&apos;datetime64[ns]&apos;, freq=&apos;D&apos;)</span><br></pre></td></tr></table></figure><h2 id="重采样"><a href="#重采样" class="headerlink" title="重采样"></a>重采样</h2><ul><li>重新采样，是对原样本重新处理的一个方法，是一个对常规时间序列数据重新采样和频率转换的便捷的方法。</li><li>降采样：高频数据到低频数据</li><li>升采样：低频数据到高频数据</li></ul><h3 id="降采样"><a href="#降采样" class="headerlink" title="降采样"></a>降采样</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">index = pd.date_range(&apos;1/1/2021&apos;, periods=9, freq=&apos;D&apos;)</span><br><span class="line">series = pd.Series(range(9), index=index)</span><br><span class="line">print(series)</span><br><span class="line"></span><br><span class="line">2021-01-01    0</span><br><span class="line">2021-01-02    1</span><br><span class="line">2021-01-03    2</span><br><span class="line">2021-01-04    3</span><br><span class="line">2021-01-05    4</span><br><span class="line">2021-01-06    5</span><br><span class="line">2021-01-07    6</span><br><span class="line">2021-01-08    7</span><br><span class="line">2021-01-09    8</span><br><span class="line">Freq: D, dtype: int64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#默认：closed=left, label=left</span><br><span class="line">print(series.resample(&apos;3D&apos;)) #DatetimeIndexResampler 得到这个重采样构建器</span><br><span class="line">DatetimeIndexResampler [freq=&lt;3 * Days&gt;, axis=0, closed=left, label=left, convention=start, origin=start_day]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(series.resample(&apos;3D&apos;).sum()) #通过聚合方法可以展现出来</span><br><span class="line">2021-01-01     3</span><br><span class="line">2021-01-04    12</span><br><span class="line">2021-01-07    21</span><br><span class="line">Freq: 3D, dtype: int64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(series.resample(&apos;3D&apos;,label=&apos;right&apos;).sum())</span><br><span class="line">2021-01-04     3</span><br><span class="line">2021-01-07    12</span><br><span class="line">2021-01-10    21</span><br><span class="line">Freq: 3D, dtype: int64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(series.resample(&apos;3D&apos;,closed=&apos;right&apos;).sum())</span><br><span class="line">2020-12-29     0</span><br><span class="line">2021-01-01     6</span><br><span class="line">2021-01-04    15</span><br><span class="line">2021-01-07    15</span><br><span class="line">Freq: 3D, dtype: int64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(series.resample(&apos;3D&apos;,label=&apos;right&apos;,closed=&apos;right&apos;).sum())</span><br><span class="line">2021-01-01     0</span><br><span class="line">2021-01-04     6</span><br><span class="line">2021-01-07    15</span><br><span class="line">2021-01-10    15</span><br><span class="line">Freq: 3D, dtype: int64</span><br></pre></td></tr></table></figure><h3 id="增采样"><a href="#增采样" class="headerlink" title="增采样"></a>增采样</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">index = pd.date_range(&apos;1/1/2000&apos;, periods=9, freq=&apos;T&apos;)</span><br><span class="line">series = pd.Series(range(9), index=index)</span><br><span class="line">series</span><br><span class="line"></span><br><span class="line">2000-01-01 00:00:00    0</span><br><span class="line">2000-01-01 00:01:00    1</span><br><span class="line">2000-01-01 00:02:00    2</span><br><span class="line">2000-01-01 00:03:00    3</span><br><span class="line">2000-01-01 00:04:00    4</span><br><span class="line">2000-01-01 00:05:00    5</span><br><span class="line">2000-01-01 00:06:00    6</span><br><span class="line">2000-01-01 00:07:00    7</span><br><span class="line">2000-01-01 00:08:00    8</span><br><span class="line">Freq: T, dtype: int64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">series.resample(&apos;30S&apos;)</span><br><span class="line">&lt;pandas.core.resample.DatetimeIndexResampler object at 0x000002B91F375CA0&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">series.resample(&apos;30S&apos;).asfreq().head() #新索引没有值，为nan</span><br><span class="line"></span><br><span class="line">2000-01-01 00:00:00    0.0</span><br><span class="line">2000-01-01 00:00:30    NaN</span><br><span class="line">2000-01-01 00:01:00    1.0</span><br><span class="line">2000-01-01 00:01:30    NaN</span><br><span class="line">2000-01-01 00:02:00    2.0</span><br><span class="line">Freq: 30S, dtype: float64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">series.resample(&apos;30S&apos;).asfreq().bfill().head(8) #用后面的一个数据填充nan</span><br><span class="line">2000-01-01 00:00:00    0.0</span><br><span class="line">2000-01-01 00:00:30    1.0</span><br><span class="line">2000-01-01 00:01:00    1.0</span><br><span class="line">2000-01-01 00:01:30    2.0</span><br><span class="line">2000-01-01 00:02:00    2.0</span><br><span class="line">2000-01-01 00:02:30    3.0</span><br><span class="line">2000-01-01 00:03:00    3.0</span><br><span class="line">2000-01-01 00:03:30    4.0</span><br><span class="line">Freq: 30S, dtype: float64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">series.resample(&apos;30S&apos;).asfreq().ffill().head(6) #用前面的一个数据填充nan</span><br><span class="line">2000-01-01 00:00:00    0.0</span><br><span class="line">2000-01-01 00:00:30    0.0</span><br><span class="line">2000-01-01 00:01:00    1.0</span><br><span class="line">2000-01-01 00:01:30    1.0</span><br><span class="line">2000-01-01 00:02:00    2.0</span><br><span class="line">2000-01-01 00:02:30    2.0</span><br><span class="line">Freq: 30S, dtype: float64</span><br></pre></td></tr></table></figure><h2 id="描述性统计信息函数"><a href="#描述性统计信息函数" class="headerlink" title="描述性统计信息函数"></a>描述性统计信息函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line"> &apos;Name&apos;:pd.Series([&apos;Tom&apos;,&apos;James&apos;,&apos;Ricky&apos;,&apos;Vin&apos;,&apos;Steve&apos;,&apos;Minsu&apos;,&apos;Jack&apos;,&apos;Lee&apos;,&apos;David&apos;]),</span><br><span class="line"> &apos;Age&apos;:pd.Series([25,np.nan,25,23,30,29,23,34,40]),</span><br><span class="line"> &apos;Rating&apos;:pd.Series([4.23,3.24,np.nan,2.56,3.20,4.6,3.8,np.nan,2.98])</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line">print(&quot;原数据：&quot;)</span><br><span class="line">print(df)</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line"></span><br><span class="line">原数据：</span><br><span class="line">    Name   Age  Rating</span><br><span class="line">0    Tom  25.0    4.23</span><br><span class="line">1  James   NaN    3.24</span><br><span class="line">2  Ricky  25.0     NaN</span><br><span class="line">3    Vin  23.0    2.56</span><br><span class="line">4  Steve  30.0    3.20</span><br><span class="line">5  Minsu  29.0    4.60</span><br><span class="line">6   Jack  23.0    3.80</span><br><span class="line">7    Lee  34.0     NaN</span><br><span class="line">8  David  40.0    2.98</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">print(&quot;count():非空观测数量&quot;)</span><br><span class="line">print(df.count())</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line">count():非空观测数量</span><br><span class="line"></span><br><span class="line">Name      9</span><br><span class="line">Age       8</span><br><span class="line">Rating    7</span><br><span class="line">dtype: int64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">print(&quot;sum():返回所请求轴的值的总和。 默认情况下，轴为索引(axis=0)&quot;)</span><br><span class="line">print(df.sum())</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line"></span><br><span class="line">Name      TomJamesRickyVinSteveMinsuJackLeeDavid</span><br><span class="line">Age                                          229</span><br><span class="line">Rating                                     24.61</span><br><span class="line">dtype: object</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">print(&quot;sum():axis=1&quot;)</span><br><span class="line">print(df.sum(1))</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line"></span><br><span class="line">0    29.23</span><br><span class="line">1     3.24</span><br><span class="line">2    25.00</span><br><span class="line">3    25.56</span><br><span class="line">4    33.20</span><br><span class="line">5    33.60</span><br><span class="line">6    26.80</span><br><span class="line">7    34.00</span><br><span class="line">8    42.98</span><br><span class="line">dtype: float64</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">print(&apos;cumsum()累计总和&apos;)</span><br><span class="line">print(df.cumsum())</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line"></span><br><span class="line">                                     Name    Age  Rating</span><br><span class="line">0                                     Tom   25.0    4.23</span><br><span class="line">1                                TomJames    NaN    7.47</span><br><span class="line">2                           TomJamesRicky   50.0     NaN</span><br><span class="line">3                        TomJamesRickyVin   73.0   10.03</span><br><span class="line">4                   TomJamesRickyVinSteve  103.0   13.23</span><br><span class="line">5              TomJamesRickyVinSteveMinsu  132.0   17.83</span><br><span class="line">6          TomJamesRickyVinSteveMinsuJack  155.0   21.63</span><br><span class="line">7       TomJamesRickyVinSteveMinsuJackLee  189.0     NaN</span><br><span class="line">8  TomJamesRickyVinSteveMinsuJackLeeDavid  229.0   24.61</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">print(&apos;cumprod()累计乘积&apos;)</span><br><span class="line">print(df[[&apos;Age&apos;,&apos;Rating&apos;]].cumprod())</span><br><span class="line"></span><br><span class="line">            Age       Rating</span><br><span class="line">0  2.500000e+01     4.230000</span><br><span class="line">1           NaN    13.705200</span><br><span class="line">2  6.250000e+02          NaN</span><br><span class="line">3  1.437500e+04    35.085312</span><br><span class="line">4  4.312500e+05   112.272998</span><br><span class="line">5  1.250625e+07   516.455793</span><br><span class="line">6  2.876438e+08  1962.532012</span><br><span class="line">7  9.779888e+09          NaN</span><br><span class="line">8  3.911955e+11  5848.345396</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#唯一值 去重</span><br><span class="line">s=pd.Series(list(&apos;asaddvfshu&apos;))</span><br><span class="line">print(s.value_counts()) #重复值计数</span><br><span class="line">sq=s.unique() #去重</span><br><span class="line">print(s) </span><br><span class="line">print(sq) #[&apos;a&apos; &apos;s&apos; &apos;d&apos; &apos;v&apos; &apos;f&apos; &apos;h&apos; &apos;u&apos;]</span><br><span class="line">print(pd.Series(sq)) #包装成Series</span><br><span class="line"></span><br><span class="line">d    2</span><br><span class="line">a    2</span><br><span class="line">s    2</span><br><span class="line">v    1</span><br><span class="line">f    1</span><br><span class="line">h    1</span><br><span class="line">u    1</span><br><span class="line">dtype: int64</span><br><span class="line"></span><br><span class="line">0    a</span><br><span class="line">1    s</span><br><span class="line">2    a</span><br><span class="line">3    d</span><br><span class="line">4    d</span><br><span class="line">5    v</span><br><span class="line">6    f</span><br><span class="line">7    s</span><br><span class="line">8    h</span><br><span class="line">9    u</span><br><span class="line">dtype: object</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">0    a</span><br><span class="line">1    s</span><br><span class="line">2    d</span><br><span class="line">3    v</span><br><span class="line">4    f</span><br><span class="line">5    h</span><br><span class="line">6    u</span><br><span class="line">dtype: object</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">## 成员资格</span><br><span class="line">s=pd.Series(list([123]))</span><br><span class="line">s.isin([123,22])</span><br><span class="line"></span><br><span class="line">0    True</span><br><span class="line">dtype: bool</span><br></pre></td></tr></table></figure><h2 id="pandas的字符串操作"><a href="#pandas的字符串操作" class="headerlink" title="pandas的字符串操作"></a>pandas的字符串操作</h2><ul><li>某一列.str.contains(字符) 筛选出含有特定字符串的行</li><li>某一列.str.split(分割字符) 分割字符串(加参数expand=True分割后变两列)</li><li>某一列.str.replace(old,new)字符串的替换</li><li>某一列.str.startswith() 与 endswith()字符串两端的字符的判断 </li><li>某一列.str.findall()正则表达式 以数组形式返回 </li><li>某一列.str.cat()拼接字符串</li><li>某一列.str.extract() 抽取匹配的字符串出来，注意要加上括号，如extract(“([d-z])”)</li><li>某一列.str.match() 检测是否全部匹配给定点的字符串或者表达式</li><li>某一列.str.strip()去除特定字符(包括lstrip和rstrip)</li><li>某一列.str.get() 获取指定位置的字符串</li><li>某一列.str.pad() 左右补齐</li><li>某一列.str.len()len() 计算字符串的长度</li><li>某一列.str.center() 中间补齐</li><li>某一列.str.ljust() 右边补齐 rjust() 左边补齐</li><li>某一列.str.zfill() 左边补0</li><li>某一列.str.lower() 全部小写 upper() 全部大写</li><li>某一列.str.repeat() 重复</li><li>某一列.str.wrap() 在指定的位置加回车符号</li><li>某一列.str.slice() 按给点的开始结束位置切割字符串</li><li>某一列.str.slice_replace() 使用给定的字符串，替换指定的位置的字符</li><li>某一列.str.count() 计算给定单词出现的次数</li><li>某一列.str.strip() 去除前后的空白字符</li><li>某一列.str.strip() lstrip() rstrip() 去除前后的空白字符</li><li>某一列.str.find() 从左边开始，查找给定字符串的所在位置 rfind() 从右边开始</li><li>某一列.str.index() 查找给定字符串的位置，注意，如果不存在这个字符串，那么会报错</li><li>某一列.str.capitalize() 首字符大写</li><li>某一列.str.swapcase() 大小写互换</li><li>某一列.str.isalnum() 是否全部是数字和字母组成</li><li>某一列.str.isdecimal() 是否全是数字</li><li>某一列.str.isdigit() 是否全部都是数字</li><li>某一列.str.istitle() 是否只有首字母为大写，其他字母为小写</li><li>某一列.str.isspace() 是否空格</li><li>某一列.str.islower() 是否全部小写</li><li>某一列.str.isalpha() 是否全部是字母</li></ul><h2 id="列的合并merge-以某个键为参考，默认how-’inner’使用键的交集"><a href="#列的合并merge-以某个键为参考，默认how-’inner’使用键的交集" class="headerlink" title="列的合并merge,以某个键为参考，默认how=’inner’使用键的交集"></a>列的合并merge,以某个键为参考，默认how=’inner’使用键的交集</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">left = pd.DataFrame(&#123;</span><br><span class="line">         &apos;id&apos;:[1,2,3,4,5],</span><br><span class="line">         &apos;Name&apos;: [&apos;Alex&apos;, &apos;Amy&apos;, &apos;Allen&apos;, &apos;Alice&apos;, &apos;Ayoung&apos;],</span><br><span class="line">         &apos;subject_id&apos;:[&apos;sub1&apos;,&apos;sub2&apos;,&apos;sub4&apos;,&apos;sub6&apos;,&apos;sub5&apos;]&#125;)</span><br><span class="line">right = pd.DataFrame(</span><br><span class="line">         &#123;&apos;id&apos;:[1,2,3,4,5],</span><br><span class="line">         &apos;Name&apos;: [&apos;Billy&apos;, &apos;Brian&apos;, &apos;Bran&apos;, &apos;Bryce&apos;, &apos;Betty&apos;],</span><br><span class="line">         &apos;subject_id&apos;:[&apos;sub2&apos;,&apos;sub4&apos;,&apos;sub3&apos;,&apos;sub6&apos;,&apos;sub5&apos;]&#125;)</span><br><span class="line">print (left)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line">print (right)</span><br><span class="line"></span><br><span class="line">   id    Name subject_id</span><br><span class="line">0   1    Alex       sub1</span><br><span class="line">1   2     Amy       sub2</span><br><span class="line">2   3   Allen       sub4</span><br><span class="line">3   4   Alice       sub6</span><br><span class="line">4   5  Ayoung       sub5</span><br><span class="line">========================================</span><br><span class="line">   id   Name subject_id</span><br><span class="line">0   1  Billy       sub2</span><br><span class="line">1   2  Brian       sub4</span><br><span class="line">2   3   Bran       sub3</span><br><span class="line">3   4  Bryce       sub6</span><br><span class="line">4   5  Betty       sub5</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 在一个键上合并两个数据帧</span><br><span class="line">mdf=pd.merge(left,right,on=&apos;id&apos;)</span><br><span class="line">print(mdf)</span><br><span class="line"></span><br><span class="line">   id  Name_x subject_id_x Name_y subject_id_y</span><br><span class="line">0   1    Alex         sub1  Billy         sub2</span><br><span class="line">1   2     Amy         sub2  Brian         sub4</span><br><span class="line">2   3   Allen         sub4   Bran         sub3</span><br><span class="line">3   4   Alice         sub6  Bryce         sub6</span><br><span class="line">4   5  Ayoung         sub5  Betty         sub5</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 合并多个键上的两个数据帧</span><br><span class="line">mdf=pd.merge(left,right,on=[&apos;id&apos;,&apos;subject_id&apos;])</span><br><span class="line">print(mdf)</span><br><span class="line"></span><br><span class="line">   id  Name_x subject_id Name_y</span><br><span class="line">0   4   Alice       sub6  Bryce</span><br><span class="line">1   5  Ayoung       sub5  Betty</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"># 使用“how”的参数</span><br><span class="line"># left使用左侧对象的键</span><br><span class="line"># right使用右侧对象的键</span><br><span class="line"># outer使用键的并集</span><br><span class="line"># inner使用键的交集 默认inner</span><br><span class="line">mdf=pd.merge(left,right,on=&apos;subject_id&apos;,how=&apos;left&apos;)</span><br><span class="line">print(mdf)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line">mdf=pd.merge(left,right,on=&apos;subject_id&apos;,how=&apos;right&apos;)</span><br><span class="line">print(mdf)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line">mdf=pd.merge(left,right,on=&apos;subject_id&apos;,how=&apos;inner&apos;)</span><br><span class="line">print(mdf)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line">mdf=pd.merge(left,right,on=&apos;subject_id&apos;,how=&apos;outer&apos;)</span><br><span class="line">print(mdf)</span><br><span class="line"></span><br><span class="line">   id_x  Name_x subject_id  id_y Name_y</span><br><span class="line">0     1    Alex       sub1   NaN    NaN</span><br><span class="line">1     2     Amy       sub2   1.0  Billy</span><br><span class="line">2     3   Allen       sub4   2.0  Brian</span><br><span class="line">3     4   Alice       sub6   4.0  Bryce</span><br><span class="line">4     5  Ayoung       sub5   5.0  Betty</span><br><span class="line">========================================</span><br><span class="line">   id_x  Name_x subject_id  id_y Name_y</span><br><span class="line">0   2.0     Amy       sub2     1  Billy</span><br><span class="line">1   3.0   Allen       sub4     2  Brian</span><br><span class="line">2   NaN     NaN       sub3     3   Bran</span><br><span class="line">3   4.0   Alice       sub6     4  Bryce</span><br><span class="line">4   5.0  Ayoung       sub5     5  Betty</span><br><span class="line">========================================</span><br><span class="line">   id_x  Name_x subject_id  id_y Name_y</span><br><span class="line">0     2     Amy       sub2     1  Billy</span><br><span class="line">1     3   Allen       sub4     2  Brian</span><br><span class="line">2     4   Alice       sub6     4  Bryce</span><br><span class="line">3     5  Ayoung       sub5     5  Betty</span><br><span class="line">========================================</span><br><span class="line">   id_x  Name_x subject_id  id_y Name_y</span><br><span class="line">0   1.0    Alex       sub1   NaN    NaN</span><br><span class="line">1   2.0     Amy       sub2   1.0  Billy</span><br><span class="line">2   3.0   Allen       sub4   2.0  Brian</span><br><span class="line">3   4.0   Alice       sub6   4.0  Bryce</span><br><span class="line">4   5.0  Ayoung       sub5   5.0  Betty</span><br><span class="line">5   NaN     NaN       sub3   3.0   Bran</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">left = pd.DataFrame(&#123;</span><br><span class="line">         &apos;id&apos;:[1,2,3,4,5],</span><br><span class="line">         &apos;Name&apos;: [&apos;Alex&apos;, &apos;Amy&apos;, &apos;Allen&apos;, &apos;Alice&apos;, &apos;Ayoung&apos;],</span><br><span class="line">         &apos;sub_l&apos;:[&apos;sub1&apos;,&apos;sub2&apos;,&apos;sub4&apos;,&apos;sub6&apos;,&apos;sub5&apos;]&#125;)</span><br><span class="line">right = pd.DataFrame(</span><br><span class="line">         &#123;&apos;id&apos;:[1,2,3,4,5],</span><br><span class="line">         &apos;Name&apos;: [&apos;Billy&apos;, &apos;Brian&apos;, &apos;Bran&apos;, &apos;Bryce&apos;, &apos;Betty&apos;],</span><br><span class="line">         &apos;sub_r&apos;:[&apos;sub2&apos;,&apos;sub4&apos;,&apos;sub3&apos;,&apos;sub6&apos;,&apos;sub5&apos;]&#125;)</span><br><span class="line">print (left)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line">print (right)</span><br><span class="line"></span><br><span class="line">   id    Name sub_l</span><br><span class="line">0   1    Alex  sub1</span><br><span class="line">1   2     Amy  sub2</span><br><span class="line">2   3   Allen  sub4</span><br><span class="line">3   4   Alice  sub6</span><br><span class="line">4   5  Ayoung  sub5</span><br><span class="line">========================================</span><br><span class="line">   id   Name sub_r</span><br><span class="line">0   1  Billy  sub2</span><br><span class="line">1   2  Brian  sub4</span><br><span class="line">2   3   Bran  sub3</span><br><span class="line">3   4  Bryce  sub6</span><br><span class="line">4   5  Betty  sub5</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mdf=pd.merge(left,right,left_on=&apos;sub_l&apos;,right_on=&apos;sub_r&apos;)</span><br><span class="line">print(mdf)</span><br><span class="line"></span><br><span class="line">   id_x  Name_x sub_l  id_y Name_y sub_r</span><br><span class="line">0     2     Amy  sub2     1  Billy  sub2</span><br><span class="line">1     3   Allen  sub4     2  Brian  sub4</span><br><span class="line">2     4   Alice  sub6     4  Bryce  sub6</span><br><span class="line">3     5  Ayoung  sub5     5  Betty  sub5</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">left = pd.DataFrame(&#123;</span><br><span class="line">         &apos;id&apos;:[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;],</span><br><span class="line">         &apos;Name&apos;: [&apos;Alex&apos;, &apos;Amy&apos;, &apos;Allen&apos;, &apos;Alice&apos;, &apos;Ayoung&apos;],</span><br><span class="line">         &apos;sub_l&apos;:[&apos;sub1&apos;,&apos;sub2&apos;,&apos;sub4&apos;,&apos;sub6&apos;,&apos;sub5&apos;]&#125;)</span><br><span class="line">right = pd.DataFrame(</span><br><span class="line">         &#123;&apos;Name&apos;: [&apos;Billy&apos;, &apos;Brian&apos;, &apos;Bran&apos;, &apos;Bryce&apos;, &apos;Betty&apos;],</span><br><span class="line">         &apos;sub_r&apos;:[&apos;sub2&apos;,&apos;sub4&apos;,&apos;sub3&apos;,&apos;sub6&apos;,&apos;sub5&apos;]&#125;,index=[&apos;a&apos;,&apos;b&apos;,&apos;c&apos;,&apos;d&apos;,&apos;e&apos;])</span><br><span class="line">print (left)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line">print (right)</span><br><span class="line"></span><br><span class="line">  id    Name sub_l</span><br><span class="line">0  a    Alex  sub1</span><br><span class="line">1  b     Amy  sub2</span><br><span class="line">2  c   Allen  sub4</span><br><span class="line">3  d   Alice  sub6</span><br><span class="line">4  e  Ayoung  sub5</span><br><span class="line">========================================</span><br><span class="line">    Name sub_r</span><br><span class="line">a  Billy  sub2</span><br><span class="line">b  Brian  sub4</span><br><span class="line">c   Bran  sub3</span><br><span class="line">d  Bryce  sub6</span><br><span class="line">e  Betty  sub5</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mdf=pd.merge(left,right,left_on=&apos;id&apos;,right_index=True)</span><br><span class="line">print(mdf)</span><br><span class="line"></span><br><span class="line">  id  Name_x sub_l Name_y sub_r</span><br><span class="line">0  a    Alex  sub1  Billy  sub2</span><br><span class="line">1  b     Amy  sub2  Brian  sub4</span><br><span class="line">2  c   Allen  sub4   Bran  sub3</span><br><span class="line">3  d   Alice  sub6  Bryce  sub6</span><br><span class="line">4  e  Ayoung  sub5  Betty  sub5</span><br></pre></td></tr></table></figure><h2 id="数据帧的堆叠concat，默认join-’outer’取并集，axis-0竖向堆叠"><a href="#数据帧的堆叠concat，默认join-’outer’取并集，axis-0竖向堆叠" class="headerlink" title="数据帧的堆叠concat，默认join=’outer’取并集，axis=0竖向堆叠"></a>数据帧的堆叠concat，默认join=’outer’取并集，axis=0竖向堆叠</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line">df1 = pd.DataFrame(&#123;&apos;A&apos;: [&apos;A0&apos;, &apos;A1&apos;, &apos;A2&apos;, &apos;A3&apos;],</span><br><span class="line">                    &apos;B&apos;: [&apos;B0&apos;, &apos;B1&apos;, &apos;B2&apos;, &apos;B3&apos;],</span><br><span class="line">                    &apos;C&apos;: [&apos;C0&apos;, &apos;C1&apos;, &apos;C2&apos;, &apos;C3&apos;],</span><br><span class="line">                    &apos;D&apos;: [&apos;D0&apos;, &apos;D1&apos;, &apos;D2&apos;, &apos;D3&apos;]&#125;,</span><br><span class="line">                   index=[0, 1, 2, 3])</span><br><span class="line">df2 = pd.DataFrame(&#123;&apos;A&apos;: [&apos;A4&apos;, &apos;A5&apos;, &apos;A6&apos;, &apos;A7&apos;],</span><br><span class="line">                    &apos;B&apos;: [&apos;B4&apos;, &apos;B5&apos;, &apos;B6&apos;, &apos;B7&apos;],</span><br><span class="line">                    &apos;C&apos;: [&apos;C4&apos;, &apos;C5&apos;, &apos;C6&apos;, &apos;C7&apos;],</span><br><span class="line">                    &apos;D&apos;: [&apos;D4&apos;, &apos;D5&apos;, &apos;D6&apos;, &apos;D7&apos;]&#125;,</span><br><span class="line">                   index=[4, 5, 6, 7])</span><br><span class="line">df3 = pd.DataFrame(&#123;&apos;A&apos;: [&apos;A8&apos;, &apos;A9&apos;, &apos;A10&apos;, &apos;A11&apos;],</span><br><span class="line">                    &apos;B&apos;: [&apos;B8&apos;, &apos;B9&apos;, &apos;B10&apos;, &apos;B11&apos;],</span><br><span class="line">                    &apos;C&apos;: [&apos;C8&apos;, &apos;C9&apos;, &apos;C10&apos;, &apos;C11&apos;],</span><br><span class="line">                    &apos;D&apos;: [&apos;D8&apos;, &apos;D9&apos;, &apos;D10&apos;, &apos;D11&apos;]&#125;,</span><br><span class="line">                   index=[8, 9, 10, 11])</span><br><span class="line"></span><br><span class="line">print(&quot;df1:&quot;)</span><br><span class="line">print(df1)</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line">print(&quot;df2:&quot;)</span><br><span class="line">print(df2)</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line">print(&quot;df3:&quot;)</span><br><span class="line">print(df3)</span><br><span class="line"></span><br><span class="line">df1:</span><br><span class="line">    A   B   C   D</span><br><span class="line">0  A0  B0  C0  D0</span><br><span class="line">1  A1  B1  C1  D1</span><br><span class="line">2  A2  B2  C2  D2</span><br><span class="line">3  A3  B3  C3  D3</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df2:</span><br><span class="line">    A   B   C   D</span><br><span class="line">4  A4  B4  C4  D4</span><br><span class="line">5  A5  B5  C5  D5</span><br><span class="line">6  A6  B6  C6  D6</span><br><span class="line">7  A7  B7  C7  D7</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df3:</span><br><span class="line">      A    B    C    D</span><br><span class="line">8    A8   B8   C8   D8</span><br><span class="line">9    A9   B9   C9   D9</span><br><span class="line">10  A10  B10  C10  D10</span><br><span class="line">11  A11  B11  C11  D11</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#默认join=&apos;outer&apos;取并集，默认axis=0竖向堆叠</span><br><span class="line">cdf=pd.concat([df1,df2,df3]) </span><br><span class="line">print(cdf)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line"># 使用传递的键作为最外层构建层次索引。</span><br><span class="line">cdf=pd.concat([df1,df2,df3],keys=[&apos;x&apos;,&apos;y&apos;,&apos;z&apos;])</span><br><span class="line">print(cdf)</span><br><span class="line"></span><br><span class="line">      A    B    C    D</span><br><span class="line">0    A0   B0   C0   D0</span><br><span class="line">1    A1   B1   C1   D1</span><br><span class="line">2    A2   B2   C2   D2</span><br><span class="line">3    A3   B3   C3   D3</span><br><span class="line">4    A4   B4   C4   D4</span><br><span class="line">5    A5   B5   C5   D5</span><br><span class="line">6    A6   B6   C6   D6</span><br><span class="line">7    A7   B7   C7   D7</span><br><span class="line">8    A8   B8   C8   D8</span><br><span class="line">9    A9   B9   C9   D9</span><br><span class="line">10  A10  B10  C10  D10</span><br><span class="line">11  A11  B11  C11  D11</span><br><span class="line">========================================</span><br><span class="line">        A    B    C    D</span><br><span class="line">x 0    A0   B0   C0   D0</span><br><span class="line">  1    A1   B1   C1   D1</span><br><span class="line">  2    A2   B2   C2   D2</span><br><span class="line">  3    A3   B3   C3   D3</span><br><span class="line">y 4    A4   B4   C4   D4</span><br><span class="line">  5    A5   B5   C5   D5</span><br><span class="line">  6    A6   B6   C6   D6</span><br><span class="line">  7    A7   B7   C7   D7</span><br><span class="line">z 8    A8   B8   C8   D8</span><br><span class="line">  9    A9   B9   C9   D9</span><br><span class="line">  10  A10  B10  C10  D10</span><br><span class="line">  11  A11  B11  C11  D11</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#修改df3的index索引，方便对比</span><br><span class="line">df3 = pd.DataFrame(&#123;&apos;A&apos;: [&apos;A8&apos;, &apos;A9&apos;, &apos;A10&apos;, &apos;A11&apos;],</span><br><span class="line">                    &apos;B&apos;: [&apos;B8&apos;, &apos;B9&apos;, &apos;B10&apos;, &apos;B11&apos;],</span><br><span class="line">                    &apos;C&apos;: [&apos;C8&apos;, &apos;C9&apos;, &apos;C10&apos;, &apos;C11&apos;],</span><br><span class="line">                    &apos;D&apos;: [&apos;D8&apos;, &apos;D9&apos;, &apos;D10&apos;, &apos;D11&apos;]&#125;,</span><br><span class="line">                   index=[6, 7, 10, 11])</span><br><span class="line">print(df3)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line"></span><br><span class="line">cdf=pd.concat([df1,df2,df3])</span><br><span class="line">print(cdf)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line"># 如果想要生成的对象遵循新的索引，请将ignore_index设置为True</span><br><span class="line">cdf=pd.concat([df1,df2,df3],ignore_index=True)</span><br><span class="line">print(cdf)</span><br><span class="line"></span><br><span class="line">      A    B    C    D</span><br><span class="line">6    A8   B8   C8   D8</span><br><span class="line">7    A9   B9   C9   D9</span><br><span class="line">10  A10  B10  C10  D10</span><br><span class="line">11  A11  B11  C11  D11</span><br><span class="line">========================================</span><br><span class="line">      A    B    C    D</span><br><span class="line">0    A0   B0   C0   D0</span><br><span class="line">1    A1   B1   C1   D1</span><br><span class="line">2    A2   B2   C2   D2</span><br><span class="line">3    A3   B3   C3   D3</span><br><span class="line">4    A4   B4   C4   D4</span><br><span class="line">5    A5   B5   C5   D5</span><br><span class="line">6    A6   B6   C6   D6</span><br><span class="line">7    A7   B7   C7   D7</span><br><span class="line">6    A8   B8   C8   D8</span><br><span class="line">7    A9   B9   C9   D9</span><br><span class="line">10  A10  B10  C10  D10</span><br><span class="line">11  A11  B11  C11  D11</span><br><span class="line">========================================</span><br><span class="line">      A    B    C    D</span><br><span class="line">0    A0   B0   C0   D0</span><br><span class="line">1    A1   B1   C1   D1</span><br><span class="line">2    A2   B2   C2   D2</span><br><span class="line">3    A3   B3   C3   D3</span><br><span class="line">4    A4   B4   C4   D4</span><br><span class="line">5    A5   B5   C5   D5</span><br><span class="line">6    A6   B6   C6   D6</span><br><span class="line">7    A7   B7   C7   D7</span><br><span class="line">8    A8   B8   C8   D8</span><br><span class="line">9    A9   B9   C9   D9</span><br><span class="line">10  A10  B10  C10  D10</span><br><span class="line">11  A11  B11  C11  D11</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">cdf=pd.concat([df1,df2],axis=1) #横向堆叠数据帧</span><br><span class="line">print(cdf)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line">cdf=pd.concat([df2,df3],axis=1) #6,7两行索引一样</span><br><span class="line">print(cdf)</span><br><span class="line">print(&quot;========================================&quot;)</span><br><span class="line">cdf=pd.concat([df2,df3],axis=1,join=&apos;inner&apos;) #取交集</span><br><span class="line">print(cdf)</span><br><span class="line"></span><br><span class="line">     A    B    C    D    A    B    C    D</span><br><span class="line">0   A0   B0   C0   D0  NaN  NaN  NaN  NaN</span><br><span class="line">1   A1   B1   C1   D1  NaN  NaN  NaN  NaN</span><br><span class="line">2   A2   B2   C2   D2  NaN  NaN  NaN  NaN</span><br><span class="line">3   A3   B3   C3   D3  NaN  NaN  NaN  NaN</span><br><span class="line">4  NaN  NaN  NaN  NaN   A4   B4   C4   D4</span><br><span class="line">5  NaN  NaN  NaN  NaN   A5   B5   C5   D5</span><br><span class="line">6  NaN  NaN  NaN  NaN   A6   B6   C6   D6</span><br><span class="line">7  NaN  NaN  NaN  NaN   A7   B7   C7   D7</span><br><span class="line">========================================</span><br><span class="line">      A    B    C    D    A    B    C    D</span><br><span class="line">4    A4   B4   C4   D4  NaN  NaN  NaN  NaN</span><br><span class="line">5    A5   B5   C5   D5  NaN  NaN  NaN  NaN</span><br><span class="line">6    A6   B6   C6   D6   A8   B8   C8   D8</span><br><span class="line">7    A7   B7   C7   D7   A9   B9   C9   D9</span><br><span class="line">10  NaN  NaN  NaN  NaN  A10  B10  C10  D10</span><br><span class="line">11  NaN  NaN  NaN  NaN  A11  B11  C11  D11</span><br><span class="line">========================================</span><br><span class="line">    A   B   C   D   A   B   C   D</span><br><span class="line">6  A6  B6  C6  D6  A8  B8  C8  D8</span><br><span class="line">7  A7  B7  C7  D7  A9  B9  C9  D9</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cdf.index=[0,1]</span><br><span class="line">print(cdf)</span><br><span class="line"></span><br><span class="line">    A   B   C   D   A   B   C   D</span><br><span class="line">0  A6  B6  C6  D6  A8  B8  C8  D8</span><br><span class="line">1  A7  B7  C7  D7  A9  B9  C9  D9</span><br></pre></td></tr></table></figure><h2 id="去重duplicated-drop-duplicates"><a href="#去重duplicated-drop-duplicates" class="headerlink" title="去重duplicated(),drop_duplicates()"></a>去重duplicated(),drop_duplicates()</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># 去重</span><br><span class="line">data=&#123;</span><br><span class="line">    &apos;age&apos;:[1,2,1,2,3,2,1,4,5,3]</span><br><span class="line">&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">print(df)</span><br><span class="line">print(&apos;````````````````````````````&apos;)</span><br><span class="line">print(df.duplicated()) #得到布尔型df</span><br><span class="line">print(&apos;````````````````````````````&apos;)</span><br><span class="line">#通过布尔型索引得到去重后的值</span><br><span class="line">print(df[df.duplicated()==False]) </span><br><span class="line"></span><br><span class="line">   age</span><br><span class="line">0    1</span><br><span class="line">1    2</span><br><span class="line">2    1</span><br><span class="line">3    2</span><br><span class="line">4    3</span><br><span class="line">5    2</span><br><span class="line">6    1</span><br><span class="line">7    4</span><br><span class="line">8    5</span><br><span class="line">9    3</span><br><span class="line">`````````````````````````</span><br></pre></td></tr></table></figure><p>0    False<br>1    False<br>2     True<br>3     True<br>4    False<br>5     True<br>6     True<br>7    False<br>8    False<br>9     True<br>dtype: bool<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">   age</span><br><span class="line">0    1</span><br><span class="line">1    2</span><br><span class="line">4    3</span><br><span class="line">7    4</span><br><span class="line">8    5</span><br><span class="line"></span><br><span class="line">```</span><br><span class="line">```</span><br><span class="line">#在原数据之上修改</span><br><span class="line">df.drop_duplicates(inplace=True)</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line">   age</span><br><span class="line">0    1</span><br><span class="line">1    2</span><br><span class="line">4    3</span><br><span class="line">7    4</span><br><span class="line">8    5</span><br><span class="line">```</span><br><span class="line"></span><br><span class="line">## 替换replace</span><br><span class="line">```</span><br><span class="line">data=&#123;</span><br><span class="line">    &apos;name&apos;:[&apos;shu&apos;,&apos;lu&apos;,&apos;yun&apos;,&apos;wu&apos;,&apos;jia&apos;,&apos;yi&apos;],</span><br><span class="line">    &apos;age&apos;:[1,2,1,4,5,3]</span><br><span class="line">&#125;</span><br><span class="line">df=pd.DataFrame(data)</span><br><span class="line">print(df)</span><br><span class="line">print(&apos;````````````````````````````&apos;)</span><br><span class="line"></span><br><span class="line">print(df[&apos;age&apos;].replace(1,18)) #用18替换所有的1</span><br><span class="line">print(&apos;````````````````````````````&apos;)</span><br><span class="line"></span><br><span class="line">print(df[&apos;age&apos;].replace([2,4],20)) #用20替换所有的2，4</span><br><span class="line">print(&apos;````````````````````````````&apos;)</span><br><span class="line"></span><br><span class="line">df[&apos;name&apos;].replace(&#123; #多个值分别替换</span><br><span class="line">    &apos;lu&apos;:&apos;lulu&apos;,</span><br><span class="line">    &apos;yi&apos;:&apos;loveyi&apos;,</span><br><span class="line">    &apos;jia&apos;:&apos;jiaa&apos;</span><br><span class="line">&#125;,inplace=True) #inplace=True修改原始值</span><br><span class="line">print(df)</span><br><span class="line"></span><br><span class="line">  name  age</span><br><span class="line">0  shu    1</span><br><span class="line">1   lu    2</span><br><span class="line">2  yun    1</span><br><span class="line">3   wu    4</span><br><span class="line">4  jia    5</span><br><span class="line">5   yi    3</span><br></pre></td></tr></table></figure></p><p>0    18<br>1     2<br>2    18<br>3     4<br>4     5<br>5     3<br>Name: age, dtype: int64<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">0     1</span><br><span class="line">1    20</span><br><span class="line">2     1</span><br><span class="line">3    20</span><br><span class="line">4     5</span><br><span class="line">5     3</span><br><span class="line">Name: age, dtype: int64</span><br></pre></td></tr></table></figure></p><pre><code>name  age</code></pre><p>0     shu    1<br>1    lulu    2<br>2     yun    1<br>3      wu    4<br>4    jiaa    5<br>5  loveyi    3<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">## 分组groupby，我们将数据分成多个集合，并在每个子集上应用一些函数</span><br><span class="line">- 分组后可以执行操作：</span><br><span class="line">- 聚合：计算汇总统计，指对有关数据进行内容挑选、分析、归类，最后分析得到想要的结果</span><br><span class="line">- 转换：执行一些特定于组的操作</span><br><span class="line">- 过滤：在某些情况下丢弃数据</span><br></pre></td></tr></table></figure></p><h1 id="数据拆分成组并查看"><a href="#数据拆分成组并查看" class="headerlink" title="数据拆分成组并查看"></a><strong>数据拆分成组并查看</strong></h1><p>import numpy as np<br>import pandas as pd</p><p>data = {<br>    ‘Team’: [‘Riders’, ‘Riders’, ‘Devils’, ‘Devils’, ‘Kings’,<br>    ‘king’, ‘Kings’, ‘Kings’, ‘Riders’, ‘Royals’, ‘Royals’, ‘Riders’],<br>    ‘Rank’: [1, 2, 2, 3, 3,4 ,1 ,1,2 , 4,1,2],<br>    ‘Year’: [2014,2015,2014,2015,2014,2015,2016,2017,2016,2014,2015,2017],<br>    ‘Points’:[876,789,863,673,741,812,756,788,694,701,804,690]<br>}<br>df = pd.DataFrame(data)<br>print(df)<br>print(“\n”)<br>gs = df.groupby(“Team”) #按列分组<br>print(gs) #DataFrameGroupBy类对象<br>print(“\n”)<br>print(gs.groups) #字典形式，键为队名，值为索引构成的列表<br>print(“\n”)</p><pre><code>Team  Rank  Year  Points</code></pre><p>0   Riders     1  2014     876<br>1   Riders     2  2015     789<br>2   Devils     2  2014     863<br>3   Devils     3  2015     673<br>4    Kings     3  2014     741<br>5     king     4  2015     812<br>6    Kings     1  2016     756<br>7    Kings     1  2017     788<br>8   Riders     2  2016     694<br>9   Royals     4  2014     701<br>10  Royals     1  2015     804<br>11  Riders     2  2017     690</p><p>&lt;pandas.core.groupby.generic.DataFrameGroupBy object at 0x000001FF1ACEE4C0&gt;</p><p>{‘Devils’: [2, 3], ‘Kings’: [4, 6, 7], ‘Riders’: [0, 1, 8, 11], ‘Royals’: [9, 10], ‘king’: [5]}<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">```</span><br><span class="line"># 遍历分组结果</span><br><span class="line">gs = df.groupby(&quot;Team&quot;)</span><br><span class="line">for name, g in gs:</span><br><span class="line">    print(name)</span><br><span class="line">    print(g)</span><br><span class="line">    print(&quot;------------------------------&quot;)</span><br><span class="line"></span><br><span class="line">Devils</span><br><span class="line">     Team  Rank  Year  Points</span><br><span class="line">2  Devils     2  2014     863</span><br><span class="line">3  Devils     3  2015     673</span><br><span class="line">------------------------------</span><br><span class="line">Kings</span><br><span class="line">    Team  Rank  Year  Points</span><br><span class="line">4  Kings     3  2014     741</span><br><span class="line">6  Kings     1  2016     756</span><br><span class="line">7  Kings     1  2017     788</span><br><span class="line">------------------------------</span><br><span class="line">Riders</span><br><span class="line">      Team  Rank  Year  Points</span><br><span class="line">0   Riders     1  2014     876</span><br><span class="line">1   Riders     2  2015     789</span><br><span class="line">8   Riders     2  2016     694</span><br><span class="line">11  Riders     2  2017     690</span><br><span class="line">------------------------------</span><br><span class="line">Royals</span><br><span class="line">      Team  Rank  Year  Points</span><br><span class="line">9   Royals     4  2014     701</span><br><span class="line">10  Royals     1  2015     804</span><br><span class="line">------------------------------</span><br><span class="line">king</span><br><span class="line">   Team  Rank  Year  Points</span><br><span class="line">5  king     4  2015     812</span><br><span class="line">------------------------------</span><br></pre></td></tr></table></figure></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">gs = df.groupby([&quot;Team&quot;, &quot;Year&quot;]) #按多列分组</span><br><span class="line">print(gs.groups)</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line"></span><br><span class="line">for name, g in gs:</span><br><span class="line">    print(name)</span><br><span class="line">    print(g)</span><br><span class="line">    print(&quot;-------------------------------&quot;)</span><br><span class="line"></span><br><span class="line">&#123;(&apos;Devils&apos;, 2014): [2], (&apos;Devils&apos;, 2015): [3], (&apos;Kings&apos;, 2014): [4], (&apos;Kings&apos;, 2016): [6], (&apos;Kings&apos;, 2017): [7], (&apos;Riders&apos;, 2014): [0], (&apos;Riders&apos;, 2015): [1], (&apos;Riders&apos;, 2016): [8], (&apos;Riders&apos;, 2017): [11], (&apos;Royals&apos;, 2014): [9], (&apos;Royals&apos;, 2015): [10], (&apos;king&apos;, 2015): [5]&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">(&apos;Devils&apos;, 2014)</span><br><span class="line">     Team  Rank  Year  Points</span><br><span class="line">2  Devils     2  2014     863</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;Devils&apos;, 2015)</span><br><span class="line">     Team  Rank  Year  Points</span><br><span class="line">3  Devils     3  2015     673</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;Kings&apos;, 2014)</span><br><span class="line">    Team  Rank  Year  Points</span><br><span class="line">4  Kings     3  2014     741</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;Kings&apos;, 2016)</span><br><span class="line">    Team  Rank  Year  Points</span><br><span class="line">6  Kings     1  2016     756</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;Kings&apos;, 2017)</span><br><span class="line">    Team  Rank  Year  Points</span><br><span class="line">7  Kings     1  2017     788</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;Riders&apos;, 2014)</span><br><span class="line">     Team  Rank  Year  Points</span><br><span class="line">0  Riders     1  2014     876</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;Riders&apos;, 2015)</span><br><span class="line">     Team  Rank  Year  Points</span><br><span class="line">1  Riders     2  2015     789</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;Riders&apos;, 2016)</span><br><span class="line">     Team  Rank  Year  Points</span><br><span class="line">8  Riders     2  2016     694</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;Riders&apos;, 2017)</span><br><span class="line">      Team  Rank  Year  Points</span><br><span class="line">11  Riders     2  2017     690</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;Royals&apos;, 2014)</span><br><span class="line">     Team  Rank  Year  Points</span><br><span class="line">9  Royals     4  2014     701</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;Royals&apos;, 2015)</span><br><span class="line">      Team  Rank  Year  Points</span><br><span class="line">10  Royals     1  2015     804</span><br><span class="line">-------------------------------</span><br><span class="line">(&apos;king&apos;, 2015)</span><br><span class="line">   Team  Rank  Year  Points</span><br><span class="line">5  king     4  2015     812</span><br><span class="line">-------------------------------</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># **选择一个分组**</span><br><span class="line">gs = df.groupby(&quot;Year&quot;)</span><br><span class="line">g = gs.get_group(2017)</span><br><span class="line">print(g)</span><br><span class="line"></span><br><span class="line">      Team  Rank  Year  Points</span><br><span class="line">7    Kings     1  2017     788</span><br><span class="line">11  Riders     2  2017     690</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">gs=df.groupby(df.dtypes,axis=1) #按数据类型分组</span><br><span class="line">for name, g in gs:</span><br><span class="line">    print(name)</span><br><span class="line">    print(g)</span><br><span class="line">    print(&quot;-------------------------------&quot;)</span><br><span class="line"></span><br><span class="line">int64</span><br><span class="line">    Rank  Year  Points</span><br><span class="line">0      1  2014     876</span><br><span class="line">1      2  2015     789</span><br><span class="line">2      2  2014     863</span><br><span class="line">3      3  2015     673</span><br><span class="line">4      3  2014     741</span><br><span class="line">5      4  2015     812</span><br><span class="line">6      1  2016     756</span><br><span class="line">7      1  2017     788</span><br><span class="line">8      2  2016     694</span><br><span class="line">9      4  2014     701</span><br><span class="line">10     1  2015     804</span><br><span class="line">11     2  2017     690</span><br><span class="line">-------------------------------</span><br><span class="line">object</span><br><span class="line">      Team</span><br><span class="line">0   Riders</span><br><span class="line">1   Riders</span><br><span class="line">2   Devils</span><br><span class="line">3   Devils</span><br><span class="line">4    Kings</span><br><span class="line">5     king</span><br><span class="line">6    Kings</span><br><span class="line">7    Kings</span><br><span class="line">8   Riders</span><br><span class="line">9   Royals</span><br><span class="line">10  Royals</span><br><span class="line">11  Riders</span><br><span class="line">-------------------------------</span><br></pre></td></tr></table></figure><h2 id="聚合，操作分组后的数据"><a href="#聚合，操作分组后的数据" class="headerlink" title="聚合，操作分组后的数据"></a>聚合，操作分组后的数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"># 聚合 **操作分组后的数据**  忽略nan值</span><br><span class="line">data = &#123;</span><br><span class="line">    &apos;Team&apos;: [&apos;Riders&apos;, &apos;Riders&apos;, &apos;Devils&apos;, &apos;Devils&apos;, &apos;Kings&apos;,</span><br><span class="line">    &apos;king&apos;, &apos;Kings&apos;, &apos;Kings&apos;, &apos;Riders&apos;, &apos;Royals&apos;, &apos;Royals&apos;, &apos;Riders&apos;],</span><br><span class="line">    &apos;Rank&apos;: [1, 2, 2, 3, 3,4 ,1 ,1,2 , 4,1,2],</span><br><span class="line">    &apos;Year&apos;: [2014,2015,2014,2015,2014,2015,2016,2017,2016,2014,2015,2017],</span><br><span class="line">    &apos;Points&apos;:[876,789,863,673,741,812,756,788,694,701,804,690]</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line">print(df)</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line"></span><br><span class="line"># 应用一个聚合函数</span><br><span class="line">gs=df.groupby(&apos;Team&apos;).sum()#按队名分组，并对每个队的其他项目求和</span><br><span class="line">print(gs)</span><br><span class="line">print(&apos;----------------------------&apos;)</span><br><span class="line"></span><br><span class="line"># 同时应用多个聚合函数</span><br><span class="line">gs=df.groupby(&apos;Team&apos;)</span><br><span class="line"></span><br><span class="line"># 若要对每个项目都应用多个函数，则只需df.groupby(&apos;Team&apos;).agg([各个方法即可])</span><br><span class="line">#这里，按队名分组，并对每个队的&apos;Rank&apos;项目求各个值</span><br><span class="line">g=gs[&apos;Rank&apos;].agg([np.sum,np.min,np.size])#按队名分组，并对每个队的其他项目求和</span><br><span class="line">print(g)</span><br><span class="line">g.columns=[&apos;求和&apos;,&apos;最小值&apos;,&apos;个数&apos;]</span><br><span class="line">g</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      Team  Rank  Year  Points</span><br><span class="line">0   Riders     1  2014     876</span><br><span class="line">1   Riders     2  2015     789</span><br><span class="line">2   Devils     2  2014     863</span><br><span class="line">3   Devils     3  2015     673</span><br><span class="line">4    Kings     3  2014     741</span><br><span class="line">5     king     4  2015     812</span><br><span class="line">6    Kings     1  2016     756</span><br><span class="line">7    Kings     1  2017     788</span><br><span class="line">8   Riders     2  2016     694</span><br><span class="line">9   Royals     4  2014     701</span><br><span class="line">10  Royals     1  2015     804</span><br><span class="line">11  Riders     2  2017     690</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Rank  Year  Points</span><br><span class="line">Team                      </span><br><span class="line">Devils     5  4029    1536</span><br><span class="line">Kings      5  6047    2285</span><br><span class="line">Riders     7  8062    3049</span><br><span class="line">Royals     5  4029    1505</span><br><span class="line">king       4  2015     812</span><br><span class="line">----------------------------</span><br><span class="line">        sum  amin  size</span><br><span class="line">Team                   </span><br><span class="line">Devils    5     2     2</span><br><span class="line">Kings     5     1     3</span><br><span class="line">Riders    7     1     4</span><br><span class="line">Royals    5     1     2</span><br><span class="line">king      4     4     1</span><br><span class="line"></span><br><span class="line">      求和最小值个数</span><br><span class="line">Team</span><br><span class="line">Devils5    2    2</span><br><span class="line">Kings  5    1    3</span><br><span class="line">Riders7    1    4</span><br><span class="line">Royals5    1    2</span><br><span class="line">king  4    4    1</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"># apply聚合 应用自己写的函数</span><br><span class="line">data = &#123;</span><br><span class="line">    &apos;Team&apos;: [&apos;Riders&apos;, &apos;Riders&apos;, &apos;Devils&apos;, &apos;Devils&apos;, &apos;Kings&apos;,</span><br><span class="line">    &apos;king&apos;, &apos;Kings&apos;, &apos;Kings&apos;, &apos;Riders&apos;, &apos;Royals&apos;, &apos;Royals&apos;, &apos;Riders&apos;],</span><br><span class="line">    &apos;Rank&apos;: [1, 2, 2, 3, 3,4 ,1 ,1,2 , 4,1,2],</span><br><span class="line">    &apos;Year&apos;: [2014,2015,2014,2015,2014,2015,2016,2017,2016,2014,2015,2017],</span><br><span class="line">    &apos;Points&apos;:[876,789,863,673,741,812,756,788,694,701,804,690]</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line">print(df)</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line"></span><br><span class="line"># 应用一个自定义的聚合函数</span><br><span class="line">gs=df.groupby(&apos;Team&apos;)[&apos;Rank&apos;].apply(lambda x:x+10)</span><br><span class="line">print(gs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      Team  Rank  Year  Points</span><br><span class="line">0   Riders     1  2014     876</span><br><span class="line">1   Riders     2  2015     789</span><br><span class="line">2   Devils     2  2014     863</span><br><span class="line">3   Devils     3  2015     673</span><br><span class="line">4    Kings     3  2014     741</span><br><span class="line">5     king     4  2015     812</span><br><span class="line">6    Kings     1  2016     756</span><br><span class="line">7    Kings     1  2017     788</span><br><span class="line">8   Riders     2  2016     694</span><br><span class="line">9   Royals     4  2014     701</span><br><span class="line">10  Royals     1  2015     804</span><br><span class="line">11  Riders     2  2017     690</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">0     11</span><br><span class="line">1     12</span><br><span class="line">2     12</span><br><span class="line">3     13</span><br><span class="line">4     13</span><br><span class="line">5     14</span><br><span class="line">6     11</span><br><span class="line">7     11</span><br><span class="line">8     12</span><br><span class="line">9     14</span><br><span class="line">10    11</span><br><span class="line">11    12</span><br><span class="line">Name: Rank, dtype: int64</span><br></pre></td></tr></table></figure><h2 id="转换"><a href="#转换" class="headerlink" title="转换"></a>转换</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">gs = df.groupby(&quot;Team&quot;)</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line"></span><br><span class="line"># 转换返回索引与原DataFrame的索引相同的对象</span><br><span class="line"># 对比gs=df.groupby(&apos;Team&apos;).sum()看更好理解</span><br><span class="line"></span><br><span class="line">print(gs.transform(np.sum))</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line">print(gs[&quot;Points&quot;].transform(np.sum))</span><br><span class="line"></span><br><span class="line">      Team  Rank  Year  Points</span><br><span class="line">0   Riders     1  2014     876</span><br><span class="line">1   Riders     2  2015     789</span><br><span class="line">2   Devils     2  2014     863</span><br><span class="line">3   Devils     3  2015     673</span><br><span class="line">4    Kings     3  2014     741</span><br><span class="line">5     king     4  2015     812</span><br><span class="line">6    Kings     1  2016     756</span><br><span class="line">7    Kings     1  2017     788</span><br><span class="line">8   Riders     2  2016     694</span><br><span class="line">9   Royals     4  2014     701</span><br><span class="line">10  Royals     1  2015     804</span><br><span class="line">11  Riders     2  2017     690</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    Rank  Year  Points</span><br><span class="line">0      7  8062    3049</span><br><span class="line">1      7  8062    3049</span><br><span class="line">2      5  4029    1536</span><br><span class="line">3      5  4029    1536</span><br><span class="line">4      5  6047    2285</span><br><span class="line">5      4  2015     812</span><br><span class="line">6      5  6047    2285</span><br><span class="line">7      5  6047    2285</span><br><span class="line">8      7  8062    3049</span><br><span class="line">9      5  4029    1505</span><br><span class="line">10     5  4029    1505</span><br><span class="line">11     7  8062    3049</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">0     3049</span><br><span class="line">1     3049</span><br><span class="line">2     1536</span><br><span class="line">3     1536</span><br><span class="line">4     2285</span><br><span class="line">5      812</span><br><span class="line">6     2285</span><br><span class="line">7     2285</span><br><span class="line">8     3049</span><br><span class="line">9     1505</span><br><span class="line">10    1505</span><br><span class="line">11    3049</span><br><span class="line">Name: Points, dtype: int64</span><br></pre></td></tr></table></figure><h2 id="过滤-根据定义的标准，过滤数据并返回数据的子集"><a href="#过滤-根据定义的标准，过滤数据并返回数据的子集" class="headerlink" title="过滤 根据定义的标准，过滤数据并返回数据的子集"></a>过滤 根据定义的标准，过滤数据并返回数据的子集</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">print(df)</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line">gs = df.groupby(&quot;Team&quot;)</span><br><span class="line">print(gs.groups)</span><br><span class="line">print(&quot;\n&quot;)</span><br><span class="line"></span><br><span class="line">print(gs.filter(lambda x: len(x) &gt;= 4))</span><br><span class="line"></span><br><span class="line">      Team  Rank  Year  Points</span><br><span class="line">0   Riders     1  2014     876</span><br><span class="line">1   Riders     2  2015     789</span><br><span class="line">2   Devils     2  2014     863</span><br><span class="line">3   Devils     3  2015     673</span><br><span class="line">4    Kings     3  2014     741</span><br><span class="line">5     king     4  2015     812</span><br><span class="line">6    Kings     1  2016     756</span><br><span class="line">7    Kings     1  2017     788</span><br><span class="line">8   Riders     2  2016     694</span><br><span class="line">9   Royals     4  2014     701</span><br><span class="line">10  Royals     1  2015     804</span><br><span class="line">11  Riders     2  2017     690</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;&apos;Devils&apos;: [2, 3], &apos;Kings&apos;: [4, 6, 7], &apos;Riders&apos;: [0, 1, 8, 11], &apos;Royals&apos;: [9, 10], &apos;king&apos;: [5]&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      Team  Rank  Year  Points</span><br><span class="line">0   Riders     1  2014     876</span><br><span class="line">1   Riders     2  2015     789</span><br><span class="line">8   Riders     2  2016     694</span><br><span class="line">11  Riders     2  2017     690</span><br></pre></td></tr></table></figure><h2 id="分类数据"><a href="#分类数据" class="headerlink" title="分类数据"></a>分类数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 分类是Pandas中的一种数据类型，通常实时的数据包括重复的文本列</span><br><span class="line"># 例如：性别，国家和代码等特征总是重复的</span><br><span class="line">import numpy as np</span><br><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line">data = &#123;</span><br><span class="line">    &quot;name&quot;: pd.Series([&quot;刘德华&quot;, &quot;阿尔帕西诺&quot;, &quot;成德善&quot;, &quot;张学友&quot;, &quot;金正焕&quot;, &quot;刀郎&quot;]),</span><br><span class="line">    &quot;country&quot;: pd.Series([&quot;中国&quot;, &quot;美国&quot;, &quot;韩国&quot;, &quot;中国&quot;, &quot;韩国&quot;, &quot;中国&quot;],dtype=&apos;category&apos;),</span><br><span class="line">    &quot;sex&quot;: pd.Categorical([&quot;男&quot;, &quot;男&quot;, &quot;女&quot;, &quot;男&quot;, &quot;男&quot;, &quot;男&quot;])</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"></span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">namecountrysex</span><br><span class="line">0刘德华中国男</span><br><span class="line">1阿尔帕西诺美国男</span><br><span class="line">2成德善韩国女</span><br><span class="line">3张学友中国男</span><br><span class="line">4金正焕韩国男</span><br><span class="line">5刀郎中国男</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">print(df[&apos;country&apos;])</span><br><span class="line">print(df[&apos;sex&apos;])</span><br><span class="line"></span><br><span class="line">0    中国</span><br><span class="line">1    美国</span><br><span class="line">2    韩国</span><br><span class="line">3    中国</span><br><span class="line">4    韩国</span><br><span class="line">5    中国</span><br><span class="line">Name: country, dtype: category</span><br><span class="line">Categories (3, object): [&apos;中国&apos;, &apos;美国&apos;, &apos;韩国&apos;]</span><br><span class="line"></span><br><span class="line">0    男</span><br><span class="line">1    男</span><br><span class="line">2    女</span><br><span class="line">3    男</span><br><span class="line">4    男</span><br><span class="line">5    男</span><br><span class="line">Name: sex, dtype: category</span><br><span class="line">Categories (2, object): [&apos;女&apos;, &apos;男&apos;]</span><br></pre></td></tr></table></figure><h2 id="数据透视表"><a href="#数据透视表" class="headerlink" title="数据透视表"></a>数据透视表</h2><ul><li>未设置aggfunc时，它默认aggfunc=’mean’计算均值</li><li>它根据一个或多个键对数据进行聚合，</li><li>并根据行和列上的分组键将数据分配到各个矩形区域中。</li></ul><table><thead><tr><th>参数</th><th>说明</th></tr></thead><tbody><tr><td>data</td><td>DataFrame</td></tr><tr><td>values</td><td>待聚合的列的名称。默认聚合所有数值列</td></tr><tr><td>index</td><td>用于分组的列名或其他分组键，出现在结果透视表的行</td></tr><tr><td>columns</td><td>用于分组的列名或其他分组键，出现在结果透视表的列</td></tr><tr><td>aggfunc</td><td>聚合函数或函数列表，默认为‘mean’。可以使任何对groupby有效的函数</td></tr><tr><td>fill_value</td><td>用于替换结果表中的缺失值</td></tr><tr><td>dropna</td><td>boolean，默认为True</td></tr><tr><td>margins_name</td><td>string，默认为‘ALL’，当参数margins为True时，ALL行和列的名字</td></tr></tbody></table><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">path=&apos;E:/Users/lqy/Desktop/Pandas学习/James_Harden.csv&apos;</span><br><span class="line">df = pd.read_csv(path)</span><br><span class="line">df.head()</span><br><span class="line"></span><br><span class="line">对手胜负主客场命中投篮数投篮命中率3分命中率篮板助攻得分</span><br><span class="line">0勇士胜客10230.4350.44461127</span><br><span class="line">1国王胜客8210.3810.2863927</span><br><span class="line">2小牛胜主10190.5260.4623729</span><br><span class="line">3灰熊负主8200.4000.2505822</span><br><span class="line">476人胜客10200.5000.25031327</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">index</span><br><span class="line">作用：每个pivot_table必须拥有一个index，Index就是层次字段，</span><br><span class="line">要通过透视表获取什么信息就按照相应的顺序设置字段，</span><br><span class="line">所以在进行pivot之前你也需要足够了解你的数据</span><br><span class="line"></span><br><span class="line"># 如果想查看哈登对阵每个队伍的得分，首先我们将对手设置为index</span><br><span class="line">pd.pivot_table(df,index=[u&apos;对手&apos;]).head()</span><br><span class="line"></span><br><span class="line">  3分命中率助攻命中得分投篮命中率投篮数篮板</span><br><span class="line">对手</span><br><span class="line">76人0.339510.09.028.00.440520.53.5</span><br><span class="line">勇士0.444011.010.027.00.435023.06.0</span><br><span class="line">国王0.28609.08.027.00.381021.03.0</span><br><span class="line">太阳0.54507.012.048.00.545022.02.0</span><br><span class="line">小牛0.46207.010.029.00.526019.03.0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 对手成为了第一层索引，还想看看对阵同一对手在不同主客场下的数据，</span><br><span class="line"># 试着将对手与胜负与主客场都设置为index，其实就变成为了两层索引</span><br><span class="line">pd.pivot_table(df,index=[u&apos;对手&apos;, u&apos;主客场&apos;]).head()</span><br><span class="line"></span><br><span class="line">3分命中率助攻命中得分投篮命中率投篮数篮板</span><br><span class="line">对手主客场</span><br><span class="line">76人主0.4297.08.029.00.38121.04.0</span><br><span class="line">客0.25013.010.027.00.50020.03.0</span><br><span class="line">勇士客0.44411.010.027.00.43523.06.0</span><br><span class="line">国王客0.2869.08.027.00.38121.03.0</span><br><span class="line">太阳客0.5457.012.048.00.54522.02.0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 试着交换下它们的顺序，数据结果一样</span><br><span class="line">pd.pivot_table(df,index=[u&apos;主客场&apos;,u&apos;对手&apos;]).head(15)</span><br><span class="line"></span><br><span class="line">      3分命中率助攻命中得分投篮命中率投篮数篮板</span><br><span class="line">主客场对手</span><br><span class="line">    主76人0.42907.08.029.00.38121.04.0</span><br><span class="line">        小牛0.46207.010.029.00.52619.03.0</span><br><span class="line">        尼克斯0.385010.012.037.00.44427.02.0</span><br><span class="line">        掘金0.14309.06.021.00.37516.08.0</span><br><span class="line">        步行者0.333010.08.029.00.36422.08.0</span><br><span class="line">        灰熊0.33958.09.530.00.42022.54.5</span><br><span class="line">        爵士0.875013.019.056.00.76025.02.0</span><br><span class="line">        猛龙0.273011.08.038.00.32025.06.0</span><br><span class="line">        篮网0.61508.013.037.00.65020.010.0</span><br><span class="line">        骑士0.429013.08.035.00.38121.011.0</span><br><span class="line">        鹈鹕0.400017.08.026.00.50016.01.0</span><br><span class="line">    客76人0.250013.010.027.00.50020.03.0</span><br><span class="line">        勇士0.444011.010.027.00.43523.06.0</span><br><span class="line">        国王0.28609.08.027.00.38121.03.0</span><br><span class="line">        太阳0.54507.012.048.00.54522.02.0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># values</span><br><span class="line"># 作用：可以对需要的计算数据进行筛选</span><br><span class="line"># 案例：我们只需要james harden在主客场和不同胜负情况下的得分、篮板与助攻三项数据</span><br><span class="line">pd.pivot_table(df,index=[u&apos;主客场&apos;,u&apos;胜负&apos;],values=[u&apos;得分&apos;,u&apos;助攻&apos;,u&apos;篮板&apos;])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                助攻得分篮板</span><br><span class="line">主客场 胜负</span><br><span class="line">  主  胜10.55555634.2222225.444444</span><br><span class="line">        负8.66666729.6666675.000000</span><br><span class="line">  客  胜9.00000032.0000004.916667</span><br><span class="line">        负8.00000020.0000004.000000</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># aggfunc</span><br><span class="line"></span><br><span class="line"># 作用：设置我们对数据聚合时进行的函数操作，未设置aggfunc时，它默认aggfunc=&apos;mean&apos;计算均值</span><br><span class="line"></span><br><span class="line"># 1. 获得james harden在主客场和不同胜负情况下的总得分、总篮板、总助攻</span><br><span class="line">pd.pivot_table(df,index=[u&apos;主客场&apos;,u&apos;胜负&apos;],values=[u&apos;得分&apos;,u&apos;助攻&apos;,u&apos;篮板&apos;],aggfunc=[np.sum,np.max])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                    sumamax</span><br><span class="line">          助攻得分篮板助攻得分篮板</span><br><span class="line">主客场胜负</span><br><span class="line">    主胜9530849175611</span><br><span class="line">        负26891511386</span><br><span class="line">    客胜10838459154810</span><br><span class="line">        负8  204  8  204</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># aggfunc也可以使用dict类型，助攻求min,max和mean,得分求mean</span><br><span class="line">pd.pivot_table(df,index=[u&apos;对手&apos;,u&apos;胜负&apos;],values=[u&apos;得分&apos;,u&apos;助攻&apos;,u&apos;篮板&apos;],</span><br><span class="line">               aggfunc=&#123;u&apos;得分&apos;:np.mean, u&apos;助攻&apos;:[min, max, np.mean]&#125;).head()</span><br><span class="line"></span><br><span class="line">      助攻        得分</span><br><span class="line">          maxmeanminmean</span><br><span class="line">对手胜负</span><br><span class="line">76人胜13.013.013.027.0</span><br><span class="line">      负7.0  7.0  7.0  29.0</span><br><span class="line">勇士胜11.011.011.027.0</span><br><span class="line">国王胜9.0  9.0  9.0  27.0</span><br><span class="line">太阳胜7.0  7.0  7.0  48.0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># columns</span><br><span class="line"></span><br><span class="line"># 作用：类似Index可以设置列层次字段，它不是一个必要参数，作为一种分割数据的可选方式</span><br><span class="line">pd.pivot_table(df,index=[u&apos;对手&apos;,u&apos;胜负&apos;],columns=[u&apos;主客场&apos;],values=[u&apos;得分&apos;]).head()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        得分</span><br><span class="line">    主客场主客</span><br><span class="line">对手胜负</span><br><span class="line">76人胜NaN27.0</span><br><span class="line">      负29.0NaN</span><br><span class="line">勇士胜NaN27.0</span><br><span class="line">国王胜NaN27.0</span><br><span class="line">太阳胜NaN48.0</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># fill_value</span><br><span class="line"></span><br><span class="line"># 作用：填充空值</span><br><span class="line">pd.pivot_table(df,index=[u&apos;对手&apos;,u&apos;胜负&apos;],columns=[u&apos;主客场&apos;],values=[u&apos;得分&apos;], fill_value=0).head()</span><br><span class="line"></span><br><span class="line">  得分</span><br><span class="line">    主客场 主客</span><br><span class="line">对手胜负</span><br><span class="line">76人胜0  27</span><br><span class="line">      负290</span><br><span class="line">勇士胜0  27</span><br><span class="line">国王胜0  27</span><br><span class="line">太阳胜0  48</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"># margins</span><br><span class="line"></span><br><span class="line"># 作用：是否进行汇总</span><br><span class="line">pd.pivot_table(df,index=[u&apos;主客场&apos;],columns=[u&apos;对手&apos;],values=[u&apos;得分&apos;],aggfunc=[np.sum],fill_value=0,margins=1)</span><br><span class="line"></span><br><span class="line">    sum</span><br><span class="line">      得分</span><br><span class="line">对手76人勇士国王太阳小牛尼克斯开拓者掘金步行者湖人灰熊爵士猛龙篮网老鹰骑士鹈鹕黄蜂All</span><br><span class="line">主客场</span><br><span class="line">  主29000293702129060563837035260397</span><br><span class="line">  客272727480314802636492900290027404</span><br><span class="line">  All5627274829684821553610985383729352627801</span><br></pre></td></tr></table></figure><h2 id="数据交叉表"><a href="#数据交叉表" class="headerlink" title="数据交叉表"></a>数据交叉表</h2><ol><li>透视表pivot_table()是一种进行分组统计的函数，参数aggfunc决定统计类型</li><li>交叉表crosstab()是一种特殊的pivot_table()，专用于计算分组频率</li></ol><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line"></span><br><span class="line">df = pd.DataFrame(&#123;&apos;Sample&apos;: range(1, 8), </span><br><span class="line">                   &apos;Gender&apos;: [&apos;Female&apos;, &apos;Male&apos;, &apos;Female&apos;, &apos;Male&apos;, &apos;Male&apos;, &apos;Male&apos;, &apos;Female&apos;], </span><br><span class="line">                   &apos;Handedness&apos;: [&apos;Right-handed&apos;, &apos;Left-handed&apos;, &apos;Right-handed&apos;, &apos;Right-handed&apos;, &apos;Left-handed&apos;, &apos;Right-handed&apos;, &apos;Right-handed&apos;]&#125;)</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">SampleGenderHandedness</span><br><span class="line">01FemaleRight-handed</span><br><span class="line">12MaleLeft-handed</span><br><span class="line">23FemaleRight-handed</span><br><span class="line">34MaleRight-handed</span><br><span class="line">45MaleLeft-handed</span><br><span class="line">56MaleRight-handed</span><br><span class="line">67FemaleRight-handed</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 需求：根据性别和用手习惯对这段数据进行统计汇总</span><br><span class="line"></span><br><span class="line"># 1. pivot_table()实现该功能</span><br><span class="line">pd.pivot_table(df, index=[&apos;Gender&apos;], columns=&apos;Handedness&apos;, aggfunc=len, margins=True)</span><br><span class="line"></span><br><span class="line">    Sample</span><br><span class="line">HandednessLeft-handedRight-handedAll</span><br><span class="line">    Gender</span><br><span class="line">    FemaleNaN          3.0       3</span><br><span class="line">      Male2.0          2.0        4</span><br><span class="line">       All2.0          5.0         7</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># crosstab()函数会更方便</span><br><span class="line">pd.crosstab(df.Gender, df.Handedness, margins=True)</span><br><span class="line"></span><br><span class="line">HandednessLeft-handedRight-handedAll</span><br><span class="line">    Gender</span><br><span class="line">    Female0              3          3</span><br><span class="line">      Male2              2          4</span><br><span class="line">      All  2              5          7</span><br></pre></td></tr></table></figure><h2 id="IO操作-文件读写"><a href="#IO操作-文件读写" class="headerlink" title="IO操作 文件读写"></a>IO操作 文件读写</h2><table><thead><tr><th>read_csv</th><th>读取CSV文件</th></tr></thead><tbody><tr><td>read_excel</td><td>读取Excel文件</td></tr><tr><td>read_html</td><td>读取网页HTML文件</td></tr><tr><td>read_sql</td><td>读取sql数据库</td></tr><tr><td>read_sql_table</td><td>读取sql数据库中的表</td></tr></tbody></table><table><thead><tr><th>常用写文件方法</th><th>说明</th></tr></thead><tbody><tr><td>to_csv</td><td>写CSV文件</td></tr><tr><td>to_excel</td><td>写Excel文件</td></tr><tr><td>to_sql</td><td>写数据库</td></tr></tbody></table><p>注意事项：</p><ol><li>encoding一般情况下我们用utf-8编码进行保存，如果出现中文编码错误，则可以依次换用gbk，gb2312 , gb18030，一般总能成功的，本例中用utf-8</li><li>to_csv方法，具体参数还有很多，可以去看官方文档，这里提到一个index = False参数，表示保存csv的时候，我们不保存pandas 的Data frame的行索引1234这样的序号，默认情况不加的话是index = True，会有行号，这点在保存数据库mysql的时候体现尤其明显，不注意的话可能会出错</li></ol><p><strong>从csv文件读取后，作为DataFrame时，会自动添加索引列，然后保存，当再次读取时，会多一列叫：Unnamed: 0 ，处理如下：</strong></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df=pd.read_csv(&quot;./data.csv&quot;, index_col=[&quot;Unnamed: 0&quot;])</span><br><span class="line"></span><br><span class="line">或者直接删除这一列：</span><br><span class="line"></span><br><span class="line">del df[&apos;Unnamed: 0&apos;]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#dtype的列可以作为字典传递,分别指定某一列的数据类型</span><br><span class="line">dtype=&#123;&apos;id&apos;: np.float64&#125;</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/pandas/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8Bpandas%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
    </item>
    
    <item>
      <title>数据分析之NumPy笔记</title>
      <link>https://shulu520.com/NumPy/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8BNumPy%E7%AC%94%E8%AE%B0/</link>
      <guid>https://shulu520.com/NumPy/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8BNumPy%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Thu, 08 Apr 2021 14:03:00 GMT</pubDate>
      <description>
      
        Python数据分析以及机器学习的基础知识NumPy简单了解
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="NumPy简介"><a href="#NumPy简介" class="headerlink" title="NumPy简介"></a>NumPy简介</h2><ul><li>是一个运行速度非常快的数学库，主要用于数组计算</li><li>NumPy 通常与 SciPy和 Matplotlib（绘图库）一起使用， 这种组合广泛用于替代 MatLab</li><li>是一个强大的科学计算环境，有助于我们通过 Python 学习数据科学或者机器学习</li><li>包含一个强大的N维数组对象 ndarray<h3 id="NumPy数据结构"><a href="#NumPy数据结构" class="headerlink" title="NumPy数据结构"></a>NumPy数据结构</h3></li><li>numpy 支持的数据类型比 Python 内置的类型要多很多，</li><li>基本上可以和 C 语言的数据类型对应上，其中部分类型对应为 Python 内置的类型</li></ul><h2 id="创建Ndarray数组对象"><a href="#创建Ndarray数组对象" class="headerlink" title="创建Ndarray数组对象"></a>创建Ndarray数组对象</h2><h3 id="使用array函数"><a href="#使用array函数" class="headerlink" title="使用array函数"></a>使用array函数</h3><ul><li>numpy默认ndarray的所有元素的类型是相同的，这一点与Python中的list不同</li><li>如果传进来的列表中包含不同的类型，则统一为同一类型，优先级：str&gt;float&gt;int<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">一维数组</span><br><span class="line">import numpy as np</span><br><span class="line">arr = np.array([1,2,3,4,5])</span><br><span class="line">print(arr) # [1 2 3 4 5]</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">二维数组</span><br><span class="line">import numpy as np</span><br><span class="line">arr = np.array([[1,2,3],[4,5,6]])</span><br><span class="line">print(arr)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">常用的二维数组创建方式</span><br><span class="line">a=np.random.randint(0,8,6)</span><br><span class="line">print(a) #[6 2 4 4 0 6]</span><br><span class="line"></span><br><span class="line">a=np.random.randint(0,8,6).reshape(2,3)</span><br><span class="line">print(a) </span><br><span class="line">[[3 1 1]</span><br><span class="line"> [7 6 3]]</span><br><span class="line"></span><br><span class="line">a4=np.arange(0,20,2).reshape(2,5)</span><br><span class="line">print(a4)</span><br><span class="line"></span><br><span class="line">[[ 0,  2,  4,  6,  8],</span><br><span class="line">[10, 12, 14, 16, 18]])</span><br></pre></td></tr></table></figure><h2 id="数组形状"><a href="#数组形状" class="headerlink" title="数组形状"></a>数组形状</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">a4.shape #(2, 5)</span><br><span class="line"></span><br><span class="line">#转置</span><br><span class="line">a5=a4.T</span><br><span class="line">a5</span><br><span class="line"></span><br><span class="line">[[ 0, 10],</span><br><span class="line">  [ 2, 12],</span><br><span class="line">  [ 4, 14],</span><br><span class="line">  [ 6, 16],</span><br><span class="line">  [ 8, 18]]</span><br><span class="line"></span><br><span class="line">a5.shape #(5, 2)</span><br><span class="line"></span><br><span class="line">#resize</span><br><span class="line">a6=np.arange(0,10,2)</span><br><span class="line">print(a6) #[0 2 4 6 8]</span><br><span class="line"></span><br><span class="line">a6.resize(3)</span><br><span class="line">print(a6) #[0 2 4]</span><br><span class="line"></span><br><span class="line">a6.resize(6)</span><br><span class="line">print(a6) #[0 2 4 6 8 0]</span><br><span class="line"></span><br><span class="line">a6.size #6</span><br></pre></td></tr></table></figure><h2 id="数组类型转换"><a href="#数组类型转换" class="headerlink" title="数组类型转换"></a>数组类型转换</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=np.random.randint(1,8,3)</span><br><span class="line">a.dtype #dtype(&apos;int32&apos;)</span><br><span class="line"></span><br><span class="line">a=np.random.randint(1,8,3).astype(&apos;int64&apos;)</span><br><span class="line">a.dtype #dtype(&apos;int64&apos;)</span><br></pre></td></tr></table></figure><h2 id="数组拼接"><a href="#数组拼接" class="headerlink" title="数组拼接"></a>数组拼接</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a1=np.arange(4)</span><br><span class="line">a2=np.arange(2,6)</span><br><span class="line">print(a1) #[0 1 2 3]</span><br><span class="line">print(a2) #[2 3 4 5]</span><br><span class="line">#横向拼接</span><br><span class="line">print(np.hstack((a1,a2))) #[0 1 2 3 2 3 4 5]</span><br><span class="line"></span><br><span class="line">#竖向拼接</span><br><span class="line">print(np.vstack((a1,a2)))</span><br><span class="line">[[0 1 2 3]</span><br><span class="line"> [2 3 4 5]]</span><br></pre></td></tr></table></figure><h2 id="数组添加"><a href="#数组添加" class="headerlink" title="数组添加"></a>数组添加</h2><ul><li>在数组的末尾添加值</li><li>追加操作会分配整个数组，并把原来的数组复制到新数组中</li><li>输入数组的维度必须匹配否则将生成ValueError</li><li>axis当axis无定义时，是横向加成，返回总是为一维数组！</li><li>当axis有定义的时候，分别为0和1的时候。为0的时候（列数要相同）。</li><li>当axis为1时，数组是加在右边（行数要相同）</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">x=np.arange(6).reshape(2,3)</span><br><span class="line">print(x) </span><br><span class="line"># [[0 1 2]</span><br><span class="line"> [3 4 5]]</span><br><span class="line"></span><br><span class="line">y=[7,8,9]</span><br><span class="line">z=np.append(x,y)</span><br><span class="line">print(z)</span><br><span class="line"># [0 1 2 3 4 5 7 8 9]</span><br><span class="line"></span><br><span class="line">z2=np.append(x,[y],axis=0)</span><br><span class="line">print(z2)</span><br><span class="line">#</span><br><span class="line">[[0 1 2]</span><br><span class="line"> [3 4 5]</span><br><span class="line"> [7 8 9]]</span><br></pre></td></tr></table></figure><ul><li>insert()方法</li><li>在给定索引之前，沿给定轴在输入数组中插入值</li></ul><h2 id="delete-删除"><a href="#delete-删除" class="headerlink" title="delete()删除"></a>delete()删除</h2><h2 id="unique-去重"><a href="#unique-去重" class="headerlink" title="unique()去重"></a>unique()去重</h2><h2 id="数组拆分"><a href="#数组拆分" class="headerlink" title="数组拆分"></a>数组拆分</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">a3=np.arange(16).reshape(4,4)</span><br><span class="line">#横向</span><br><span class="line">a4,a5=np.hsplit(a3,2)</span><br><span class="line">print(a3)</span><br><span class="line">print(a4)</span><br><span class="line">print(a5)</span><br><span class="line"></span><br><span class="line">[[ 0  1  2  3]</span><br><span class="line"> [ 4  5  6  7]</span><br><span class="line"> [ 8  9 10 11]</span><br><span class="line"> [12 13 14 15]]</span><br><span class="line"></span><br><span class="line">[[ 0  1]</span><br><span class="line"> [ 4  5]</span><br><span class="line"> [ 8  9]</span><br><span class="line"> [12 13]]</span><br><span class="line"></span><br><span class="line">[[ 2  3]</span><br><span class="line"> [ 6  7]</span><br><span class="line"> [10 11]</span><br><span class="line"> [14 15]]</span><br><span class="line"></span><br><span class="line">#纵向</span><br><span class="line">a6,a7,a8,a9=np.vsplit(a3,4)</span><br><span class="line">print(a6) #[[0 1 2 3]]</span><br><span class="line">print(a7) #[[4 5 6 7]]</span><br><span class="line">print(a8) #[[ 8  9 10 11]]</span><br><span class="line">print(a9) #[[12 13 14 15]]</span><br></pre></td></tr></table></figure><h2 id="数组的复制"><a href="#数组的复制" class="headerlink" title="数组的复制"></a>数组的复制</h2><ul><li>复制数组，产生一个新的数组，而直接赋值的话，一个修改后另一个也跟着变<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a=np.array([1,2,3])</span><br><span class="line">b=a</span><br><span class="line">print(a) #[1 2 3]</span><br><span class="line">print(b) #[1 2 3]</span><br><span class="line">b[0]=8</span><br><span class="line">print(a) #[8 2 3]</span><br><span class="line">print(b) #[8 2 3]</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">c=a.copy()</span><br><span class="line">print(c) #[8 2 3]</span><br><span class="line">c[1]=6</span><br><span class="line">print(a) #[8 2 3]</span><br><span class="line">print(c) #[8 6 3]</span><br></pre></td></tr></table></figure><h2 id="数组索引"><a href="#数组索引" class="headerlink" title="数组索引"></a>数组索引</h2><ul><li>ndarray对象的内容可以通过索引或切片来访问和修改，与Python中list的切片操作一样</li><li>二维时，a[1:,3:],这种第一个表示行索引，第二个表示列索引</li><li>布尔索引通过布尔运算（如：比较运算符）来获取符合指定条件的元素的数组,如print(a[a&gt;5])</li><li>可以通过冒号分隔切片参数 start:stop:step 来进行切片操作</li><li>冒号 : 的解释</li><li>如果只放置一个参数，如 [2]，将返回与该索引相对应的单个元素。如果为 [2:]，表示从该索引开始以后的所有项都将被提取。如果使用了两个参数，如 [2:7]，那么则提取两个索引(不包括停止索引)之间的项</li></ul><h2 id="广播"><a href="#广播" class="headerlink" title="广播"></a>广播</h2><ul><li>是numpy对不同形状(shape)的数组进行数值计算的方式，对数组的算术运算通常在相应的元素上进行</li><li>较小的数组会广播到较大数组的大小，以便使它们的形状可兼容</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">a=np.array([1,2,3])</span><br><span class="line">b=np.arange(12).reshape(4,3)</span><br><span class="line">print(a) #[1 2 3]</span><br><span class="line">print(b) </span><br><span class="line"></span><br><span class="line">[[ 0  1  2]</span><br><span class="line"> [ 3  4  5]</span><br><span class="line"> [ 6  7  8]</span><br><span class="line"> [ 9 10 11]]</span><br><span class="line"></span><br><span class="line">print(a+b)</span><br><span class="line">[[ 1,  3,  5],</span><br><span class="line">[ 4,  6,  8],</span><br><span class="line">[ 7,  9, 11],</span><br><span class="line">[10, 12, 14]]</span><br></pre></td></tr></table></figure><h2 id="extract-函数提取元素"><a href="#extract-函数提取元素" class="headerlink" title="extract()函数提取元素"></a>extract()函数提取元素</h2><ul><li>根据某个条件从数组中抽取元素，返回满足条件的元素</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">a=np.arange(5)</span><br><span class="line">print(np.extract(a&gt;2,a))</span><br><span class="line"># [3 4]</span><br></pre></td></tr></table></figure><h2 id="arange函数用于创建等差数组"><a href="#arange函数用于创建等差数组" class="headerlink" title="arange函数用于创建等差数组"></a>arange函数用于创建等差数组</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">np.arange([start, ]stop, [step, ]dtype=None)</span><br></pre></td></tr></table></figure><h2 id="np-random随机数"><a href="#np-random随机数" class="headerlink" title="np.random随机数"></a>np.random随机数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">rand()</span><br><span class="line">生成一个[0,1),不包括1，之间的随机浮点数或N维浮点数组。</span><br><span class="line">1 np.random.rand(a)</span><br><span class="line">表示生成a个[0,1)的数</span><br><span class="line">2 np.random.rand(a,b))</span><br><span class="line">表示生成a行b列的二维数组，值为[0,1)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">randn(d0, d1, …, dn)产生标准正态分布随机数</span><br><span class="line"></span><br><span class="line">randint(low[, high, size, dtype])产生随机整数</span><br><span class="line"></span><br><span class="line">random_sample([size])在[0,1）内产生随机数</span><br><span class="line"></span><br><span class="line">choice(a[, size, replace, p])从a中随机选择指定数据</span><br></pre></td></tr></table></figure><h2 id="NumPy是后面pandas的基础，了解一下就行了，以后都是在它的封装之上的pandas上操作"><a href="#NumPy是后面pandas的基础，了解一下就行了，以后都是在它的封装之上的pandas上操作" class="headerlink" title="NumPy是后面pandas的基础，了解一下就行了，以后都是在它的封装之上的pandas上操作"></a>NumPy是后面pandas的基础，了解一下就行了，以后都是在它的封装之上的pandas上操作</h2><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/NumPy/Python%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E4%B9%8BNumPy%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
    </item>
    
    <item>
      <title>excel笔记</title>
      <link>https://shulu520.com/excel/excel%E7%AC%94%E8%AE%B0/</link>
      <guid>https://shulu520.com/excel/excel%E7%AC%94%E8%AE%B0/</guid>
      <pubDate>Sun, 04 Apr 2021 12:22:51 GMT</pubDate>
      <description>
      
        Excel使用小案例小技巧学习笔记
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="处理带单位的运算"><a href="#处理带单位的运算" class="headerlink" title="处理带单位的运算"></a>处理带单位的运算</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import pandas as pd</span><br><span class="line">e1=pd.read_excel(&apos;E:/Users/lqy/Desktop/Excel学习/带单位运算.xlsx&apos;,sheet_name=&apos;带单位运算&apos;)</span><br><span class="line">e1</span><br><span class="line">*提取数字并将字符串类型转为数字类型*</span><br><span class="line">e1[&apos;单价&apos;]=e1[&apos;单价&apos;].str.extract(&apos;(\d+)&apos;).astype(&apos;int&apos;) </span><br><span class="line">e1[&apos;销量&apos;]=e1[&apos;销量&apos;].str.extract(&apos;(\d+)&apos;).astype(&apos;int&apos;)</span><br><span class="line">e1[&apos;销售额&apos;]=e1[&apos;单价&apos;]*e1[&apos;销量&apos;]</span><br><span class="line">e1</span><br><span class="line"></span><br><span class="line">e1.to_excel(&apos;E:/Users/lqy/Desktop/Excel学习/带单位运算.xlsx&apos;,sheet_name=&apos;带单位运算&apos;)</span><br></pre></td></tr></table></figure><h2 id="更换证件照底色"><a href="#更换证件照底色" class="headerlink" title="更换证件照底色"></a>更换证件照底色</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">不用Excel ，以下网站可以抠图并更换背景</span><br><span class="line">https://koutu.gaoding.com/clip?from=0&amp;id=15342049129143310</span><br></pre></td></tr></table></figure><h2 id="更改第一列的索引从1开始"><a href="#更改第一列的索引从1开始" class="headerlink" title="更改第一列的索引从1开始"></a>更改第一列的索引从1开始</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">e1.index=list(range(1,len(e1[&apos;销量&apos;])+1))</span><br><span class="line">e1</span><br></pre></td></tr></table></figure><h2 id="多处自动求和"><a href="#多处自动求和" class="headerlink" title="多处自动求和"></a>多处自动求和</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">对应excel表中的汇总1和汇总2这两行都是要将他们上面的数据进行求和的，首先选中所有数据，CTRL+G ，在定位条件里面选择空值，然后，在菜单栏选择自动求和即可</span><br></pre></td></tr></table></figure><h2 id="身份证输入"><a href="#身份证输入" class="headerlink" title="身份证输入"></a>身份证输入</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">单元格默认输入数字的长度为11个</span><br><span class="line">首先键入英文逗号’再在后面输入即可，本质上是将数字类型转为文本类型</span><br></pre></td></tr></table></figure><h2 id="分数输入3-4"><a href="#分数输入3-4" class="headerlink" title="分数输入3/4"></a>分数输入3/4</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">直接输入会变成月份日期形式</span><br><span class="line">首先输入零0+空格，再输入即可3/4</span><br></pre></td></tr></table></figure><h2 id="工资条添加头部"><a href="#工资条添加头部" class="headerlink" title="工资条添加头部"></a>工资条添加头部</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">假如有三个人的工资</span><br><span class="line">在表的右边工资行空白列输入1，2，3，三列然后再复制这三列到下面一格，然后在空白处点一下，</span><br><span class="line">在导航栏选择数据&gt;筛选&gt;升序，即可留出各个表头的空行，</span><br><span class="line">然后选中这些数据（不要辅助列），CTRL+G在定位条件里面选择空值，然后输入=，再点一下姓名那一格之后，按CTRL+enter即可</span><br></pre></td></tr></table></figure><h2 id="工号输入-前面带有0的长数字"><a href="#工号输入-前面带有0的长数字" class="headerlink" title="工号输入 前面带有0的长数字"></a>工号输入 前面带有0的长数字</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">前面有零会默认不显示的</span><br><span class="line">可以正常输入后再选中</span><br><span class="line">然后点击子体栏右下角，选择数字，自定义，右侧通用格式(第一行通用格式里面输入5个0即可)，几位工号输入几个0</span><br><span class="line">或者按身份证好的那种方法也可以</span><br></pre></td></tr></table></figure><h2 id="保护工作簿和工作表"><a href="#保护工作簿和工作表" class="headerlink" title="保护工作簿和工作表"></a>保护工作簿和工作表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择审阅，保护工作簿或保护工作表</span><br></pre></td></tr></table></figure><h2 id="将打开的两张工作簿，显示在一个一个窗口里面，方便对比"><a href="#将打开的两张工作簿，显示在一个一个窗口里面，方便对比" class="headerlink" title="将打开的两张工作簿，显示在一个一个窗口里面，方便对比"></a>将打开的两张工作簿，显示在一个一个窗口里面，方便对比</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">选择视图&gt;全部重排&gt;垂直即可</span><br></pre></td></tr></table></figure><h2 id="打印页头"><a href="#打印页头" class="headerlink" title="打印页头"></a>打印页头</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">打印时保证每一页都有页头</span><br><span class="line">页面布局&gt;打印标题&gt;工作表&gt;顶端标题行，</span><br><span class="line">在这个框里面点击，然后在做左侧选择表头所在行点击即可</span><br></pre></td></tr></table></figure><h2 id="打印页脚"><a href="#打印页脚" class="headerlink" title="打印页脚"></a>打印页脚</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">页面布局栏右下角&gt;页面设置&gt;页眉页脚&gt;页脚，</span><br><span class="line">一般选‘第几页，共几页’的格式即可</span><br><span class="line"></span><br><span class="line">#合并的单元格内容向下填充</span><br><span class="line">可以从右下角加号往下拉</span><br><span class="line">也可以选中这个单元格和下面的填充位置</span><br><span class="line">按CTRL+enter即可</span><br></pre></td></tr></table></figure><h2 id="合并的单元格公式向下填充：加法为例"><a href="#合并的单元格公式向下填充：加法为例" class="headerlink" title="合并的单元格公式向下填充：加法为例"></a>合并的单元格公式向下填充：加法为例</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">点击这一格，按=号，点击前面需要加和的单元格，再按+号，</span><br><span class="line">再点击前面需要加和的单元格，</span><br><span class="line">输完公式，按enter，右下角加号往下拉即可</span><br><span class="line"></span><br><span class="line">或者输完公式，按enter后，选中这一格和需要填充的单元格</span><br><span class="line">在编辑栏（fx那一栏）点击一下， CTRL+enter即可</span><br></pre></td></tr></table></figure><h2 id="ctrl-E-快速拆分填充-2013版本新增功能"><a href="#ctrl-E-快速拆分填充-2013版本新增功能" class="headerlink" title="ctrl+E 快速拆分填充 2013版本新增功能"></a>ctrl+E 快速拆分填充 2013版本新增功能</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">用法：https://zhuanlan.zhihu.com/p/42571089</span><br><span class="line">：以下内容2010版虽然不行，但是难不倒一个会python的帅哥！！</span><br><span class="line">字符中统一添加特定字符</span><br><span class="line">拆分姓名和手机号码 合并姓名和手机号码</span><br><span class="line">从身份证号码中提取生日</span><br><span class="line">提取括号内的字符和数字</span><br><span class="line">手机号码分段显示和加密</span><br><span class="line">提取市区名称</span><br><span class="line">银行账号添加空格</span><br></pre></td></tr></table></figure><h2 id="查找和替换"><a href="#查找和替换" class="headerlink" title="查找和替换"></a>查找和替换</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">CTRL + F即可调出查找和替换，两个在一起，</span><br><span class="line">点击全部查找，再点击全部替换，</span><br><span class="line">或点下一个也行</span><br><span class="line">可以点击右下角选项，有更多的搜索选项</span><br></pre></td></tr></table></figure><h2 id="CTRL-；快速输入日期"><a href="#CTRL-；快速输入日期" class="headerlink" title="CTRL+；快速输入日期"></a>CTRL+；快速输入日期</h2><h2 id="Alt-快速求和"><a href="#Alt-快速求和" class="headerlink" title="Alt+=快速求和"></a>Alt+=快速求和</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">选中数据框按Alt+=快速求和</span><br><span class="line">横向、竖向都会求和</span><br><span class="line">单独选横向，可以单独求和，竖向一样</span><br></pre></td></tr></table></figure><h2 id="F4重复上一步骤-添加-绝对引用符号"><a href="#F4重复上一步骤-添加-绝对引用符号" class="headerlink" title="F4重复上一步骤;添加$绝对引用符号"></a>F4重复上一步骤;添加$绝对引用符号</h2><h2 id="left函数：从左往右提取几个字符的内容left-单元格，取几个数"><a href="#left函数：从左往右提取几个字符的内容left-单元格，取几个数" class="headerlink" title="left函数：从左往右提取几个字符的内容left(单元格，取几个数)"></a>left函数：从左往右提取几个字符的内容left(单元格，取几个数)</h2><h2 id="right函数一样用法"><a href="#right函数一样用法" class="headerlink" title="right函数一样用法"></a>right函数一样用法</h2><h2 id="mid函数：从中间提取，mid-单元格，从第几位数开始-娶几个数"><a href="#mid函数：从中间提取，mid-单元格，从第几位数开始-娶几个数" class="headerlink" title="mid函数：从中间提取，mid(单元格，从第几位数开始, 娶几个数)"></a>mid函数：从中间提取，mid(单元格，从第几位数开始, 娶几个数)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">如身份证号码提取生日：</span><br><span class="line">=MID(B3,7,8) 形如：19960823</span><br><span class="line">=TEXT(MID(B3,7,8),&quot;0000-00-00&quot;) 形如：1996-08-23</span><br></pre></td></tr></table></figure><h2 id="find函数，查找某一字符在数据源单元格里面出现的位置。"><a href="#find函数，查找某一字符在数据源单元格里面出现的位置。" class="headerlink" title="find函数，查找某一字符在数据源单元格里面出现的位置。"></a>find函数，查找某一字符在数据源单元格里面出现的位置。</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">配合上面的提取函数可以组合使用</span><br><span class="line">find(要查找的字符，数据源单元格)</span><br></pre></td></tr></table></figure><h2 id="len函数求某一单元格字符的长度，配合提取函数可以组合使用"><a href="#len函数求某一单元格字符的长度，配合提取函数可以组合使用" class="headerlink" title="len函数求某一单元格字符的长度，配合提取函数可以组合使用"></a>len函数求某一单元格字符的长度，配合提取函数可以组合使用</h2><h2 id="row函数，返回单元格所在的行号，‘动态变化的’"><a href="#row函数，返回单元格所在的行号，‘动态变化的’" class="headerlink" title="row函数，返回单元格所在的行号，‘动态变化的’"></a>row函数，返回单元格所在的行号，‘动态变化的’</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=ROW(单元格) - 一个数字，用作序号等</span><br></pre></td></tr></table></figure><h2 id="mod取模函数，实现隔行设置样式"><a href="#mod取模函数，实现隔行设置样式" class="headerlink" title="mod取模函数，实现隔行设置样式"></a>mod取模函数，实现隔行设置样式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">选中表格&gt;条件格式&gt;新建规则&gt;使用公式确定单元格格式&gt;</span><br><span class="line">=mod(row(),2)=1</span><br></pre></td></tr></table></figure><h2 id="相对引用"><a href="#相对引用" class="headerlink" title="相对引用"></a>相对引用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">即在公式中所引用的单元格会随着公式所在单元格的变化而相应的变化。</span><br><span class="line">比如对前面两列数据进行求和的操作</span><br></pre></td></tr></table></figure><h2 id="绝对引用"><a href="#绝对引用" class="headerlink" title="绝对引用"></a>绝对引用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">即在公式中将所引用的特定单元格进行锁定。</span><br><span class="line">比如公式中的某个值只在某一个单元格里面，</span><br><span class="line">那进行向下填充公式时候就要将这个单元格绝对引用，</span><br><span class="line">在编辑栏点击单元格前后都行，按F4即可添加美元符号，表示绝对引用</span><br></pre></td></tr></table></figure><h2 id="countif函数，避免重复输入"><a href="#countif函数，避免重复输入" class="headerlink" title="countif函数，避免重复输入"></a>countif函数，避免重复输入</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">选中表格&gt;条件格式&gt;新建规则&gt;使用公式确定单元格格式&gt;编辑如下公式即可</span><br><span class="line">=countif($B:$B,B1)&gt;1，注意第二个参数不用绝对引用，去掉$符号即可</span><br><span class="line">点击格式，进行格式设置。</span><br><span class="line">效果是B列若输入了重复值，则重复值所在行按设置样式显示出来</span><br></pre></td></tr></table></figure><h2 id="根据日期得到星期几"><a href="#根据日期得到星期几" class="headerlink" title="根据日期得到星期几"></a>根据日期得到星期几</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=text(日期单元格, “aaaa”)</span><br></pre></td></tr></table></figure><h2 id="weekday设置周末样式"><a href="#weekday设置周末样式" class="headerlink" title="weekday设置周末样式"></a>weekday设置周末样式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">选中需要设置的数据区域，条件格式&gt;新建规则&gt;使用公式确定单元格格式&gt;编辑如下</span><br><span class="line">=weekday(C$1,2)&gt;5，点击格式，进行格式设置</span><br><span class="line">这里第一个日期在C1单元格，列相对引用，行绝对引用</span><br></pre></td></tr></table></figure><h2 id="输入内容时自动生成边框，删除时自动删除边框"><a href="#输入内容时自动生成边框，删除时自动删除边框" class="headerlink" title="输入内容时自动生成边框，删除时自动删除边框"></a>输入内容时自动生成边框，删除时自动删除边框</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">选择数据所在列，条件格式&gt;新建规则&gt;使用公式确定单元格格式&gt;编辑如下</span><br><span class="line">=$A1&lt;&gt;&quot;&quot;  然后设置相应的样式即可</span><br></pre></td></tr></table></figure><h2 id="rank排序函数"><a href="#rank排序函数" class="headerlink" title="rank排序函数"></a>rank排序函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在要放排序的第一个单元格输入=RANK(B2,$B$2:$B$5)，</span><br><span class="line">这里B2是第一个数据，B2到B5是数据区域</span><br></pre></td></tr></table></figure><h2 id="subtotal可视区域求和"><a href="#subtotal可视区域求和" class="headerlink" title="subtotal可视区域求和"></a>subtotal可视区域求和</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">先对首行做一个筛选，即点数据&gt;筛选</span><br><span class="line">对合计单元格公式  </span><br><span class="line">=CONCATENATE(&quot;合计: &quot;,SUBTOTAL(109,B2:B7))</span><br><span class="line">外层函数CONCATENATE是连接字符的函数，</span><br><span class="line">109表示求和函数，B2到B7是要求和的数据区域</span><br></pre></td></tr></table></figure><h2 id="phonetic合并单元格内容到另一单元格"><a href="#phonetic合并单元格内容到另一单元格" class="headerlink" title="phonetic合并单元格内容到另一单元格"></a>phonetic合并单元格内容到另一单元格</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">=PHONETIC(A2:C2)</span><br></pre></td></tr></table></figure><h2 id="sumifs隔列求和"><a href="#sumifs隔列求和" class="headerlink" title="sumifs隔列求和"></a>sumifs隔列求和</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">=SUMIFS(B3:E3,$B$2:$E$2,$F$2)</span><br><span class="line">参数1：求和数据，2：条件区域，3：求和条件</span><br></pre></td></tr></table></figure><h2 id="快速输入26个字母"><a href="#快速输入26个字母" class="headerlink" title="快速输入26个字母"></a>快速输入26个字母</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">=CHAR(ROW()+63) </span><br><span class="line">假设从第二个单元格开始,则row行号等于2，</span><br><span class="line">而字母A等于65，所以加上63就是字母A了，</span><br><span class="line">向下拉即可得到26个字母</span><br></pre></td></tr></table></figure><h2 id="isodd函数判断奇偶，根据身份证得到性别"><a href="#isodd函数判断奇偶，根据身份证得到性别" class="headerlink" title="isodd函数判断奇偶，根据身份证得到性别"></a>isodd函数判断奇偶，根据身份证得到性别</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">身份证倒数第二位奇数表示男性</span><br><span class="line">=IF(ISODD(MID(B2,17,1)),&quot;男&quot;,&quot;女&quot;)</span><br><span class="line">if函数三个参数，第一个条件判断，</span><br><span class="line">第二个参数是为true时返回值，第三个是为false时返回值</span><br></pre></td></tr></table></figure><h2 id="lookup函数做库存预警"><a href="#lookup函数做库存预警" class="headerlink" title="lookup函数做库存预警"></a>lookup函数做库存预警</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">=LOOKUP(C2,$F$1:$G$4)</span><br><span class="line">C2是库存数据单元格，第二个参数是辅助列表，</span><br><span class="line">辅助表就是两列，第一列为数据区间，第二列为对应的区间名称</span><br><span class="line">选中库存预警列，</span><br><span class="line">条件格式&gt;突出显示单元格&gt;文本包含&gt;填写文本&gt;设置样式</span><br><span class="line"></span><br><span class="line">也可以用嵌套if来实现</span><br><span class="line">=IF(C12&gt;90,&quot;优秀&quot;,IF(C12&lt;60,&quot;差&quot;,&quot;合格&quot;))</span><br></pre></td></tr></table></figure><h2 id="kpi绩效计算"><a href="#kpi绩效计算" class="headerlink" title="kpi绩效计算"></a>kpi绩效计算</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">=SUMPRODUCT($B$2:$E$2,B3:E3)</span><br><span class="line">B2到E2是百分比数据项，B3:E3是第一个人的各项得分</span><br></pre></td></tr></table></figure><h2 id="数据有效性，新版本叫数据验证"><a href="#数据有效性，新版本叫数据验证" class="headerlink" title="数据有效性，新版本叫数据验证"></a>数据有效性，新版本叫数据验证</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">当分类较多的时候就不用重复的输入，</span><br><span class="line">简单的设置一下数据的有效性就节省了很多时间</span><br><span class="line"></span><br><span class="line">对输入的数据有了规定，或只能从给定的里面选择性输入</span><br><span class="line">有效条件可以是：整数，小数，日期，时间，文本长度，</span><br><span class="line">序列(即写出几个选项,之间用英文逗号隔开)，还可以自定义条件</span><br><span class="line"></span><br><span class="line">案例：使用date函数做动态考勤表，年份、月份可选，</span><br><span class="line">配合text函数由日期得到星期</span><br><span class="line">并且配合weekday函数设置了周末的样式，都是动态可变得</span><br></pre></td></tr></table></figure><h2 id="VLOOKUP-查找"><a href="#VLOOKUP-查找" class="headerlink" title="VLOOKUP 查找"></a>VLOOKUP 查找</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">函数的语法结构：</span><br><span class="line">VLOOKUP(lookup_value,table_array,col_index_num,range_lookup)</span><br><span class="line">lookup_value：查找值</span><br><span class="line">table_array：查找的区域</span><br><span class="line">col_index_num：返回数据在查找区域的第几列</span><br><span class="line">range_lookup：匹配模式（0为精确查找，1为模糊查找）</span><br></pre></td></tr></table></figure><h2 id="N函数对数值类型的值做批注"><a href="#N函数对数值类型的值做批注" class="headerlink" title="N函数对数值类型的值做批注"></a>N函数对数值类型的值做批注</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">=5397+N(&quot;这个妹子不错&quot;)</span><br><span class="line">当点击这个单元格的时候，上面的公式编辑栏就会出现备注内容</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/excel/excel%E7%AC%94%E8%AE%B0/#disqus_thread</comments>
    </item>
    
    <item>
      <title>几个小模块</title>
      <link>https://shulu520.com/python/Python-%E6%A8%A1%E5%9D%97/</link>
      <guid>https://shulu520.com/python/Python-%E6%A8%A1%E5%9D%97/</guid>
      <pubDate>Thu, 04 Mar 2021 09:45:30 GMT</pubDate>
      <description>
      
        datetime,pickle,re
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="常见的datetime日期时间模块"><a href="#常见的datetime日期时间模块" class="headerlink" title="常见的datetime日期时间模块"></a>常见的datetime日期时间模块</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">#datetime模块重新封装了time模块</span><br><span class="line">import datetime</span><br><span class="line"></span><br><span class="line">time1=datetime.datetime.now()</span><br><span class="line">print(time1) #2021-02-27 18:59:13.885794</span><br><span class="line"></span><br><span class="line">time2=datetime.date.today()</span><br><span class="line">print(time2) #2021-02-27</span><br><span class="line"></span><br><span class="line">time3=datetime.datetime.today()</span><br><span class="line">print(time3) #2021-02-27 18:58:39.614459</span><br><span class="line"></span><br><span class="line">time4=datetime.datetime.today().timestamp()</span><br><span class="line">print(time4) #1614423830.81342</span><br><span class="line"></span><br><span class="line"># 返回当前日期时间的日期部分：2021-02-27</span><br><span class="line">print(datetime.datetime.now().date())</span><br><span class="line"></span><br><span class="line"># 返回当前日期时间的时间部分：19:13:45.310397</span><br><span class="line">print(datetime.datetime.now().time())</span><br><span class="line"></span><br><span class="line"># delta时间间隔</span><br><span class="line">past=datetime.datetime(2017, 4, 16, 21, 21, 20, 871000)</span><br><span class="line">now=datetime.datetime.now()</span><br><span class="line">delta=now-past</span><br><span class="line">print(delta) #1412 days, 22:07:46.382359</span><br><span class="line">print(delta.days) #1412</span><br></pre></td></tr></table></figure><h2 id="pickle-文件模块"><a href="#pickle-文件模块" class="headerlink" title="pickle 文件模块"></a>pickle 文件模块</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">pickle可以将一个对象保存成一个文件，例如列表，DataFrame等</span><br><span class="line"></span><br><span class="line">import os</span><br><span class="line">import pickle</span><br><span class="line"></span><br><span class="line">os.chdir(&apos;E:\Users\lqy\Desktop\&apos;)</span><br><span class="line">os.getcwd()</span><br><span class="line"></span><br><span class="line">data=&#123;&apos;a&apos;:[1,2,3],&apos;b&apos;:8,&apos;c&apos;:&apos;shulu&apos;&#125;</span><br><span class="line"></span><br><span class="line">创建保存文件</span><br><span class="line">pic=open(&apos;data.pkl&apos;,&apos;wb&apos;)</span><br><span class="line">pickle.dump(data,pic)</span><br><span class="line">pic.close()</span><br><span class="line">print(&quot;完成了&quot;)</span><br><span class="line"></span><br><span class="line">读取文件</span><br><span class="line">pic2=open(&apos;E:/Users/lqy/Desktop/data.pkl&apos;,&apos;rb&apos;)</span><br><span class="line">data=pickle.load(pic2)</span><br><span class="line">data</span><br></pre></td></tr></table></figure><h2 id="re-正则"><a href="#re-正则" class="headerlink" title="re 正则"></a>re 正则</h2><h3 id="字符串提取数字或字母"><a href="#字符串提取数字或字母" class="headerlink" title="字符串提取数字或字母"></a>字符串提取数字或字母</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line"># 字符串中提取数字</span><br><span class="line">s=&quot;sDsd123.555dfd888F&quot;</span><br><span class="line">print(re.findall(&apos;\d+\.?\d*&apos;,s))</span><br><span class="line"></span><br><span class="line"># 字符串中提取字母</span><br><span class="line">print(re.findall(&apos;[A-Za-z]&apos;, s))</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/python/Python-%E6%A8%A1%E5%9D%97/#disqus_thread</comments>
    </item>
    
    <item>
      <title>python操作Word文档</title>
      <link>https://shulu520.com/py-word/Python-word/</link>
      <guid>https://shulu520.com/py-word/Python-word/</guid>
      <pubDate>Fri, 26 Feb 2021 05:48:10 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div style=&quot;width:100%;height:1px;background-color:pink;opacity:.7&quot;&gt;&lt;/div&gt;&lt;br&gt;&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h1 id="python操作Word文档"><a href="#python操作Word文档" class="headerlink" title="python操作Word文档"></a>python操作Word文档</h1><p><code>https://python-docx.readthedocs.io/en/latest/user/quickstart.html</code></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">from docx import Document</span><br><span class="line"># 获取文档对象</span><br><span class="line">doc=Document(&apos;./我的.docx&apos;)</span><br><span class="line"></span><br><span class="line"># 获取段落</span><br><span class="line">paragraphs=doc.paragraphs</span><br><span class="line">for para in paragraphs:</span><br><span class="line">  # 每一段落的内容</span><br><span class="line">  print(para.text)</span><br><span class="line">  # 文字块 相同格式的内容</span><br><span class="line">  runs=para.runs</span><br><span class="line">  for run in runs:</span><br><span class="line">    print(run.text)</span><br></pre></td></tr></table></figure><h2 id="word基础"><a href="#word基础" class="headerlink" title="word基础"></a>word基础</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">from docx import Document</span><br><span class="line">from docx.shared import Cm #图片单位厘米</span><br><span class="line"># 创建新的文本对象</span><br><span class="line">doc= Document()</span><br><span class="line"></span><br><span class="line"># 添加标题</span><br><span class="line">doc.add_heading(&apos;这是标题&apos;)</span><br><span class="line"># 默认情况下，这会添加一个顶级标题，在Word中显示为“标题1”。</span><br><span class="line"># 当您想要一个小节的标题时，只需将所需的级别指定为1到9之间的整数即可：</span><br><span class="line">doc.add_heading(&apos;二级标题&apos;,level=2)</span><br><span class="line"></span><br><span class="line"># 段落是Word的基础。它们用于正文，也用于标题和项目符号</span><br><span class="line"># 此方法返回对段落的引用</span><br><span class="line">para=doc.add_paragraph(&apos;添加一段内容添一段内容添加一段内容添加一段内容&apos;)</span><br><span class="line"></span><br><span class="line">para2=doc.add_paragraph()</span><br><span class="line">para2.add_run(&apos;fdfdfdfdf&apos;)</span><br><span class="line"></span><br><span class="line"># 也可以将一个段落用作“光标”，并在其上方直接插入一个新段落</span><br><span class="line">ins_para=para.insert_paragraph_before(&apos;把某一段落当做光标，可以在其上方直接插入一个新段落&apos;)</span><br><span class="line"></span><br><span class="line"># 添加分页</span><br><span class="line">doc.add_page_break()</span><br><span class="line"></span><br><span class="line"># 添加表格</span><br><span class="line">table=doc.add_table(rows=2,cols=3,style=&apos;Light List Accent 4&apos;)</span><br><span class="line"></span><br><span class="line"># 访问单个单元,您始终可以通过其行和列索引访问单元格：就像坐标一样</span><br><span class="line">cell=table.cell(0, 1)</span><br><span class="line">cell.text=&apos;表格内容&apos;</span><br><span class="line"></span><br><span class="line"># rows 表的属性提供对各个行的访问，每个行都有一个 .cells属性。</span><br><span class="line"># 该.cells两个属性Row和Column 支持索引访问，就像一个列表：</span><br><span class="line">row=table.rows[1]</span><br><span class="line">row.cells[2].text=&apos;表格内容&apos;</span><br><span class="line"># rows和.columns集合是可迭代的</span><br><span class="line"></span><br><span class="line"># 使用一个两层元组或两层列表的方式循环写入表格</span><br><span class="line">table2=doc.add_table(rows=3,cols=2)</span><br><span class="line">lst=[</span><br><span class="line">  [&apos;姓名&apos;,&apos;成绩&apos;],</span><br><span class="line">  [&apos;shulu&apos;,&apos;100&apos;],</span><br><span class="line">  [&apos;qiuyun&apos;,&apos;99&apos;]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">for i in range(0,len(table2.rows)):</span><br><span class="line">  row=table2.rows[i]</span><br><span class="line">  for x in range(0,len(row.cells)):</span><br><span class="line">    cell=row.cells[x]</span><br><span class="line">    cell.text=lst[i][x]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 添加图片</span><br><span class="line"># doc.add_picture(&apos;shulu520.com.png&apos;)</span><br><span class="line"># 宽度高度设置一个，另一个自动缩放</span><br><span class="line">doc.add_picture(&apos;shulu520.com.png&apos;, width=Cm(5))</span><br><span class="line"></span><br><span class="line"># 保存</span><br><span class="line">doc.save(&apos;我的文档.docx&apos;)</span><br></pre></td></tr></table></figure><h2 id="搜索指定内容"><a href="#搜索指定内容" class="headerlink" title="搜索指定内容"></a>搜索指定内容</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"># 这一块的思路 非常重要！</span><br><span class="line"># 每次前进一个字符长度，每次匹配输入内容的长度个字符</span><br><span class="line"></span><br><span class="line">from docx import Document</span><br><span class="line">doc=Document(&apos;我的.docx&apos;)</span><br><span class="line"></span><br><span class="line">word=input(&apos;请输入搜索内容：&apos;)</span><br><span class="line"># 输入内容的长度，以此为每次切片搜索的长度单位</span><br><span class="line">word_len=len(word)</span><br><span class="line"></span><br><span class="line">count=0</span><br><span class="line"></span><br><span class="line">for para in doc.paragraphs:</span><br><span class="line">  # 每一段文本的长度</span><br><span class="line">  text_len=len(para.text) </span><br><span class="line"></span><br><span class="line">  for i in range(0,text_len-word_len+1):</span><br><span class="line">    if word==para.text[i:word_len+i]:</span><br><span class="line">      count+=1</span><br><span class="line"></span><br><span class="line">print(word+&apos;出现了&apos;+str(count)+&apos;次&apos;)</span><br></pre></td></tr></table></figure><h2 id="文本对齐方式和间距"><a href="#文本对齐方式和间距" class="headerlink" title="文本对齐方式和间距"></a>文本对齐方式和间距</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">from docx import Document</span><br><span class="line">from docx.shared import Pt #英镑单位</span><br><span class="line"># WD_PARAGRAPH_ALIGNMENT 即word段落对齐</span><br><span class="line">from docx.enum.text import WD_PARAGRAPH_ALIGNMENT </span><br><span class="line">doc=Document(&apos;./word/美文.docx&apos;)</span><br><span class="line"></span><br><span class="line">for para in doc.paragraphs:</span><br><span class="line">  para.alignment=WD_PARAGRAPH_ALIGNMENT.CENTER</span><br><span class="line">  # WD_PARAGRAPH_ALIGNMENT虽然编辑器对其飘红，但程序会执行的</span><br><span class="line"></span><br><span class="line">  # 行间距</span><br><span class="line">  para.paragraph_format.line_spacing=2.0</span><br><span class="line">  </span><br><span class="line">  # 段前段后间距</span><br><span class="line">  para.paragraph_format.space_before=Pt(12)</span><br><span class="line">  para.paragraph_format.space_after=Pt(12)</span><br><span class="line"></span><br><span class="line">doc.save(&apos;./word/美文.docx&apos;)</span><br></pre></td></tr></table></figure><h2 id="设置字体和字体样式"><a href="#设置字体和字体样式" class="headerlink" title="设置字体和字体样式"></a>设置字体和字体样式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">from docx import Document</span><br><span class="line">from docx.oxml.ns import qn</span><br><span class="line">from docx.shared import Pt,RGBColor</span><br><span class="line">doc=Document()</span><br><span class="line">para=doc.add_paragraph()</span><br><span class="line">para.add_run(&apos;人生苦短&apos;).font.bold=True #加粗</span><br><span class="line">para.add_run(&apos;人生苦短&apos;).font.shadow=True #阴影</span><br><span class="line">para.add_run(&apos;Python&apos;).font.italic=True #倾斜</span><br><span class="line">para.add_run(&apos;你好吗&apos;).font.underline=True #下划线</span><br><span class="line">para.add_run(&apos;shulu&apos;).font.strike=True #删除线</span><br><span class="line">para.add_run(&apos;哈哈哈&apos;).font.size=Pt(20) #字体大小</span><br><span class="line">para.add_run(&apos;睡大觉&apos;).font.color.rgb=RGBColor(255,255,0) #字体颜色</span><br><span class="line"></span><br><span class="line"># 设置中文字体 宋体、楷体等等</span><br><span class="line">doc.styles[&apos;Normal&apos;].font.name = u&apos;楷体&apos;</span><br><span class="line">doc.styles[&apos;Normal&apos;]._element.rPr.rFonts.set(qn(&apos;w:eastAsia&apos;), u&apos;楷体&apos;)</span><br><span class="line"></span><br><span class="line">doc.save(&apos;中文字体.docx&apos;)</span><br></pre></td></tr></table></figure><h2 id="设置表格样式"><a href="#设置表格样式" class="headerlink" title="设置表格样式"></a>设置表格样式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">from docx import *</span><br><span class="line"># word当中的样式类型WD_STYLE_TYPE</span><br><span class="line">from docx.enum.style import WD_STYLE_TYPE </span><br><span class="line">doc=Document()</span><br><span class="line">styles=doc.styles</span><br><span class="line">print(styles) #所有文档样式</span><br><span class="line"></span><br><span class="line">for style in styles:</span><br><span class="line">  # 表格的样式</span><br><span class="line">  if style.type==WD_STYLE_TYPE.TABLE:</span><br><span class="line">    doc.add_paragraph(&apos;表格样式：&apos;+style.name)</span><br><span class="line">    table=doc.add_table(3,3,style=style)</span><br><span class="line">    cells=table.rows[0].cells</span><br><span class="line">    cells[0].text=&apos;第1列&apos;</span><br><span class="line">    cells[1].text=&apos;第2列&apos;</span><br><span class="line">    cells[2].text=&apos;第3列&apos;</span><br><span class="line"></span><br><span class="line"># 如上代码得到所有表格的样式名称，</span><br><span class="line"># 创建表格时，指定样式名称即可：</span><br><span class="line">doc.add_table(4,5,style=&apos;Light List Accent 4&apos;)</span><br><span class="line"></span><br><span class="line">doc.save(&apos;所有表格样式.docx&apos;)</span><br></pre></td></tr></table></figure><h2 id="读取文本文档并按指定的格式写入Word"><a href="#读取文本文档并按指定的格式写入Word" class="headerlink" title="读取文本文档并按指定的格式写入Word"></a>读取文本文档并按指定的格式写入Word</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"># 读取文本文档</span><br><span class="line"># 这里的line一行指的是上一个换行符&apos;\n&apos;&apos;与下一个\n&apos;之间的内容</span><br><span class="line"># 原文中的软回车删不掉！！！！！！</span><br><span class="line"></span><br><span class="line">from docx import Document</span><br><span class="line">from docx.shared import Pt</span><br><span class="line">from docx.oxml.ns import qn</span><br><span class="line">from docx.enum.text import WD_PARAGRAPH_ALIGNMENT</span><br><span class="line"></span><br><span class="line">with open(&apos;./word/生活.txt&apos;,&apos;r&apos;) as r_file:</span><br><span class="line">  lines=r_file.readlines()</span><br><span class="line"></span><br><span class="line">with open(&apos;./word/生活.txt&apos;,&apos;w&apos;) as w_file:</span><br><span class="line">  for line in lines:</span><br><span class="line">    if line!=&apos;\n&apos;:</span><br><span class="line">      w_file.write(line)</span><br><span class="line"></span><br><span class="line">with open(&apos;./word/生活.txt&apos;,&apos;r&apos;) as r_file:</span><br><span class="line">  lines=r_file.readlines()</span><br><span class="line">  for line in lines:</span><br><span class="line">    if line==&apos;\n&apos;:</span><br><span class="line">      lines.remove(line)</span><br><span class="line">print(len(lines))</span><br><span class="line"></span><br><span class="line">doc=Document()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 标题部分</span><br><span class="line">title=doc.add_paragraph(lines[0])</span><br><span class="line">for run1 in title.runs:</span><br><span class="line">  run1.font.bold=True</span><br><span class="line">  run1.font.name=&apos;宋体&apos;</span><br><span class="line">  run1.font.size=Pt(20)</span><br><span class="line">  r=run1._element.rPr.rFonts</span><br><span class="line">  r.set(qn(&apos;w:eastAsia&apos;), &apos;微软雅黑&apos;)</span><br><span class="line"></span><br><span class="line">title.alignment=WD_PARAGRAPH_ALIGNMENT.CENTER</span><br><span class="line"></span><br><span class="line"># 日期部分</span><br><span class="line">para1=doc.add_paragraph(lines[1])</span><br><span class="line">para1.alignment=WD_PARAGRAPH_ALIGNMENT.RIGHT</span><br><span class="line"></span><br><span class="line"># 正文部分</span><br><span class="line">for i in range(2,len(lines)):</span><br><span class="line"></span><br><span class="line">  para_others=doc.add_paragraph(lines[i])</span><br><span class="line">  </span><br><span class="line">  for run2 in para_others.runs:</span><br><span class="line">    run2.font.size=Pt(12)</span><br><span class="line">    run2.font.name=&apos;微软雅黑&apos;</span><br><span class="line">    r=run2._element.rPr.rFonts</span><br><span class="line">    r.set(qn(&apos;w:eastAsia&apos;), &apos;微软雅黑&apos;)</span><br><span class="line">  para_others.paragraph_format.line_spacing=1.5 #行间距</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">doc.save(&apos;./word/生活.docx&apos;)</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/py-word/Python-word/#disqus_thread</comments>
    </item>
    
    <item>
      <title>officePython2</title>
      <link>https://shulu520.com/officePython/officePython2/</link>
      <guid>https://shulu520.com/officePython/officePython2/</guid>
      <pubDate>Sat, 20 Feb 2021 23:24:42 GMT</pubDate>
      <description>
      
        Python操作excel
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="打开一个Excel表格"><a href="#打开一个Excel表格" class="headerlink" title="打开一个Excel表格"></a>打开一个Excel表格</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"># 获取一个工作簿对象</span><br><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line"># 获取所有工作簿的名称</span><br><span class="line">print(workbook.sheetnames)</span><br><span class="line"></span><br><span class="line"># 获取某一个具体的sheet工作表</span><br><span class="line">sheet=workbook[&apos;评论信息&apos;]</span><br><span class="line"># 获取这个工作表的大小范围</span><br><span class="line">print(sheet.dimensions)</span><br><span class="line"></span><br><span class="line"># 获取单元格和内容</span><br><span class="line">cell=sheet[&apos;A2&apos;]</span><br><span class="line">print(cell.value)</span><br><span class="line"></span><br><span class="line"># 获取一些列的单元格</span><br><span class="line">cells=sheet[&apos;A1:A3&apos;]</span><br><span class="line">print(cells)</span><br><span class="line"></span><br><span class="line">for cell in cells:</span><br><span class="line">  print(cell[0].value) #两层元组</span><br><span class="line"></span><br><span class="line"># 获取一整列</span><br><span class="line">cols=sheet[&apos;A&apos;]</span><br><span class="line">for col in cols:</span><br><span class="line">  print(col.value)</span><br><span class="line"></span><br><span class="line"># 获取一整行</span><br><span class="line">row=sheet[3]</span><br><span class="line">for cell in row:</span><br><span class="line">  print(cell.value)</span><br><span class="line"></span><br><span class="line"># 获取所有行，再遍历输出</span><br><span class="line">rows=sheet.rows</span><br><span class="line"></span><br><span class="line"># 获取所有列，再遍历输出</span><br><span class="line">cols=sheet.columns</span><br><span class="line"></span><br><span class="line"># 在第1行到第5行，第1列到第3之间</span><br><span class="line">rows=sheet.iter_rows(min_row=1,max_row=5,min_col=1,max_col=3)</span><br><span class="line">for row in rows:</span><br><span class="line">  for cell in row:</span><br><span class="line">    print(cell.value)</span><br><span class="line">  print(&apos;-----------------&apos;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 在一列中筛选某一个值,也可以做个统计</span><br><span class="line">count=0</span><br><span class="line">cols=sheet[&apos;A&apos;]</span><br><span class="line">for col in cols:</span><br><span class="line">  if col.value==2:</span><br><span class="line">    count+=1</span><br><span class="line">    print(col.row) #输出目标值所在行</span><br><span class="line"></span><br><span class="line">print(&apos;count=&apos;+str(count))</span><br></pre></td></tr></table></figure><h2 id="创建一个工作薄-一个Excel文件"><a href="#创建一个工作薄-一个Excel文件" class="headerlink" title="创建一个工作薄(一个Excel文件)"></a>创建一个工作薄(一个Excel文件)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"># 关于报错：关闭手动打开的文件，重新运行即可</span><br><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.Workbook()</span><br><span class="line"></span><br><span class="line"># 创建sheet工作表</span><br><span class="line">sheet=workbook.create_sheet() #在excel中显示为sheet1,默认的活动页</span><br><span class="line"></span><br><span class="line"># 向表中写入内容</span><br><span class="line">sheet[&apos;A1&apos;]=&apos;shulu520哈哈哈&apos;</span><br><span class="line">cell=sheet[&apos;A2&apos;]</span><br><span class="line">cell.value=&apos;do you love me?&apos;</span><br><span class="line"></span><br><span class="line">lst=[&apos;姓名&apos;,&apos;爱好&apos;]</span><br><span class="line">sheet.append(lst)</span><br><span class="line"></span><br><span class="line">stu_lst=[</span><br><span class="line">  [&apos;张三&apos;,80],</span><br><span class="line">  [&apos;李思&apos;,90],</span><br><span class="line">  [&apos;王武&apos;,100]</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">for cell in stu_lst:</span><br><span class="line">  sheet.append(cell)</span><br><span class="line"></span><br><span class="line"># 可以给单元格赋求值公式</span><br><span class="line">sheet[&apos;B7&apos;]=&apos;=sum(B4:B6)&apos;</span><br><span class="line"></span><br><span class="line"># 保存工作簿并命名</span><br><span class="line">workbook.save(&apos;写入内容.xlsx&apos;)</span><br><span class="line"></span><br><span class="line"># 查看openpyxl支持的Excel公式</span><br><span class="line">from openpyxl.utils import FORMULAE</span><br><span class="line">print(FORMULAE)</span><br><span class="line"># https://product.pconline.com.cn/itbk/software/excel/1506/6538476.html</span><br></pre></td></tr></table></figure><h2 id="向工作表中指定位置插入一列"><a href="#向工作表中指定位置插入一列" class="headerlink" title="向工作表中指定位置插入一列"></a>向工作表中指定位置插入一列</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 插入行与插入列做法一样，就不写了</span><br><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;评论信息&apos;]</span><br><span class="line">sheet.insert_cols(idx=1) #往第一列插入一列</span><br><span class="line">workbook.save(&apos;我的工作簿.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="向工作表中指定位置插入多列"><a href="#向工作表中指定位置插入多列" class="headerlink" title="向工作表中指定位置插入多列"></a>向工作表中指定位置插入多列</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;评论信息&apos;]</span><br><span class="line">sheet.insert_cols(idx=3,amount=2) #在第三列插入两列</span><br><span class="line">workbook.save(&apos;我的工作簿.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="删除行列"><a href="#删除行列" class="headerlink" title="删除行列"></a>删除行列</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;评论信息&apos;]</span><br><span class="line">sheet.delete_cols(idx=1,amount=2) </span><br><span class="line">sheet.delete_rows(idx=1,amount=1) #从第一行开始删除一行</span><br><span class="line">workbook.save(&apos;我的工作簿.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="移动一些单元格"><a href="#移动一些单元格" class="headerlink" title="移动一些单元格"></a>移动一些单元格</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 向下向右为正数，向左向上为负数</span><br><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;评论信息&apos;]</span><br><span class="line">sheet.move_range(&apos;A1:B4&apos;,rows=2,cols=2)</span><br><span class="line">workbook.save(&apos;我的工作簿.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="sheet工作表的创建"><a href="#sheet工作表的创建" class="headerlink" title="sheet工作表的创建"></a>sheet工作表的创建</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line"># 创建工作表</span><br><span class="line">workbook.create_sheet(&apos;学生信息&apos;)</span><br><span class="line">workbook.save(&apos;我的工作簿.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="删除工作表"><a href="#删除工作表" class="headerlink" title="删除工作表"></a>删除工作表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;Sheet2&apos;]</span><br><span class="line">workbook.remove(sheet)</span><br><span class="line">workbook.save(&apos;我的工作簿.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="复制sheet和重命名"><a href="#复制sheet和重命名" class="headerlink" title="复制sheet和重命名"></a>复制sheet和重命名</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line">src_sheet=workbook[&apos;评论信息&apos;]</span><br><span class="line">sheet=workbook.copy_worksheet(src_sheet) #名称叫做：评论信息 Copy</span><br></pre></td></tr></table></figure><h2 id="修改sheet名称"><a href="#修改sheet名称" class="headerlink" title="修改sheet名称"></a>修改sheet名称</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sheet.title=&apos;mysheet&apos;</span><br><span class="line">workbook.save(&apos;我的工作簿.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="冻结窗格"><a href="#冻结窗格" class="headerlink" title="冻结窗格"></a>冻结窗格</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">如果对于太大而不能一屏显示的电子表格，“冻结”顶部的几行或最左边的几列，是很有帮助的，</span><br><span class="line">可以帮助你来判断这行或这列所对应的数据类型，比如查看你的成绩排名。</span><br><span class="line">例如，冻结的列或行表头，就算用户滚动电子表格，也是始终可见的。</span><br><span class="line">在 Openpyxl中，每个 Worksheet 对象都有一个 freeze_panes 属性，</span><br><span class="line">可以设置为一个 Cell 对象或一个单元格坐标的字符串。</span><br><span class="line">请注意，单元格上边的所有行和左边的所有列都会冻结，但单元格所在的行和列不会冻结。</span><br><span class="line">要解冻所有的单元格，就将 freeze_panes 设置为 None 或’A1’</span><br><span class="line"></span><br><span class="line">sheet.freeze_panes=‘A2’冻结第一行</span><br><span class="line">sheet.freeze_panes=‘B1’冻结第一列</span><br><span class="line">sheet.freeze_panes=‘C2’冻结第一行，第一列和第二列</span><br><span class="line">sheet.freeze_panes=None什么也不冻结</span><br><span class="line">sheet.freeze_panes=‘A1’什么也不冻结</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;冻结.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;Sheet1&apos;]</span><br><span class="line"># 冻结，固定它的位置</span><br><span class="line">sheet.freeze_panes=&apos;A2&apos; #冻结第一行</span><br><span class="line">workbook.save(&apos;冻结.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="添加筛选按钮"><a href="#添加筛选按钮" class="headerlink" title="添加筛选按钮"></a>添加筛选按钮</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;筛选.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;Sheet1&apos;]</span><br><span class="line">sheet.auto_filter.ref=sheet.dimensions</span><br><span class="line">workbook.save(&apos;筛选.xlsx&apos;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"># 筛选出所有关于41码鞋子的评论，并且将其添加到一个新的excel文件</span><br><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;课堂练习.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;Sheet1&apos;]</span><br><span class="line">rows=sheet.rows #获取所有行 一个迭代器对象</span><br><span class="line"></span><br><span class="line">lst=[] #放入41码相关的所有行</span><br><span class="line"></span><br><span class="line">for row in rows:</span><br><span class="line">  # print(row) #每一行都是一个元组 每个元组共三个数据(只写了三列数据)</span><br><span class="line">  sub_lst=[] #把sub_lst在这里定义是为了每次进来它都是空的列表，然后再赋值，不重复添加</span><br><span class="line">  if row[2].value==41:</span><br><span class="line">    # print(row)</span><br><span class="line">    for i in range(0,3):</span><br><span class="line">      sub_lst.append(row[i].value)</span><br><span class="line">    lst.append(sub_lst) #这一行的缩进也很讲究</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 存放到一个新的excel文件中 创建新的工作簿</span><br><span class="line">new_workbook=openpyxl.Workbook()</span><br><span class="line">new_sheet=new_workbook.active #获取默认的活动页(Sheet)</span><br><span class="line">for row in lst:</span><br><span class="line">  new_sheet.append(row) </span><br><span class="line">  #因为lst是双层列表，所以这样就可以将相同类型的数据放到一列</span><br><span class="line"></span><br><span class="line">new_workbook.save(&apos;所有41码鞋子.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="填充颜色"><a href="#填充颜色" class="headerlink" title="填充颜色"></a>填充颜色</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">from openpyxl.styles import PatternFill</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;填充颜色.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;Sheet1&apos;]</span><br><span class="line">cell_b5=sheet[&apos;B5&apos;]</span><br><span class="line">pattren_fill=PatternFill(fill_type=&apos;solid&apos;,fgColor=&apos;ff0000&apos;)</span><br><span class="line">cell_b5.fill=pattren_fill</span><br><span class="line"></span><br><span class="line"># workbook.save(&apos;填充颜色.xlsx&apos;)</span><br><span class="line"></span><br><span class="line"># 填充渐变色</span><br><span class="line">from openpyxl.styles import GradientFill</span><br><span class="line">cell_c3=sheet[&apos;C3&apos;]</span><br><span class="line">gradient=GradientFill(stop=(&apos;ff00ff&apos;,&apos;00ff00&apos;))</span><br><span class="line">cell_c3.fill=gradient</span><br><span class="line"></span><br><span class="line">workbook.save(&apos;填充颜色.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="正则匹配"><a href="#正则匹配" class="headerlink" title="正则匹配"></a>正则匹配</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import re</span><br><span class="line">rows=sheet.rows</span><br><span class="line">for row in rows:</span><br><span class="line">  if re.search(&apos;.*好.*&apos;,row[0].value):</span><br><span class="line">    for i in range(0,3):</span><br><span class="line">      row[i].fill=gradient </span><br><span class="line"></span><br><span class="line">workbook.save(&apos;看看.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="设置单元格的大小"><a href="#设置单元格的大小" class="headerlink" title="设置单元格的大小"></a>设置单元格的大小</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;练习.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;Sheet1&apos;]</span><br><span class="line">sheet.row_dimensions[2].height=50</span><br><span class="line">sheet.column_dimensions[&apos;B&apos;].width=50</span><br></pre></td></tr></table></figure><h2 id="合并单元格"><a href="#合并单元格" class="headerlink" title="合并单元格"></a>合并单元格</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sheet.merge_cells(&apos;C2:E4&apos;)</span><br><span class="line"></span><br><span class="line"># 取消合并单元格</span><br><span class="line">sheet.unmerge_cells(&apos;C2:E4&apos;)</span><br><span class="line">workbook.save(&apos;练习.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="向excel中插入图片"><a href="#向excel中插入图片" class="headerlink" title="向excel中插入图片"></a>向excel中插入图片</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">from openpyxl.drawing.image import Image</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line">sheet=workbook.create_sheet(&apos;插入图片&apos;)</span><br><span class="line"></span><br><span class="line"># 创建图片对象</span><br><span class="line">logo=Image(&apos;shulu520.com.png&apos;)</span><br><span class="line"></span><br><span class="line"># 设置宽高</span><br><span class="line">logo.height=200</span><br><span class="line">logo.width=180</span><br><span class="line"></span><br><span class="line"># 添加图片</span><br><span class="line">sheet.add_image(logo,&apos;E3&apos;)</span><br><span class="line"></span><br><span class="line">workbook.save(&apos;我的工作簿.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="创建柱状图图表"><a href="#创建柱状图图表" class="headerlink" title="创建柱状图图表"></a>创建柱状图图表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">from openpyxl.chart import BarChart,Reference</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;成绩&apos;]</span><br><span class="line"></span><br><span class="line"># 创建柱状图图表对象</span><br><span class="line">chart=BarChart()</span><br><span class="line"></span><br><span class="line"># 数据引用来源</span><br><span class="line">data=Reference(worksheet=sheet,min_row=1,max_row=7,min_col=1,max_col=2)</span><br><span class="line"></span><br><span class="line"># 将数据插入图表当中</span><br><span class="line">chart.add_data(data,titles_from_data=True)</span><br><span class="line"></span><br><span class="line"># 类别的引用范围 (柱子下面的东西)</span><br><span class="line">categorys=Reference(sheet,min_row=2,max_row=7,min_col=1)</span><br><span class="line"></span><br><span class="line"># 设置类别</span><br><span class="line">chart.set_categories(categorys)</span><br><span class="line"></span><br><span class="line"># 插入图表</span><br><span class="line">sheet.add_chart(chart,&apos;F8&apos;)</span><br><span class="line"></span><br><span class="line">workbook.save(&apos;我的工作簿.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="生成条形图"><a href="#生成条形图" class="headerlink" title="生成条形图"></a>生成条形图</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">from openpyxl.chart import LineChart,Reference</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;我的工作簿.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;工资&apos;]</span><br><span class="line"></span><br><span class="line"># 创建图表对象</span><br><span class="line">chart=LineChart()</span><br><span class="line"></span><br><span class="line"># 数据引用来源</span><br><span class="line">data=Reference(worksheet=sheet,min_row=1,max_row=2,min_col=1,max_col=13)</span><br><span class="line"></span><br><span class="line"># # 将数据插入图表当中</span><br><span class="line">chart.add_data(data,from_rows=True,titles_from_data=True)</span><br><span class="line"></span><br><span class="line"># 类别的引用范围</span><br><span class="line">categorys=Reference(sheet,min_row=1,min_col=2,max_col=13)</span><br><span class="line"></span><br><span class="line"># 设置类别</span><br><span class="line">chart.set_categories(categorys)</span><br><span class="line"></span><br><span class="line"># 插入图表</span><br><span class="line">sheet.add_chart(chart,&apos;F8&apos;)</span><br><span class="line"></span><br><span class="line">workbook.save(&apos;我的工作簿.xlsx&apos;)</span><br></pre></td></tr></table></figure><h2 id="案例：工资明细"><a href="#案例：工资明细" class="headerlink" title="案例：工资明细"></a>案例：工资明细</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line">import openpyxl</span><br><span class="line">from openpyxl.styles import Font,Alignment,Border,Side</span><br><span class="line">workbook=openpyxl.load_workbook(&apos;工资明细.xlsx&apos;)</span><br><span class="line">sheet=workbook[&apos;Sheet1&apos;]</span><br><span class="line"></span><br><span class="line"># 设置字体样式</span><br><span class="line">font=Font(name=&apos;宋体&apos;,sz=20,b=True)</span><br><span class="line">font2=Font(name=&apos;宋体&apos;,sz=12,b=True)</span><br><span class="line"></span><br><span class="line"># 设置对其方式</span><br><span class="line">alignment=Alignment(horizontal=&apos;center&apos;,vertical=&apos;center&apos;,wrap_text=True)</span><br><span class="line"></span><br><span class="line"># 边框和线条</span><br><span class="line">side=Side(style=&apos;thin&apos;,color=&apos;000000&apos;)</span><br><span class="line">border=Border(left=side,right=side,top=side,bottom=side)</span><br><span class="line"></span><br><span class="line"># 获取指定单元格的值</span><br><span class="line">a1_value=sheet[&apos;A1&apos;].value</span><br><span class="line">l2_value=sheet[&apos;L2&apos;].value</span><br><span class="line"></span><br><span class="line"># 获取指定的行</span><br><span class="line">row3=sheet[3] #第三行 </span><br><span class="line"># 每一行都是一个元组 遍历元组，拿出每一个值，放入列表</span><br><span class="line">list_value=[]</span><br><span class="line">for cell in row3:</span><br><span class="line">  list_value.append(cell.value)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 将需要的内容进新的excel文件</span><br><span class="line"># print(sheet.max_row) #工作表总共的行数 int类型</span><br><span class="line"></span><br><span class="line">for i in range(4,sheet.max_row+1):</span><br><span class="line">  write_book=openpyxl.Workbook()</span><br><span class="line">  write_sheet=write_book.active</span><br><span class="line"></span><br><span class="line">  # 合并新文件标题的单元格 </span><br><span class="line">  write_sheet.merge_cells(start_row=1,end_row=1,start_column=1,end_column=12)</span><br><span class="line">  write_sheet.row_dimensions[1].height=25.8 #第一行的高度</span><br><span class="line">  write_sheet[&apos;A1&apos;]=a1_value</span><br><span class="line">  write_sheet[&apos;A1&apos;].font=font</span><br><span class="line">  write_sheet[&apos;A1&apos;].alignment=alignment</span><br><span class="line"></span><br><span class="line">  # 薪水单位的单元格样式</span><br><span class="line">  write_sheet[&apos;L2&apos;]=l2_value</span><br><span class="line">  write_sheet[&apos;L2&apos;].font=font2</span><br><span class="line"></span><br><span class="line">  # 第三行样式</span><br><span class="line">  write_sheet.append(list_value) </span><br><span class="line">  three_rows=write_sheet[3]</span><br><span class="line">  for cell in three_rows:</span><br><span class="line">    cell.font=font2</span><br><span class="line">    cell.alignment=alignment</span><br><span class="line">    cell.border=border</span><br><span class="line">    # 设置每一列列宽</span><br><span class="line">    write_sheet.column_dimensions[cell.column_letter].width=13</span><br><span class="line"></span><br><span class="line">  # 第三行的高度</span><br><span class="line">  write_sheet.row_dimensions[3].height=40.8</span><br><span class="line"></span><br><span class="line">  # 第四行样式</span><br><span class="line">  four_rows=write_sheet[4]</span><br><span class="line">  for cell in four_rows:</span><br><span class="line">    cell.font=Font(name=&apos;宋体&apos;,sz=12)</span><br><span class="line">    cell.alignment=alignment</span><br><span class="line">    cell.border=border</span><br><span class="line"></span><br><span class="line">  # 向第四行的每一格添加数据</span><br><span class="line">  lst=[&apos;A&apos;,&apos;B&apos;,&apos;C&apos;,&apos;D&apos;,&apos;E&apos;,&apos;F&apos;,&apos;G&apos;,&apos;H&apos;,&apos;I&apos;,&apos;J&apos;,&apos;K&apos;,&apos;L&apos;]</span><br><span class="line">  for letter in lst:</span><br><span class="line">    write_sheet[letter+&apos;4&apos;].value=sheet[letter+str(i)].value</span><br><span class="line"></span><br><span class="line">  # 这两格的原内容是公式 </span><br><span class="line">  write_sheet[&apos;F4&apos;].value=&apos;=SUM(C4:E4)&apos;</span><br><span class="line">  write_sheet[&apos;L4&apos;].value=&apos;=F4-G4-H4-I4-J4-K4&apos;</span><br><span class="line"></span><br><span class="line">  # 以每一个人的姓名命名文件</span><br><span class="line">  write_book.save(&apos;工资/&apos;+write_sheet[&apos;B4&apos;].value+&apos;个人工资明细.xlsx&apos;)</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/officePython/officePython2/#disqus_thread</comments>
    </item>
    
    <item>
      <title>officePython1</title>
      <link>https://shulu520.com/officePython/officePython1/</link>
      <guid>https://shulu520.com/officePython/officePython1/</guid>
      <pubDate>Thu, 18 Feb 2021 03:56:12 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;python -m pip install –upgrade pip 升级pip包管理器&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div style=&quot;width:100%;height:1px;background-color:pink;opacity:.7&quot;&gt;&lt;/div&gt;&lt;br&gt;&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;python -m pip install –upgrade pip 升级pip包管理器</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="Excel-无法打开文件“新建-Microsoft-Excel-工作表-xlsx”，因为文件格式或文件扩展名无效-windows-r-输入regedit-打开注册表，按如下连接指示，发现问题之所在：Excel原模板路径是wps的，按照下面教程改回来就好了"><a href="#Excel-无法打开文件“新建-Microsoft-Excel-工作表-xlsx”，因为文件格式或文件扩展名无效-windows-r-输入regedit-打开注册表，按如下连接指示，发现问题之所在：Excel原模板路径是wps的，按照下面教程改回来就好了" class="headerlink" title="Excel 无法打开文件“新建 Microsoft Excel 工作表.xlsx”，因为文件格式或文件扩展名无效  windows+r 输入regedit 打开注册表，按如下连接指示，发现问题之所在：Excel原模板路径是wps的，按照下面教程改回来就好了"></a>Excel 无法打开文件“新建 Microsoft Excel 工作表.xlsx”，因为文件格式或文件扩展名无效  windows+r 输入regedit 打开注册表，按如下连接指示，发现问题之所在：Excel原模板路径是wps的，按照下面教程改回来就好了</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/learllp/article/details/79723078?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;dist_request_id=229aed61-e516-4d52-bab0-8fb76592087b&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.control</span><br></pre></td></tr></table></figure><h2 id="os-scandir查询文件信息"><a href="#os-scandir查询文件信息" class="headerlink" title="os.scandir查询文件信息"></a>os.scandir查询文件信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">import time </span><br><span class="line">import datetime </span><br><span class="line">print(os.scandir()) #得到一个可遍历的对象</span><br><span class="line">for file in os.scandir(&apos;xue3&apos;): #可以指定路径</span><br><span class="line">  print(file.stat()) # 得到好多属性</span><br><span class="line"></span><br><span class="line">  # st_size 文件的体积大小(字节)</span><br><span class="line">  # st_atime 文件最近访问时间 时间戳</span><br><span class="line">  # st_mtime 文件最近修改时间 时间戳</span><br><span class="line">  # st_ctime 文件创建时间 时间戳</span><br><span class="line"></span><br><span class="line">  print(time.ctime(file.stat().st_atime)) </span><br><span class="line">  print(time.ctime(file.stat().st_mtime))</span><br><span class="line">  print(time.ctime(file.stat().st_ctime))</span><br><span class="line">  # #Thu Feb 18 12:20:17 2021</span><br><span class="line"></span><br><span class="line">  print(datetime.datetime.fromtimestamp(file.stat().st_atime))</span><br><span class="line">  # 2021-02-18 21:09:39.046517</span><br><span class="line"></span><br><span class="line">## 某一个指定文件的信息</span><br><span class="line">print(os.stat(&apos;./xue3/3.py&apos;))</span><br></pre></td></tr></table></figure><h2 id="创建临时文件、文件夹"><a href="#创建临时文件、文件夹" class="headerlink" title="创建临时文件、文件夹"></a>创建临时文件、文件夹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 学习爬虫的时候需要使用</span><br><span class="line"># 用完之后自动删除</span><br><span class="line">from tempfile import TemporaryFile</span><br><span class="line">file=TemporaryFile(&apos;w+&apos;)</span><br><span class="line">file.write(&apos;我最帅&apos;)</span><br><span class="line">file.seek(0) # 将光标移动到第一位</span><br><span class="line">print(file.readlines())</span><br><span class="line">print(file.name) #得到文件位置和名称</span><br><span class="line">input(&apos;我去找找临时文件在哪里：随便输入&apos;)</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line"># 推荐这种写法</span><br><span class="line">with TemporaryFile(&apos;w+&apos;) as file:</span><br><span class="line">  file.write(&apos;你最帅了&apos;)</span><br><span class="line">  file.seek(2)</span><br><span class="line">  print(file.readlines())</span><br><span class="line"></span><br><span class="line"># 创建临时文件夹</span><br><span class="line">from tempfile import TemporaryDirectory</span><br><span class="line"></span><br><span class="line">with TemporaryDirectory() as tem_dir:</span><br><span class="line">  print(tem_dir)</span><br><span class="line">  input(&apos;我去找找它在哪里：随便输入&apos;)</span><br></pre></td></tr></table></figure><h2 id="创建文件或文件夹"><a href="#创建文件或文件夹" class="headerlink" title="创建文件或文件夹"></a>创建文件或文件夹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line"># os.mkdir(&apos;我的文件夹&apos;) #在5.py文件夹同层创建一个文件夹</span><br><span class="line"># 老师演示时创建的是与5.py文件同级的文件夹，可能是编辑器的不同</span><br><span class="line"></span><br><span class="line"># os.mkdir(&apos;xue3\我的文件夹&apos;) #创建成功了，但是有警告！！！</span><br><span class="line"></span><br><span class="line"># 先判断有没有，再创建</span><br><span class="line">if not os.path.exists(&apos;我的文件夹2&apos;):</span><br><span class="line">  os.mkdir(&apos;我的文件夹2&apos;)</span><br><span class="line"></span><br><span class="line"># 创建多层文件夹</span><br><span class="line">os.makedirs(&apos;第一层/第二层/第三层&apos;)</span><br></pre></td></tr></table></figure><h2 id="复制文件、文件夹"><a href="#复制文件、文件夹" class="headerlink" title="复制文件、文件夹"></a>复制文件、文件夹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import shutil</span><br><span class="line"># 将当前test.py复制到xue3文件夹下</span><br><span class="line">shutil.copy(&apos;test.py&apos;,&apos;xue3&apos;) </span><br><span class="line">#复制并改名字为test2.py</span><br><span class="line">shutil.copy(&apos;test.py&apos;,&apos;xue3/test2.py&apos;) </span><br><span class="line"></span><br><span class="line"># 复制文件夹</span><br><span class="line">shutil.copytree(&apos;xue3&apos;,&apos;hh/jj/xue3&apos;)</span><br><span class="line"># 注意：hh/jj/xue3 这个xue3文件夹原先要不存在才行</span><br></pre></td></tr></table></figure><h2 id="剪贴文件、文件夹"><a href="#剪贴文件、文件夹" class="headerlink" title="剪贴文件、文件夹"></a>剪贴文件、文件夹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import shutil</span><br><span class="line"># shutil.move(&apos;./xue3/test2.py&apos;,&apos;./&apos;) #移动文件</span><br><span class="line"></span><br><span class="line">#剪贴并重命名 </span><br><span class="line"># shutil.move(&apos;./test2.py&apos;,&apos;./xue3/move_test2.py&apos;) </span><br><span class="line"></span><br><span class="line"># 剪贴文件夹</span><br><span class="line">shutil.move(&apos;./test&apos;,&apos;./xue3&apos;)</span><br></pre></td></tr></table></figure><h2 id="删除文件或文件夹"><a href="#删除文件或文件夹" class="headerlink" title="删除文件或文件夹"></a>删除文件或文件夹</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line"># 注意：利用Python会彻底删除</span><br><span class="line">os.remove(&apos;./xue3/move_test2.py&apos;)</span><br><span class="line"></span><br><span class="line"># 删除文件夹</span><br><span class="line">import shutil</span><br><span class="line">shutil.rmtree(&apos;./xue3/test&apos;)</span><br></pre></td></tr></table></figure><h2 id="文件或文件夹重命名"><a href="#文件或文件夹重命名" class="headerlink" title="文件或文件夹重命名"></a>文件或文件夹重命名</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">os.rename(&apos;./xue3/8.py&apos;,&apos;./xue3/re8.py&apos;)</span><br><span class="line">os.rename(&apos;./xue&apos;,&apos;./xue1&apos;)</span><br></pre></td></tr></table></figure><h3 id="读取压缩文件包"><a href="#读取压缩文件包" class="headerlink" title="读取压缩文件包"></a>读取压缩文件包</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import zipfile</span><br><span class="line">with zipfile.ZipFile(&apos;./hh.zip&apos;,&apos;r&apos;) as zipobj:</span><br><span class="line">  # 列出此压缩包下的所有文件和文件夹，带路径的</span><br><span class="line">  print(zipobj.namelist())</span><br><span class="line"></span><br><span class="line">  # 获取压缩包内文件信息</span><br><span class="line">  for file_name in zipobj.namelist():</span><br><span class="line">    info=zipobj.getinfo(file_name)</span><br><span class="line"></span><br><span class="line">    #file_size 压缩之前大小</span><br><span class="line">    #compress_size 压缩之后大小</span><br><span class="line">    print(file_name,info.file_size,info.compress_size)</span><br></pre></td></tr></table></figure><h2 id="解压压缩包"><a href="#解压压缩包" class="headerlink" title="解压压缩包"></a>解压压缩包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 将压缩包内单个文件解压出来</span><br><span class="line">import zipfile</span><br><span class="line">with zipfile.ZipFile(&apos;hh.zip&apos;,&apos;r&apos;) as zipobj:</span><br><span class="line">  # extract(要解压的文件路径，解压后放置位置)</span><br><span class="line">  # 注意解压后文件的相对路径不会变，会带上路径</span><br><span class="line">  # 比如要放置的位置没有hh/jj/xue3这个路径，则会创建再放入</span><br><span class="line">  zipobj.extract(&apos;hh/jj/xue3/test2.py&apos;,&apos;./&apos;)</span><br><span class="line">  print(zipobj.namelist())</span><br><span class="line"></span><br><span class="line">  # 解压出所有的文件</span><br><span class="line">  zipobj.extractall(&apos;./zip&apos;) #要放置的位置</span><br></pre></td></tr></table></figure><h2 id="创建压缩包"><a href="#创建压缩包" class="headerlink" title="创建压缩包"></a>创建压缩包</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">import zipfile</span><br><span class="line">file_list=[&apos;./xue3/1.py&apos;,&apos;./xue3/2.py&apos;,&apos;./xue3/3.py&apos;]</span><br><span class="line"></span><br><span class="line"># 要创建的压缩包名叫压缩包.zip,在程序中起个别名叫zipobj,方便操作</span><br><span class="line">with zipfile.ZipFile(&apos;压缩包.zip&apos;,&apos;w&apos;) as zipobj:</span><br><span class="line">  for file in file_list:</span><br><span class="line">    zipobj.write(file)</span><br><span class="line"></span><br><span class="line"># 向压缩包中添加文件 a是append的意思</span><br><span class="line">with zipfile.ZipFile(&apos;压缩包.zip&apos;,&apos;a&apos;) as zipobj:</span><br><span class="line">  zipobj.write(&apos;./test.py&apos;)</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/officePython/officePython1/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Python-文件系统</title>
      <link>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/</link>
      <guid>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/</guid>
      <pubDate>Sun, 14 Feb 2021 00:49:13 GMT</pubDate>
      <description>
      
        模块化和文件系统
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h1 id="模块化、文件系统"><a href="#模块化、文件系统" class="headerlink" title="模块化、文件系统"></a>模块化、文件系统</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 一个.py文件就是一个模块</span><br><span class="line"># 导入内置模块</span><br><span class="line"># import 模块名 [as 可以起个别名使用]</span><br><span class="line"># from 模块名 import 包/模块/函数/变量/类等</span><br></pre></td></tr></table></figure><h2 id="导入自定义模块"><a href="#导入自定义模块" class="headerlink" title="导入自定义模块"></a>导入自定义模块</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 学习到这里时遇到了问题，搜索得到：https://www.jianshu.com/p/6692b48c7295</span><br><span class="line"># 选择了其中一个方法:</span><br><span class="line"># 将自定义模块打包:将一揽子的模块（.py文件）放在一个文件夹里面，再添加一个__init__.py，这样这个文件夹就成为了一个包。</span><br><span class="line"># 自定义模块打包后，放在需要调用的.py文件同一个目录下</span><br><span class="line"># 注意要包名+模块名的前缀写完整</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">这是我创建的myfun包下的模块</span><br><span class="line">#calc.py</span><br><span class="line"></span><br><span class="line">def add(a,b):</span><br><span class="line">  return a+b</span><br><span class="line"></span><br><span class="line">def div(c,d):</span><br><span class="line">  return c/d</span><br><span class="line"></span><br><span class="line"># 只有当此模块以主程序运行时才会运行下面内容</span><br><span class="line"># 被其他模块导入使用时不会出现如下内容</span><br><span class="line"># 如点击本.py文件运行的时候</span><br><span class="line">if __name__ == &apos;__main__&apos;: </span><br><span class="line">  print(add(1,22)) #33</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import myfun.calc as calc #导入整个模块,并起个别名，方便使用</span><br><span class="line">print(calc.add(1,5)) #6</span><br><span class="line"></span><br><span class="line">from myfun.calc import div #导入模块下指定函数</span><br><span class="line">print(div(6,2)) #3.0</span><br></pre></td></tr></table></figure><h2 id="第三方模块的安装与使用"><a href="#第三方模块的安装与使用" class="headerlink" title="第三方模块的安装与使用"></a>第三方模块的安装与使用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 安装：window + r 输入cmd进入黑窗口</span><br><span class="line"># pip install schedule(要安装的模块) </span><br><span class="line"></span><br><span class="line">import schedule</span><br><span class="line"></span><br><span class="line">def job():</span><br><span class="line">  print(&apos;你好呀！&apos;)</span><br><span class="line"></span><br><span class="line">schedule.every(3).seconds.do(job)</span><br><span class="line">while True:</span><br><span class="line">  schedule.run_pending()</span><br><span class="line">&lt;!-- 每隔三秒输出：你好呀！ --&gt;</span><br><span class="line">schedule 该模块可以应用于邮件自动化</span><br></pre></td></tr></table></figure><h2 id="python编码格式"><a href="#python编码格式" class="headerlink" title="python编码格式"></a>python编码格式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># .py文件默认存储方式为utf-8</span><br><span class="line"># 修改储存方式：在.py文件最开始加一句#encoding=gbk,我这里会报错</span><br><span class="line"></span><br><span class="line"># 文件读写io操作 input output</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">file=open(&apos;xue2/c.txt&apos;,&apos;r&apos;,encoding=&apos;UTF-8&apos;)</span><br><span class="line">print(file.readlines())</span><br><span class="line">file.close()</span><br><span class="line"></span><br><span class="line">file2=open(&apos;xue2/d.txt&apos;,&apos;w&apos;,encoding=&apos;UTF-8&apos;)</span><br><span class="line">file2.write(&apos;Python,shulu,啥啥啥&apos;)</span><br><span class="line">file2.close()</span><br><span class="line"></span><br><span class="line">file2=open(&apos;xue2/d.txt&apos;,&apos;a&apos;,encoding=&apos;UTF-8&apos;)</span><br><span class="line">file2.write(&apos;Python,shulu,啥啥啥&apos;)</span><br><span class="line">file2.close()</span><br></pre></td></tr></table></figure><h2 id="文件路径（相对或者绝对路径）"><a href="#文件路径（相对或者绝对路径）" class="headerlink" title="文件路径（相对或者绝对路径）"></a>文件路径（相对或者绝对路径）</h2><h3 id="rb-以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。一般用于非文本文件如图片等。"><a href="#rb-以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。一般用于非文本文件如图片等。" class="headerlink" title="rb    以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。一般用于非文本文件如图片等。"></a>rb    以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。一般用于非文本文件如图片等。</h3><h3 id="注意：使用-open-方法一定要保证关闭文件对象，即调用-close-方法。"><a href="#注意：使用-open-方法一定要保证关闭文件对象，即调用-close-方法。" class="headerlink" title="注意：使用 open() 方法一定要保证关闭文件对象，即调用 close() 方法。"></a>注意：使用 open() 方法一定要保证关闭文件对象，即调用 close() 方法。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">src_file=open(&apos;xue2/s.jpg&apos;,&apos;rb&apos;) #源文件</span><br><span class="line">target_file=open(&apos;xue2/copy.jpg&apos;,&apos;wb&apos;) #目标文件</span><br><span class="line"></span><br><span class="line">target_file.write(src_file.read()) #读取并写入</span><br><span class="line"></span><br><span class="line">src_file.close() #关闭文件。关闭后文件不能再进行读写操作。</span><br><span class="line">target_file.close()</span><br></pre></td></tr></table></figure><h2 id="文件读写io操作open"><a href="#文件读写io操作open" class="headerlink" title="文件读写io操作open"></a>文件读写io操作open</h2><h2 id="文件路径（相对或者绝对路径）-1"><a href="#文件路径（相对或者绝对路径）-1" class="headerlink" title="文件路径（相对或者绝对路径）"></a>文件路径（相对或者绝对路径）</h2><h2 id="rb-以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。一般用于非文本文件如图片等。-1"><a href="#rb-以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。一般用于非文本文件如图片等。-1" class="headerlink" title="rb    以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。一般用于非文本文件如图片等。"></a>rb    以二进制格式打开一个文件用于只读。文件指针将会放在文件的开头。一般用于非文本文件如图片等。</h2><h2 id="注意：使用-open-方法一定要保证关闭文件对象，即调用-close-方法。-1"><a href="#注意：使用-open-方法一定要保证关闭文件对象，即调用-close-方法。-1" class="headerlink" title="注意：使用 open() 方法一定要保证关闭文件对象，即调用 close() 方法。"></a>注意：使用 open() 方法一定要保证关闭文件对象，即调用 close() 方法。</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">src_file=open(&apos;xue2/s.jpg&apos;,&apos;rb&apos;) #源文件</span><br><span class="line">target_file=open(&apos;xue2/copy.jpg&apos;,&apos;wb&apos;) #目标文件</span><br><span class="line"></span><br><span class="line">target_file.write(src_file.read()) #读取并写入</span><br><span class="line"></span><br><span class="line">src_file.close() #关闭文件。关闭后文件不能再进行读写操作。</span><br><span class="line">target_file.close()</span><br></pre></td></tr></table></figure><h2 id="with语句，上写文管理器，自动释放资源"><a href="#with语句，上写文管理器，自动释放资源" class="headerlink" title="with语句，上写文管理器，自动释放资源"></a>with语句，上写文管理器，自动释放资源</h2><h4 id="这三句代码相当于上面的5行代码"><a href="#这三句代码相当于上面的5行代码" class="headerlink" title="这三句代码相当于上面的5行代码"></a>这三句代码相当于上面的5行代码</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">with open(&apos;xue2/s.jpg&apos;,&apos;rb&apos;) as src_file:</span><br><span class="line">  with open(&apos;xue2/copy2.jpg&apos;,&apos;wb&apos;) as target_file:</span><br><span class="line">    target_file.write(src_file.read())</span><br></pre></td></tr></table></figure><h2 id="OS模块，操作系统相关的"><a href="#OS模块，操作系统相关的" class="headerlink" title="OS模块，操作系统相关的"></a>OS模块，操作系统相关的</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line"># os.system(&apos;calc.exe&apos;) #打开系统自带程序</span><br><span class="line"># os.system(&apos;notepad.exe&apos;)</span><br><span class="line"></span><br><span class="line"># 直接调用可执行文件</span><br><span class="line"># os.startfile(&apos;C:\\Program Files (x86)\\Tencent\\QQ\\Bin\\qq.exe&apos;) #打开QQ</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">print(os.getcwd()) #获取当前目录路劲</span><br><span class="line"># E:\Users\lqy\Desktop\xuexiPy</span><br><span class="line"></span><br><span class="line">os.mkdir(&apos;haha&apos;) #创建文件目录</span><br><span class="line"></span><br><span class="line">os.rmdir(&apos;haha&apos;) #s删除指定目录</span><br><span class="line"></span><br><span class="line">os.chdir(&apos;E:\\Users\\lqy\\Desktop&apos;) #将path设置为当前工作目录</span><br><span class="line"># print(os.getcwd())</span><br></pre></td></tr></table></figure><h2 id="os-path模块"><a href="#os-path模块" class="headerlink" title="os.path模块"></a>os.path模块</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">import os.path</span><br><span class="line"></span><br><span class="line">#获取文件或目录的绝对路径</span><br><span class="line">print(os.path.abspath(&apos;xue2\\11.py&apos;)) </span><br><span class="line"># E:\Users\lqy\Desktop\xuexiPy\xue2\11.py</span><br><span class="line"></span><br><span class="line">#路径拼接：文件和目录名之间</span><br><span class="line">print(os.path.join(&apos;E:\\Users\\lqy\\Desktop\\xuexiPy&apos;,&apos;jj.py&apos;)) </span><br><span class="line"># E:\Users\lqy\Desktop\xuexiPy\jj.py</span><br><span class="line"></span><br><span class="line">#拆分路径：文件和目录名之间</span><br><span class="line">print(os.path.split(&apos;E:\\Users\\lqy\\Desktop\\xuexiPy\\jj.py&apos;)) </span><br><span class="line"># (&apos;E:\\Users\\lqy\\Desktop\\xuexiPy&apos;, &apos;jj.py&apos;)</span><br><span class="line"></span><br><span class="line">#拆分路径：文件名和扩展名之间</span><br><span class="line">print(os.path.splitext(&apos;E:\\Users\\lqy\\Desktop\\xuexiPy\\jj.py&apos;)) </span><br><span class="line"># (&apos;E:\\Users\\lqy\\Desktop\\xuexiPy\\jj&apos;, &apos;.py&apos;)</span><br><span class="line"></span><br><span class="line"># 从一个目录中提取文件名</span><br><span class="line">print(os.path.basename(&apos;E:\\Users\\lqy\\Desktop\\xuexiPy\\jj.py&apos;))</span><br><span class="line"># jj.py</span><br><span class="line"></span><br><span class="line"># 从一个目录中提取文件路径</span><br><span class="line">print(os.path.dirname(&apos;E:\\Users\\lqy\\Desktop\\xuexiPy\\jj.py&apos;))</span><br><span class="line"># E:\Users\lqy\Desktop\xuexiPy</span><br><span class="line"></span><br><span class="line"># 判断路径是否存在 True False</span><br><span class="line">print(os.path.exists(&apos;E:\\Users\\lqy\\Desktop\\xuexiPy\\jj.py&apos;))</span><br><span class="line"></span><br><span class="line"># 是否为路径 True False</span><br><span class="line">print(os.path.exists(&apos;E:\\Users\\lqy\\Desktop\\xuexiPy&apos;))</span><br></pre></td></tr></table></figure><h2 id="搜索文件"><a href="#搜索文件" class="headerlink" title="搜索文件"></a>搜索文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">lts=os.listdir(&apos;xue2&apos;)</span><br><span class="line">for pyfile in lts:</span><br><span class="line">  if pyfile.endswith(&apos;.py&apos;): #以谁结尾</span><br><span class="line">    print(pyfile)</span><br><span class="line">for item in lts:</span><br><span class="line">  if item.startswith(&apos;c&apos;): #以谁开头</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import glob</span><br><span class="line">print(glob.glob(&apos;xue2\\*.py&apos;)) #查找更方便</span><br></pre></td></tr></table></figure><h2 id="搜索指定文件"><a href="#搜索指定文件" class="headerlink" title="搜索指定文件"></a>搜索指定文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> #全部包括子文件夹的全找出来了 强</span><br><span class="line">import glob</span><br><span class="line">print(glob.glob(&apos;xue2/**/*.py&apos;,recursive=True))</span><br></pre></td></tr></table></figure><h2 id="glob模块"><a href="#glob模块" class="headerlink" title="glob模块"></a>glob模块</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 类似正则表达式</span><br><span class="line">#  *匹配所有，任意字符</span><br><span class="line">#  ?匹配任意单个字符</span><br><span class="line">#  []匹配其中任何字符，如[1-8], [1,2,3]</span><br><span class="line">#  [!]不匹配其中任何字符,如[!8]</span><br></pre></td></tr></table></figure><h2 id="遍历文件os-listdir与os-scandir"><a href="#遍历文件os-listdir与os-scandir" class="headerlink" title="遍历文件os.listdir与os.scandir"></a>遍历文件os.listdir与os.scandir</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># print(os.listdir(&apos;xue2&apos;)) #返回指定目录下的文件嗯和目录</span><br><span class="line"></span><br><span class="line"># os.scandir() 比os.listdir强大一些</span><br><span class="line">for file in os.scandir():</span><br><span class="line">  print(file.name,file.path,file.is_dir())</span><br></pre></td></tr></table></figure><h2 id="os-walk-遍历所有文件和目录"><a href="#os-walk-遍历所有文件和目录" class="headerlink" title="os.walk 遍历所有文件和目录"></a>os.walk 遍历所有文件和目录</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import os</span><br><span class="line">path=os.getcwd() #获取当前目录</span><br><span class="line">lts_files=os.walk(path) #遍历当前目录</span><br><span class="line">for dirpath,dirname,filename in lts_files:</span><br><span class="line">  # print(dirpath) #目录路径</span><br><span class="line">  # print(dirname) #目录名称</span><br><span class="line">  # print(filename) #文件名</span><br><span class="line">  for pyfiles in filename:</span><br><span class="line">    if pyfiles.endswith(&apos;.py&apos;): #输出所有的Python文件</span><br><span class="line">      print(pyfiles)</span><br></pre></td></tr></table></figure><h2 id="验证文件名是否符合指定的要求"><a href="#验证文件名是否符合指定的要求" class="headerlink" title="验证文件名是否符合指定的要求"></a>验证文件名是否符合指定的要求</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import fnmatch</span><br><span class="line">print(fnmatch.fnmatch(&apos;8.py&apos;,&apos;?.py&apos;))</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Python-面向对象</title>
      <link>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</link>
      <guid>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</guid>
      <pubDate>Thu, 11 Feb 2021 13:13:36 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div style=&quot;width:100%;height:1px;background-color:pink;opacity:.7&quot;&gt;&lt;/div&gt;&lt;br&gt;&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="class类-面向对象"><a href="#class类-面向对象" class="headerlink" title="class类 面向对象"></a>class类 面向对象</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 类，人类，鸟类，物以类聚，类即具有某些共同特征的一些对象 </span><br><span class="line"></span><br><span class="line"># self代表类的实例，而非类</span><br><span class="line"># 类的方法与普通的函数只有一个特别的区别：</span><br><span class="line"># 它们必须有一个额外的第一个参数名称, 按照惯例它的名称是 self。</span><br><span class="line"># 与一般函数定义不同，类方法必须包含参数 self, 且为第一个参数</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">class Test: #类名 一个或多个字母组成，且每个字母开头要大写，这是规范</span><br><span class="line">  love=&apos;shu&apos; #公开属性</span><br><span class="line"></span><br><span class="line">  #类的私有属性 两个下划线开头，声明该属性为私有，</span><br><span class="line">  不能在类的外部被使用或直接访问。</span><br><span class="line">  __love=&apos;lu&apos; </span><br><span class="line"></span><br><span class="line">  # 普通方法(参数self)</span><br><span class="line">  def prt(self): </span><br><span class="line">    print(self.love) #可以访问</span><br><span class="line">    print(self.__love) #可以访问</span><br><span class="line">    print(self)</span><br><span class="line">    print(self.__class__)</span><br><span class="line"></span><br><span class="line">  # 类的私有方法</span><br><span class="line">  # 两个下划线开头，声明该方法为私有方法，只能在类的内部调用 ，不能在类的外部调用。</span><br><span class="line">  def __foo(self):         </span><br><span class="line">    print(&apos;这是私有方法&apos;)</span><br><span class="line"></span><br><span class="line">t = Test() #实例化一个对象</span><br><span class="line"></span><br><span class="line">print(t.love) #shu</span><br><span class="line"></span><br><span class="line">t.prt() </span><br><span class="line"># &lt;__main__.Test instance at 0x100771878&gt; # __main__.Test </span><br><span class="line"># 从执行结果可以很明显的看出，self 代表的是类的实例，代表当前对象的地址，而 self.class 则指向类。</span><br><span class="line"></span><br><span class="line">print(t._Test__love) 这样是可以访问类的私有方法的</span><br></pre></td></tr></table></figure><h2 id="类方法和静态方法"><a href="#类方法和静态方法" class="headerlink" title="类方法和静态方法"></a>类方法和静态方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 静态方法是类中的函数，不需要实例。</span><br><span class="line"># 主要是用来存放逻辑性的代码，主要是一些逻辑属于类，但是和类本身没有交互，</span><br><span class="line"># 即在静态方法中，不会涉及到类中的方法和属性的操作。</span><br><span class="line"></span><br><span class="line">类方法（@classmethod）和静态方法（@staticmethod）都是为了对类参数进行一些预处理的过程，</span><br><span class="line">方便使用不同参数对类的调用</span><br><span class="line">类方法推荐使用类名直接调用，当然也可以使用实例对象来调用（不推荐）</span><br><span class="line"></span><br><span class="line">静态方法，其实就是我们学过的函数，和函数唯一的区别是，静态方法定义在类这个空间（类命名空间）中，而函数则定义在程序所在的空间（全局命名空间）中。</span><br><span class="line">在实际编程中，几乎不会用到类方法和静态方法，因为我们完全可以使用函数代替它们实现想要的功能，但在一些特殊的场景中（例如工厂模式中），使用类方法和静态方法也是很不错的选择。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">class Classname:</span><br><span class="line">  @staticmethod #静态方法</span><br><span class="line">  def fun():</span><br><span class="line">    print(&apos;静态方法&apos;)</span><br><span class="line"></span><br><span class="line">  @classmethod #类方法 默认有个 cls 参数，可以被类和对象调用</span><br><span class="line">  def a(cls):</span><br><span class="line">    print(&apos;类方法&apos;)</span><br><span class="line"></span><br><span class="line">  # 实例方法 默认有个self参数，且只能被实例对象调用。</span><br><span class="line">  def b(self):</span><br><span class="line">    print(&apos;普通方法&apos;)</span><br><span class="line"></span><br><span class="line">Classname.fun()</span><br><span class="line">Classname.a()</span><br><span class="line"># Classname.b() 报错</span><br><span class="line"></span><br><span class="line">C = Classname()</span><br><span class="line">C.fun()</span><br><span class="line">C.a()</span><br><span class="line">C.b()</span><br></pre></td></tr></table></figure><h2 id="给实例对象动态添加属性和方法"><a href="#给实例对象动态添加属性和方法" class="headerlink" title="给实例对象动态添加属性和方法"></a>给实例对象动态添加属性和方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">class Love:</span><br><span class="line">  love=&apos;shu&apos;</span><br><span class="line">  def mylove(self):</span><br><span class="line">    print(self.love)</span><br><span class="line"></span><br><span class="line">lu=Love()</span><br><span class="line">lu.mylove()</span><br><span class="line"></span><br><span class="line">def eat(): #定义一个普通函数</span><br><span class="line">  print(&apos;吃吃吃&apos;)</span><br><span class="line"></span><br><span class="line"># 给实例对象动态添加属性和方法</span><br><span class="line">lu.age=18</span><br><span class="line">lu.eat=eat</span><br><span class="line"></span><br><span class="line">lu.eat()</span><br></pre></td></tr></table></figure><h2 id="类的三大特征-封装、继承与多态"><a href="#类的三大特征-封装、继承与多态" class="headerlink" title="类的三大特征 封装、继承与多态"></a>类的三大特征 封装、继承与多态</h2><h3 id="类的封装"><a href="#类的封装" class="headerlink" title="类的封装"></a>类的封装</h3><ul><li><p>封装就像ATM机，内部复杂的结构无需使用者知道，安全外人不会对其内部进行操作</p></li><li><p>类的继承</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">class Person(): #默认继承Object类，可以不写</span><br><span class="line">  def __init__(self,name,age): #类的初始化方法</span><br><span class="line">    self.name=name</span><br><span class="line">    self.age=age</span><br><span class="line">  def info(self):</span><br><span class="line">    print(self.name,self.age)</span><br><span class="line">  </span><br><span class="line">class Student(Person): #这就是继承的书写方式</span><br><span class="line">  def __init__(self,name,age,num):</span><br><span class="line">    super().__init__(name,age) #调用父类Person的方法，继承</span><br><span class="line">    self.num=num</span><br><span class="line"></span><br><span class="line">  #方法重写</span><br><span class="line">  def info(self): </span><br><span class="line">    super().info() #继承父类方法，不满足需求，扩充或更改</span><br><span class="line">    print(self.num)</span><br><span class="line"></span><br><span class="line">class Teacher(Person):</span><br><span class="line">  def __init__(self,name,age,money):</span><br><span class="line">    super().__init__(name,age)</span><br><span class="line">    self.money=money</span><br><span class="line"></span><br><span class="line">  def info(self):</span><br><span class="line">    super().info()</span><br><span class="line">    print(self.money)</span><br><span class="line"></span><br><span class="line">stu=Student(&apos;shulu&apos;,18,80)</span><br><span class="line">stu.info() </span><br><span class="line">#shulu 18 </span><br><span class="line">#20</span><br><span class="line"></span><br><span class="line">tec=Teacher(&apos;liu&apos;,20,888888)</span><br><span class="line">tec.info() </span><br><span class="line">#liu 20</span><br><span class="line">#888888</span><br></pre></td></tr></table></figure><h2 id="多继承，一个类可以同时继承多个父类"><a href="#多继承，一个类可以同时继承多个父类" class="headerlink" title="多继承，一个类可以同时继承多个父类"></a>多继承，一个类可以同时继承多个父类</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">多继承时，若父类方法名同，</span><br><span class="line">子类中默认调用的是在括号中排前的父类的方法，如下为A的方法</span><br><span class="line"></span><br><span class="line">class A():</span><br><span class="line">  pass</span><br><span class="line"></span><br><span class="line">class B():</span><br><span class="line">  pass</span><br><span class="line"></span><br><span class="line">class C(A,B): #多继承</span><br><span class="line">  pass</span><br></pre></td></tr></table></figure><h2 id="查看对象所有属性方法，内置函数dir"><a href="#查看对象所有属性方法，内置函数dir" class="headerlink" title="查看对象所有属性方法，内置函数dir()"></a>查看对象所有属性方法，内置函数dir()</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">class Person():</span><br><span class="line">  pass</span><br><span class="line"></span><br><span class="line">p1=Person()</span><br><span class="line">print(dir(p1))</span><br><span class="line"># 结果为 </span><br><span class="line"># [&apos;__class__&apos;, &apos;__delattr__&apos;, </span><br><span class="line"># &apos;__dict__&apos;, &apos;__dir__&apos;, &apos;__doc__&apos;,</span><br><span class="line"># &apos;__eq__&apos;, &apos;__format__&apos;, &apos;__ge__&apos;, </span><br><span class="line"># &apos;__getattribute__&apos;, &apos;__gt__&apos;, &apos;__hash__&apos;, </span><br><span class="line"># &apos;__init__&apos;, &apos;__init_subclass__&apos;, &apos;__le__&apos;,</span><br><span class="line">#  &apos;__lt__&apos;, &apos;__module__&apos;, &apos;__ne__&apos;, &apos;__new__&apos;,</span><br><span class="line">#  &apos;__reduce__&apos;, &apos;__reduce_ex__&apos;, &apos;__repr__&apos;, </span><br><span class="line"># &apos;__setattr__&apos;, &apos;__sizeof__&apos;, &apos;__str__&apos;,</span><br><span class="line">#  &apos;__subclasshook__&apos;, &apos;__weakref__&apos;]</span><br></pre></td></tr></table></figure><h2 id="重写str方法-返回一个对象的描述信息"><a href="#重写str方法-返回一个对象的描述信息" class="headerlink" title="重写str方法 返回一个对象的描述信息"></a>重写<strong>str</strong>方法 返回一个对象的描述信息</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># __str__方法需要返回一个字符串，当做这个对象的描写</span><br><span class="line"># 当使用print输出对象的时候，若重写__str__方法，就会打印从在这个方法中return的数据</span><br><span class="line"># 帮我们查看对象的信息</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">class Student():</span><br><span class="line">  def __init__(self,name,age):</span><br><span class="line">    self.name=name</span><br><span class="line">    self.age=age</span><br><span class="line">  def __str__(self):</span><br><span class="line">    return &apos;我的名字叫&#123;0&#125;,今年&#123;1&#125;岁了&apos;.format(self.name,self.age)</span><br><span class="line"></span><br><span class="line">stu=Student(&apos;shu&apos;,18)</span><br><span class="line">print(stu) #结果为：</span><br><span class="line"># 没重写之前： &lt;__main__.Student object at 0x0000027798F25EB0&gt;</span><br><span class="line"># 重写之后：我的名字叫shu,今年18岁了</span><br></pre></td></tr></table></figure><h2 id="多态-让代码更加通用"><a href="#多态-让代码更加通用" class="headerlink" title="多态,让代码更加通用"></a>多态,让代码更加通用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># Python中多态的特点</span><br><span class="line"># 1、只关心对象的实例方法是否同名，不关心对象所属的类型；</span><br><span class="line"># 2、对象所属的类之间，继承关系可有可无；(对象所属的类之间有继承关系应用更广)</span><br><span class="line"># 3、多态的好处可以增加代码的外部调用灵活度，让代码更加通用，兼容性比较强；</span><br><span class="line"># 4、多态是调用方法的技巧，不会影响到类的内部设计。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"># 调用同一个函数fly(), 传入不同的参数（对象），可以达成不同的功能</span><br><span class="line"></span><br><span class="line">class Duck(object):  # 鸭类</span><br><span class="line">  def fly(self):</span><br><span class="line">    print(&quot;鸭子沿着地面飞起来了&quot;)</span><br><span class="line"></span><br><span class="line">class Swan(object):  # 天鹅类</span><br><span class="line">  def fly(self):</span><br><span class="line">    print(&quot;天鹅在空中翱翔&quot;)</span><br><span class="line"></span><br><span class="line">class Plane(object): # 飞机类</span><br><span class="line">  def fly(self):</span><br><span class="line">    print(&quot;飞机隆隆地起飞了&quot;)</span><br><span class="line"></span><br><span class="line">def fly(obj): # 实现飞的功能函数</span><br><span class="line">  obj.fly()</span><br><span class="line"></span><br><span class="line">duck = Duck()</span><br><span class="line">swan = Swan()</span><br><span class="line">plane = Plane()</span><br><span class="line"></span><br><span class="line">fly(duck) #鸭子沿着地面飞起来了</span><br><span class="line">fly(swan) #天鹅在空中翱翔</span><br><span class="line">fly(plane) #飞机隆隆地起飞了</span><br></pre></td></tr></table></figure><h2 id="Python-中的new和init的区别"><a href="#Python-中的new和init的区别" class="headerlink" title="Python 中的new和init的区别"></a>Python 中的<strong>new</strong>和<strong>init</strong>的区别</h2><h3 id="二者均是Python面向对象语言中的函数，new比较少用，init则用的比较多。"><a href="#二者均是Python面向对象语言中的函数，new比较少用，init则用的比较多。" class="headerlink" title="二者均是Python面向对象语言中的函数，new比较少用，init则用的比较多。"></a>二者均是Python面向对象语言中的函数，<strong>new</strong>比较少用，<strong>init</strong>则用的比较多。</h3><h3 id="new是在实例创建之前被调用的，因为它的任务就是创建实例然后返回该实例对象，是个静态方法。"><a href="#new是在实例创建之前被调用的，因为它的任务就是创建实例然后返回该实例对象，是个静态方法。" class="headerlink" title="new是在实例创建之前被调用的，因为它的任务就是创建实例然后返回该实例对象，是个静态方法。"></a><strong>new</strong>是在实例创建之前被调用的，因为它的任务就是创建实例然后返回该实例对象，是个静态方法。</h3><h3 id="init是当实例对象创建完成后被调用的，然后设置对象属性的一些初始值，通常用在初始化一个类实例的时候。是一个实例方法。"><a href="#init是当实例对象创建完成后被调用的，然后设置对象属性的一些初始值，通常用在初始化一个类实例的时候。是一个实例方法。" class="headerlink" title="init是当实例对象创建完成后被调用的，然后设置对象属性的一些初始值，通常用在初始化一个类实例的时候。是一个实例方法。"></a><strong>init</strong>是当实例对象创建完成后被调用的，然后设置对象属性的一些初始值，通常用在初始化一个类实例的时候。是一个实例方法。</h3><h3 id="也就是：-new先被调用，init后被调用，new的返回值（实例）将传递给init方法的第一个参数，然后init给这个实例设置一些参数。"><a href="#也就是：-new先被调用，init后被调用，new的返回值（实例）将传递给init方法的第一个参数，然后init给这个实例设置一些参数。" class="headerlink" title="也就是： new先被调用，init后被调用，new的返回值（实例）将传递给init方法的第一个参数，然后init给这个实例设置一些参数。"></a>也就是： <strong>new</strong>先被调用，<strong>init</strong>后被调用，<strong>new</strong>的返回值（实例）将传递给<strong>init</strong>方法的第一个参数，然后<strong>init</strong>给这个实例设置一些参数。</h3><h2 id="参数self与cls"><a href="#参数self与cls" class="headerlink" title="参数self与cls"></a>参数self与cls</h2><h3 id="self是类的实例对象，cls是类对象"><a href="#self是类的实例对象，cls是类对象" class="headerlink" title="self是类的实例对象，cls是类对象"></a>self是类的实例对象，cls是类对象</h3><h2 id="Python-直接赋值、浅拷贝和深度拷贝解析"><a href="#Python-直接赋值、浅拷贝和深度拷贝解析" class="headerlink" title="Python 直接赋值、浅拷贝和深度拷贝解析"></a>Python 直接赋值、浅拷贝和深度拷贝解析</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 直接赋值：其实就是对象的引用（别名）。</span><br><span class="line"># b = a: 赋值引用，a 和 b 都指向同一个对象。</span><br><span class="line"></span><br><span class="line"># 浅拷贝(copy)：拷贝父对象，不会拷贝对象的内部的子对象。</span><br><span class="line"># b = a.copy(): 浅拷贝, a 和 b 是一个独立的对象，但他们会引用同一个子对象。</span><br><span class="line"></span><br><span class="line"># 深拷贝(deepcopy)：copy 模块的 deepcopy 方法，完全拷贝了父对象及其子对象。</span><br><span class="line"># b = copy.deepcopy(a): 深度拷贝, a 和 b 完全拷贝了父对象及其子对象，两者是完全独立的。</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">import copy</span><br><span class="line">a = [1, 2, 3, [&apos;a&apos;, &apos;b&apos;]] #原始对象</span><br><span class="line"> </span><br><span class="line">b = a                     #赋值，传对象的引用</span><br><span class="line">c = copy.copy(a)          #对象拷贝，浅拷贝</span><br><span class="line">d = copy.deepcopy(a)      #对象拷贝，深拷贝</span><br><span class="line"> </span><br><span class="line">a.append(4)               #修改原对象a (父对象)</span><br><span class="line">a[3].append(&apos;c&apos;)          #修改原对象a中的[&apos;a&apos;, &apos;b&apos;]数组对象 (子对象)</span><br><span class="line"> </span><br><span class="line">print( &apos;a = &apos;, a )</span><br><span class="line">print( &apos;b = &apos;, b )</span><br><span class="line">print( &apos;c = &apos;, c )</span><br><span class="line">print( &apos;d = &apos;, d )</span><br><span class="line"></span><br><span class="line"># a =  [1, 2, 3, [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;], 4]</span><br><span class="line"># b =  [1, 2, 3, [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;], 4]</span><br><span class="line"># c =  [1, 2, 3, [&apos;a&apos;, &apos;b&apos;, &apos;c&apos;]]</span><br><span class="line"># d =  [1, 2, 3, [&apos;a&apos;, &apos;b&apos;]]</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Python-函数</title>
      <link>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E5%87%BD%E6%95%B0/</link>
      <guid>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E5%87%BD%E6%95%B0/</guid>
      <pubDate>Wed, 10 Feb 2021 14:34:13 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div style=&quot;width:100%;height:1px;background-color:pink;opacity:.7&quot;&gt;&lt;/div&gt;&lt;br&gt;&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h2 id="总结调用函数时，进行参数的传递"><a href="#总结调用函数时，进行参数的传递" class="headerlink" title="总结调用函数时，进行参数的传递"></a>总结调用函数时，进行参数的传递</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 若果是不可变对象(数字、字符串、元组)，在函数体内对形参的修改不会影响实参</span><br><span class="line"># 若果是可变对象(列表、字典、集合)，在函数体内对形参的修改会影响实参</span><br><span class="line"></span><br><span class="line">def fun1(arg1,arg2):</span><br><span class="line">  print(arg1)</span><br><span class="line">  print(arg2)</span><br><span class="line">  arg1=100</span><br><span class="line">  arg2.append(10)</span><br><span class="line">  print(arg1)</span><br><span class="line">  print(arg2)</span><br><span class="line"></span><br><span class="line">n1=12</span><br><span class="line">n2=[11,33,44]</span><br><span class="line"></span><br><span class="line">fun1(n1,n2)</span><br><span class="line">print(n1) #12</span><br><span class="line">print(n2) #[11, 33, 44, 10]</span><br></pre></td></tr></table></figure><h2 id="函数的返回值，是否需要自己决定"><a href="#函数的返回值，是否需要自己决定" class="headerlink" title="函数的返回值，是否需要自己决定"></a>函数的返回值，是否需要自己决定</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># 函数的返回值为1个值时，返回值为原类型</span><br><span class="line"># 函数的返回值为多个值时，返回值为元组类型</span><br><span class="line"></span><br><span class="line">n3=88</span><br><span class="line">n4=[22,45,66]</span><br><span class="line">def fun2(arg1,arg2):</span><br><span class="line">  arg1=100</span><br><span class="line">  arg2.append(10)</span><br><span class="line">  print(arg1)</span><br><span class="line">  print(arg2)</span><br><span class="line">  return n3,n4</span><br><span class="line"></span><br><span class="line">print(fun2(n3,n4)) #输出函数的返回值 (88, [22, 45, 66, 10])</span><br></pre></td></tr></table></figure><h2 id="设置函数的默认参数值"><a href="#设置函数的默认参数值" class="headerlink" title="设置函数的默认参数值"></a>设置函数的默认参数值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">def fun3(a,b=8):</span><br><span class="line">  print(a,b)</span><br><span class="line"></span><br><span class="line">fun3(1) #1 8</span><br><span class="line">fun3(1,32) #1 32</span><br><span class="line"></span><br><span class="line">## 个数可变的位置参数</span><br><span class="line">def fun4(*args):</span><br><span class="line">  print(args)</span><br><span class="line"></span><br><span class="line">fun4(1) #(1,)</span><br><span class="line">fun4(1,2,3) #(1, 2, 3)</span><br><span class="line"></span><br><span class="line">## 个数可变的关键字参数</span><br><span class="line">def fun5(**args):</span><br><span class="line">  print(args)</span><br><span class="line"></span><br><span class="line">fun5(a=1) #&#123;&apos;a&apos;: 1&#125;</span><br><span class="line">fun5(a=1,b=2,c=3) #&#123;&apos;a&apos;: 1, &apos;b&apos;: 2, &apos;c&apos;: 3&#125;</span><br><span class="line"></span><br><span class="line">## 个数可变得位置形参与个数可变得关键字形参都有时，</span><br><span class="line"># 个数可变的位置形参在前，不然报错</span><br><span class="line">def fun6(*arg1,**arg2):</span><br><span class="line">  print(arg1,arg2)</span><br><span class="line"></span><br><span class="line">fun6(1,4) #(1, 4) &#123;&#125;</span><br><span class="line">fun6(a=22,b=33) #() &#123;&apos;a&apos;: 22, &apos;b&apos;: 33&#125;</span><br><span class="line">fun6(1,3,a=121,c=88) #(1, 3) &#123;&apos;a&apos;: 121, &apos;c&apos;: 88&#125;</span><br></pre></td></tr></table></figure><h2 id="函数传参，传列表，字典"><a href="#函数传参，传列表，字典" class="headerlink" title="函数传参，传列表，字典"></a>函数传参，传列表，字典</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">def fun7(x,y,z):</span><br><span class="line">  print(x,y,z)</span><br><span class="line"></span><br><span class="line">ls=[1,2,3]</span><br><span class="line">d=&#123;&apos;x&apos;:&apos;shu&apos;,&apos;y&apos;:18,&apos;z&apos;:&apos;men&apos;&#125;</span><br><span class="line"></span><br><span class="line">fun7(*ls) #1 2 3 展开列表元素并传入实参</span><br><span class="line">fun7(**d) #shu 18 men 展开字典元素并传入实参</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">def fun8(a,b,*,c,d): #从*之后的参数只能采用关键字传参</span><br><span class="line">  print(a,b,c,d)</span><br><span class="line"></span><br><span class="line">fun8(1,2,c=3,d=4) #1 2 3 4</span><br></pre></td></tr></table></figure><h2 id="递归函数"><a href="#递归函数" class="headerlink" title="递归函数"></a>递归函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 计算阶乘</span><br><span class="line">def fun1(n):</span><br><span class="line">  if n==1:</span><br><span class="line">    return 1</span><br><span class="line">  else:</span><br><span class="line">    res=n*fun1(n-1)</span><br><span class="line">    return res</span><br><span class="line"></span><br><span class="line">print(fun1(5)) #120</span><br></pre></td></tr></table></figure><h1 id="计算菲波拉契数列"><a href="#计算菲波拉契数列" class="headerlink" title="计算菲波拉契数列"></a>计算菲波拉契数列</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">def fun2(n):</span><br><span class="line">  if n==1:</span><br><span class="line">    return 1</span><br><span class="line">  elif n==2:</span><br><span class="line">    return 1</span><br><span class="line">  else:</span><br><span class="line">    return fun2(n-1)+fun2(n-2)</span><br><span class="line"></span><br><span class="line">print(fun2(6)) #8</span><br></pre></td></tr></table></figure><h2 id="函数的异常处理机制"><a href="#函数的异常处理机制" class="headerlink" title="函数的异常处理机制"></a>函数的异常处理机制</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># 一个except子句可以同时处理多个异常，这些异常将被放在一个括号里成为一个元组。</span><br><span class="line"># 使用 else 子句比把所有的语句都放在 try 子句里面要好，</span><br><span class="line"># 这样可以避免一些意想不到，而 except 又无法捕获的异常。</span><br><span class="line"></span><br><span class="line">while True:</span><br><span class="line">  try:</span><br><span class="line">    x=int(input(&apos;请输入一个数字：&apos;)) #执行代码</span><br><span class="line">  except (ValueError, RuntimeError, TypeError, NameError, SyntaxError, KeyError, IndexError,ZeroDivisionError):</span><br><span class="line">    print(&apos;请输入一个正确的数字&apos;) #发生异常时执行的代码</span><br><span class="line">  else: </span><br><span class="line">    y=x+1 #没有异常时执行的代码</span><br><span class="line">    print(y)</span><br><span class="line">  finally: #无论异常是否发生都会执行：</span><br><span class="line">    print(&apos;你最帅&apos;)</span><br><span class="line"></span><br><span class="line"># finally能用来释放try块中申请的资源</span><br></pre></td></tr></table></figure><h2 id="打印异常信息，可用于以后打印日志等"><a href="#打印异常信息，可用于以后打印日志等" class="headerlink" title="打印异常信息，可用于以后打印日志等"></a>打印异常信息，可用于以后打印日志等</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">import traceback</span><br><span class="line">try:</span><br><span class="line">  print(1/0)</span><br><span class="line">except:</span><br><span class="line">  traceback.print_exc() #ZeroDivisionError: division by zero</span><br></pre></td></tr></table></figure><h2 id="lambda匿名函数"><a href="#lambda匿名函数" class="headerlink" title="lambda匿名函数"></a>lambda匿名函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 用完即释放内存</span><br><span class="line"># 用法为：lambda 一个或多个参数: 表达式内容</span><br><span class="line">a=lambda x:x+x</span><br><span class="line"></span><br><span class="line">print(a(8)) #16</span><br></pre></td></tr></table></figure><h2 id="random随机函数"><a href="#random随机函数" class="headerlink" title="random随机函数"></a>random随机函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">import random</span><br><span class="line">#[0,1) 的随机数</span><br><span class="line">print(random.random()) </span><br><span class="line"></span><br><span class="line"> #[10,100]的随机数</span><br><span class="line">print(random.randint(10,100))</span><br><span class="line"></span><br><span class="line">#[10,100) 步长为5的随机数</span><br><span class="line">print(random.randrange(10,100,5)) </span><br><span class="line"></span><br><span class="line"># 从序列中随机选取一个</span><br><span class="line">lst=[11,2,33,1,44]</span><br><span class="line">print(random.choice(lst))</span><br><span class="line"></span><br><span class="line"># 将序列元素随机排序</span><br><span class="line"># 把原列表随机排序，没有rutern值</span><br><span class="line">random.shuffle(lst) </span><br><span class="line">print(lst)</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E5%87%BD%E6%95%B0/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Python-字符串</title>
      <link>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E5%AD%97%E7%AC%A6%E4%B8%B2/</link>
      <guid>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E5%AD%97%E7%AC%A6%E4%B8%B2/</guid>
      <pubDate>Wed, 10 Feb 2021 00:57:13 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div style=&quot;width:100%;height:1px;background-color:pink;opacity:.7&quot;&gt;&lt;/div&gt;&lt;br&gt;&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="目前所学不可变序列为字符串和元组"><a href="#目前所学不可变序列为字符串和元组" class="headerlink" title="目前所学不可变序列为字符串和元组"></a>目前所学不可变序列为字符串和元组</h2><h2 id="拼接字符串时join-方法比-效率高"><a href="#拼接字符串时join-方法比-效率高" class="headerlink" title="拼接字符串时join()方法比+效率高"></a>拼接字符串时join()方法比+效率高</h2><h2 id="字符串查询操作"><a href="#字符串查询操作" class="headerlink" title="字符串查询操作"></a>字符串查询操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">str1=&apos;shulu520u&apos;</span><br><span class="line">print(str1.index(&apos;u&apos;)) #2 第一次出现的位置</span><br><span class="line">print(str1.rindex(&apos;u&apos;)) #8 最后一次出现的位置</span><br><span class="line"># print(str1.index(&apos;m&apos;)) #substring not found</span><br><span class="line"># print(str1.rindex(&apos;m&apos;)) #substring not found</span><br><span class="line"></span><br><span class="line">print(str1.find(&apos;u&apos;)) #2 第一次出现的位置</span><br><span class="line">print(str1.rfind(&apos;u&apos;)) #8 最后一次出现的位置</span><br><span class="line">print(str1.find(&apos;m&apos;)) #-1 不会报错</span><br><span class="line">print(str1.rfind(&apos;m&apos;)) #-1 不会报错</span><br></pre></td></tr></table></figure><h2 id="字符串大小写转换"><a href="#字符串大小写转换" class="headerlink" title="字符串大小写转换"></a>字符串大小写转换</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">str2=&apos;ShuluIloveYou&apos;</span><br><span class="line"></span><br><span class="line">print(str2.upper()) #SHULUILOVEYOU</span><br><span class="line">print(str2.lower()) #shuluiloveyou</span><br><span class="line"></span><br><span class="line">print(str2.swapcase()) #sHULUiLOVEyOU 大小取反</span><br><span class="line"></span><br><span class="line">str3=&apos;hu,lu,You&apos;</span><br><span class="line">print(str3.title()) #Hu,Lu,You 每一个单词首字母大写，其余小写</span><br><span class="line">print(str3.capitalize()) #Hu,lu,you 第一个字符大写，其余小写</span><br></pre></td></tr></table></figure><h2 id="字符串对齐操作"><a href="#字符串对齐操作" class="headerlink" title="字符串对齐操作"></a>字符串对齐操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">str1=&apos;python&apos;</span><br><span class="line"># 居中对齐，指定字符串的长度和不够指定长度时的填充内容</span><br><span class="line"># 默认填充内容为空格</span><br><span class="line"># 若指定长度小于实际长度则返回字符串本身</span><br><span class="line">print(str1.center(10,&apos;*&apos;)) #**python**</span><br><span class="line"></span><br><span class="line"># 左对齐</span><br><span class="line">print(str1.ljust(10,&apos;&amp;&apos;)) #python&amp;&amp;&amp;&amp;</span><br><span class="line"></span><br><span class="line"># 右对齐</span><br><span class="line">print(str1.rjust(10,&apos;$&apos;)) #$$$$python</span><br><span class="line"></span><br><span class="line"># 右对齐，只有一个参数，不到指定长度用0填充</span><br><span class="line">print(str1.zfill(10)) #0000python</span><br></pre></td></tr></table></figure><h2 id="字符串的劈分操作"><a href="#字符串的劈分操作" class="headerlink" title="字符串的劈分操作"></a>字符串的劈分操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#split() 通过指定分隔符对字符串进行切片，</span><br><span class="line"># 如果第二个参数 num 有指定值，则分割为 num+1 个子字符串。</span><br><span class="line"># 返回一个列表，将分隔符换为逗号，默认分隔符为空格</span><br><span class="line">str2=&apos;nihaoyaiw&apos;</span><br><span class="line">str22=&apos;ni hao ya iw&apos;</span><br><span class="line">print(str2.split(&apos;i&apos;)) #[&apos;n&apos;, &apos;haoya&apos;, &apos;w&apos;]</span><br><span class="line">print(str22.split()) #[&apos;ni&apos;, &apos;hao&apos;, &apos;ya&apos;, &apos;iw&apos;]</span><br></pre></td></tr></table></figure><h2 id="计数指定字符串在原字符串中出现的个数"><a href="#计数指定字符串在原字符串中出现的个数" class="headerlink" title="计数指定字符串在原字符串中出现的个数"></a>计数指定字符串在原字符串中出现的个数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s3=&apos;shululoveu&apos;</span><br><span class="line">print(s3.count(&apos;u&apos;)) #3</span><br><span class="line">print(s3.count(&apos;u&apos;,1,4)) #1 指定范围内u出现的次数</span><br></pre></td></tr></table></figure><h2 id="rstrip-删除字符串末尾的指定字符（默认为空格）"><a href="#rstrip-删除字符串末尾的指定字符（默认为空格）" class="headerlink" title="rstrip() 删除字符串末尾的指定字符（默认为空格）"></a>rstrip() 删除字符串末尾的指定字符（默认为空格）</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s4=&apos;   ss dsds, shu   &apos;</span><br><span class="line">print(s4.rstrip()) #   ss dsds, shu</span><br><span class="line"></span><br><span class="line">s5=&apos;   ss dsds, shu***&apos;</span><br><span class="line">print(s4.rstrip(&apos;*&apos;)) #   ss dsds, shu 删除末尾*</span><br></pre></td></tr></table></figure><h2 id="lstrip-删除字符串开头的指定字符（默认为空格）用法同rstrip"><a href="#lstrip-删除字符串开头的指定字符（默认为空格）用法同rstrip" class="headerlink" title="lstrip() 删除字符串开头的指定字符（默认为空格）用法同rstrip"></a>lstrip() 删除字符串开头的指定字符（默认为空格）用法同rstrip</h2><h2 id="字符串替换replace-old-new"><a href="#字符串替换replace-old-new" class="headerlink" title="字符串替换replace(old,new)"></a>字符串替换replace(old,new)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s6=&apos;shuluhahaha&apos;</span><br><span class="line">print(s6.replace(&apos;u&apos;,&apos;*&apos;)) #sh*l*hahaha</span><br><span class="line">print(s6.replace(&apos;h&apos;,&apos;%&apos;,2)) #s%ulu%ahaha 最多替换2个</span><br></pre></td></tr></table></figure><h2 id="len-是内置函数，返回对象的长度（元素个数）。"><a href="#len-是内置函数，返回对象的长度（元素个数）。" class="headerlink" title="len()是内置函数，返回对象的长度（元素个数）。"></a>len()是内置函数，返回对象的长度（元素个数）。</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 实参可以是序列（如 string、bytes、tuple、list 或 range 等）</span><br><span class="line"># 或集合（如 dictionary、set 或 frozen set 等）。</span><br><span class="line"># len()不是字符串类的方法</span><br><span class="line">print(len(s6)) #11</span><br></pre></td></tr></table></figure><h2 id="字符串连接join"><a href="#字符串连接join" class="headerlink" title="字符串连接join()"></a>字符串连接join()</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">s7=&apos;swww,lu&apos;</span><br><span class="line">print(&apos;@&apos;.join(s7)) #s@w@w@w@,@l@u</span><br><span class="line"></span><br><span class="line">## 将列表或元组中的字符串拼接成一个字符串</span><br><span class="line">ls1=[&apos;shu&apos;,&apos;lu&apos;,&apos;520&apos;]</span><br><span class="line">print(&apos;^&apos;.join(ls1)) #shu^lu^520</span><br><span class="line">print(&apos;&apos;.join(ls1)) #shulu520</span><br><span class="line"></span><br><span class="line">t=(&apos;shu&apos;,&apos;lu&apos;,&apos;520&apos;)</span><br><span class="line">print(&apos;*&apos;.join(ls1)) #shu*lu*520</span><br></pre></td></tr></table></figure><h2 id="字符串的判断"><a href="#字符串的判断" class="headerlink" title="字符串的判断"></a>字符串的判断</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s9=&apos;shu520&apos;</span><br><span class="line"># 是否全部由字母或数字组成</span><br><span class="line">print(s9.isalnum()) #True </span><br><span class="line"></span><br><span class="line"># 只包含数字</span><br><span class="line">s0=&apos;520&apos;</span><br><span class="line">print(s0.isdigit()) #True</span><br></pre></td></tr></table></figure><h2 id="字符串的比较-字符串有驻留机制"><a href="#字符串的比较-字符串有驻留机制" class="headerlink" title="字符串的比较(字符串有驻留机制)"></a>字符串的比较(字符串有驻留机制)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">s11=&apos;love&apos;</span><br><span class="line">s12=&apos;love&apos;</span><br><span class="line"># == 比较的是值的比较</span><br><span class="line">print(s11==s12) #True</span><br><span class="line"></span><br><span class="line"># == 比较的是id的比较</span><br><span class="line">print(s11 is s12) #True</span><br></pre></td></tr></table></figure><h2 id="字符串的切片操作"><a href="#字符串的切片操作" class="headerlink" title="字符串的切片操作"></a>字符串的切片操作</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">s22=&apos;shululove&apos;</span><br><span class="line">print(s22[2]) #u</span><br><span class="line">print(s22[2:5]) #ulu</span><br><span class="line">print(s22[::2]) #suuoe</span><br><span class="line">print(s22[::-2]) #eouus</span><br></pre></td></tr></table></figure><h2 id="格式化字符串"><a href="#格式化字符串" class="headerlink" title="格式化字符串"></a>格式化字符串</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 使用%做占位符,s表示字符串,d表示数字</span><br><span class="line">name=&apos;lu&apos;</span><br><span class="line">age=18</span><br><span class="line">print(&apos;我叫%s,今年%d岁&apos; %(name,age)) #我叫lu,今年18岁</span><br><span class="line"></span><br><span class="line">print(f&apos;我叫&#123;name&#125;,今年&#123;age&#125;岁&apos;) #我叫lu,今年18岁</span><br><span class="line"></span><br><span class="line">print(&apos;我叫&#123;0&#125;，今年&#123;1&#125;岁&apos;.format(name,age)) ##我叫lu,今年18岁</span><br></pre></td></tr></table></figure><h2 id="字符串的编码解码"><a href="#字符串的编码解码" class="headerlink" title="字符串的编码解码"></a>字符串的编码解码</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># encode()</span><br><span class="line">str100=&apos;爱&apos;</span><br><span class="line">str200=str100.encode()</span><br><span class="line">print(str200) #b&apos;\xe7\x88\xb1&apos;</span><br><span class="line">print(str200.decode()) #爱</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E5%AD%97%E7%AC%A6%E4%B8%B2/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Python-数据类型</title>
      <link>https://shulu520.com/Python%E8%AF%AD%E6%B3%953/Python-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</link>
      <guid>https://shulu520.com/Python%E8%AF%AD%E6%B3%953/Python-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/</guid>
      <pubDate>Tue, 09 Feb 2021 08:42:25 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div style=&quot;width:100%;height:1px;background-color:pink;opacity:.7&quot;&gt;&lt;/div&gt;&lt;br&gt;&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="字典-key-value-键值对形式"><a href="#字典-key-value-键值对形式" class="headerlink" title="字典{key:value}键值对形式"></a>字典{key:value}键值对形式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#创建方式</span><br><span class="line">love=&#123;&apos;name&apos;:&apos;yachan&apos;,&apos;age&apos;:18&#125; #直接花括号</span><br><span class="line">print(love,type(love)) #&#123;&apos;name&apos;: &apos;yachan&apos;, &apos;age&apos;: 18&#125; &lt;class &apos;dict&apos;&gt;)</span><br><span class="line"></span><br><span class="line">student=dict(&#123;&apos;name&apos;:&apos;shulu&apos;,&apos;age&apos;:19&#125;) #内置函数dict(&#123;&#125;)</span><br><span class="line">print(student) #&#123;&apos;name&apos;: &apos;shulu&apos;, &apos;age&apos;: 19&#125;</span><br></pre></td></tr></table></figure><h2 id="获取字典中的元素"><a href="#获取字典中的元素" class="headerlink" title="获取字典中的元素"></a>获取字典中的元素</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(love[&apos;name&apos;])</span><br><span class="line">print(love[&apos;money&apos;]) #KeyError: &apos;money&apos;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(student.get(&apos;age&apos;))</span><br><span class="line">print(student.get(&apos;money&apos;)) #None 不会报错</span><br><span class="line">print(student.get(&apos;cat&apos;,&apos;bob&apos;)) #找不到，给一个默认值</span><br><span class="line">print(student) #但是不会影响原字典，只是查询的时候给一个反馈</span><br></pre></td></tr></table></figure><h2 id="key键的判断"><a href="#key键的判断" class="headerlink" title="key键的判断"></a>key键的判断</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">love=&#123;&apos;name&apos;:&apos;yachan&apos;,&apos;age&apos;:18&#125;</span><br><span class="line"></span><br><span class="line">print(&apos;age&apos; in love)</span><br><span class="line">print(&apos;money&apos; in love)</span><br><span class="line">print(&apos;money&apos; not in love)</span><br></pre></td></tr></table></figure><h2 id="增加键值对"><a href="#增加键值对" class="headerlink" title="增加键值对"></a>增加键值对</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">love[&apos;money&apos;]=8888</span><br><span class="line">print(love)</span><br></pre></td></tr></table></figure><h2 id="修改键值对"><a href="#修改键值对" class="headerlink" title="修改键值对"></a>修改键值对</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">love[&apos;age&apos;]=20</span><br><span class="line">print(love)</span><br></pre></td></tr></table></figure><h2 id="删除key"><a href="#删除key" class="headerlink" title="删除key"></a>删除key</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">del love[&apos;age&apos;]</span><br><span class="line">print(love)</span><br></pre></td></tr></table></figure><h2 id="清空元素"><a href="#清空元素" class="headerlink" title="清空元素"></a>清空元素</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">love.clear()</span><br><span class="line">print(love) #&#123;&#125;</span><br></pre></td></tr></table></figure><h2 id="获取字典视图"><a href="#获取字典视图" class="headerlink" title="获取字典视图"></a>获取字典视图</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">love=&#123;&apos;name&apos;:&apos;yachan&apos;,&apos;age&apos;:18&#125;</span><br><span class="line">print(love.keys())</span><br><span class="line">print(type(love.keys()))</span><br><span class="line">print(list(love.keys())) #[&apos;name&apos;, &apos;age&apos;]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(love.values())</span><br><span class="line">print(type(love.values()))</span><br><span class="line">print(list(love.values())) #[&apos;yachan&apos;, 18]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(love.items())</span><br><span class="line">print(type(love.items()))</span><br><span class="line">print(list(love.items())) </span><br><span class="line">#得到元组数据类型[(&apos;name&apos;, &apos;yachan&apos;), (&apos;age&apos;, 18)]</span><br></pre></td></tr></table></figure><h2 id="字典元素的遍历"><a href="#字典元素的遍历" class="headerlink" title="字典元素的遍历"></a>字典元素的遍历</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">love=&#123;&apos;name&apos;:&apos;yachan&apos;,&apos;age&apos;:18,&apos;money&apos;:88888&#125;</span><br><span class="line">for item in love:</span><br><span class="line">  print(item) #key</span><br><span class="line">  print(love[item])</span><br><span class="line">  print(love.get(item))</span><br></pre></td></tr></table></figure><h2 id="字典生成式zip-a-b-函数加for循环实现"><a href="#字典生成式zip-a-b-函数加for循环实现" class="headerlink" title="字典生成式zip(a,b)函数加for循环实现"></a>字典生成式zip(a,b)函数加for循环实现</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">k=[&apos;name&apos;,&apos;age&apos;,&apos;money&apos;] #生成的字典是根据键或值短的那一个</span><br><span class="line">v=[&apos;yachan&apos;,18,88888,&apos;hahaha&apos;]</span><br><span class="line"></span><br><span class="line">d=&#123;key:value for key,value in zip(k,v)&#125;</span><br><span class="line">print(d) #&#123;&apos;name&apos;: &apos;yachan&apos;, &apos;age&apos;: 18, &apos;money&apos;: 88888&#125;</span><br><span class="line"></span><br><span class="line">d2=&#123;key.upper():value for key,value in zip(k,v)&#125;</span><br><span class="line">print(d2) #&#123;&apos;NAME&apos;: &apos;yachan&apos;, &apos;AGE&apos;: 18, &apos;MONEY&apos;: 88888&#125;</span><br></pre></td></tr></table></figure><h2 id="元组"><a href="#元组" class="headerlink" title="元组()"></a>元组()</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">love=(&apos;shu&apos;,&apos;money&apos;,88)</span><br><span class="line">print(type(love)) #&lt;class &apos;tuple&apos;&gt;</span><br><span class="line"></span><br><span class="line">#创建多个元组值，可以不用()</span><br><span class="line">love2=&apos;shu&apos;,&apos;money&apos;,88 </span><br><span class="line">print(type(love2)) #&lt;class &apos;tuple&apos;&gt;</span><br><span class="line"></span><br><span class="line">#创建一个元组值，必须要逗号不能少</span><br><span class="line">love3=(&apos;age&apos;,) </span><br><span class="line">love4=&apos;age&apos;</span><br><span class="line">print(love3,type(love3)) #(&apos;age&apos;,) &lt;class &apos;tuple&apos;&gt;</span><br><span class="line">print(love4,type(love4)) #age &lt;class &apos;str&apos;&gt;</span><br><span class="line"></span><br><span class="line">#使用内置函数tuple()创建元组</span><br><span class="line">love5=tuple((&apos;shu&apos;,&apos;money&apos;,88))</span><br><span class="line">print(love5) #(&apos;shu&apos;, &apos;money&apos;, 88)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">love6=(&apos;shu&apos;,[&apos;age&apos;,18],&apos;money&apos;)</span><br><span class="line"># 元组元素修改注意：列表、字典等才可以修改，</span><br><span class="line"># 它的值可以修改，但标识符即内存地址不可以修改</span><br><span class="line"># love6[0]=&apos;hahha&apos; </span><br><span class="line"># print(love6) #&apos;tuple&apos; object does not support item assignment</span><br><span class="line"></span><br><span class="line">love6[1][0]=&apos;friend&apos; </span><br><span class="line">print(love6) #(&apos;shu&apos;, [&apos;friend&apos;, 18], &apos;money&apos;)</span><br></pre></td></tr></table></figure><h2 id="遍历元组元素"><a href="#遍历元组元素" class="headerlink" title="遍历元组元素"></a>遍历元组元素</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">love=(&apos;shu&apos;,&apos;money&apos;,88)</span><br><span class="line">print(love[2])</span><br><span class="line"></span><br><span class="line">for item in love:</span><br><span class="line">  print(item)</span><br></pre></td></tr></table></figure><h2 id="set集合-，内置数据结构，没有value的字典"><a href="#set集合-，内置数据结构，没有value的字典" class="headerlink" title="set集合{}，内置数据结构，没有value的字典"></a>set集合{}，内置数据结构，没有value的字典</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># 创建方式1</span><br><span class="line">s1=&#123;&apos;shulu&apos;,88,&apos;ya&apos;&#125;</span><br><span class="line">print(s1,type(s1)) #&#123;&apos;shulu&apos;, &apos;ya&apos;, 88&#125; &lt;class &apos;set&apos;&gt;</span><br><span class="line"></span><br><span class="line"># 创建方式2</span><br><span class="line">s2=set(range(6))</span><br><span class="line">print(s2) #&#123;0, 1, 2, 3, 4, 5&#125;</span><br><span class="line"></span><br><span class="line"># 创建空集合</span><br><span class="line">s9=set()</span><br><span class="line">print(s9,type(s9)) #set() &lt;class &apos;set&apos;&gt;</span><br><span class="line"></span><br><span class="line">s0=&#123;&#125; #不能用空&#123;&#125;创建</span><br><span class="line">print(s0,type(s0)) #&#123;&#125; &lt;class &apos;dict&apos;&gt;</span><br><span class="line"></span><br><span class="line"># 可以对元素去重</span><br><span class="line">s3=&#123;1, 3, 5, 2, 2, 4, 4&#125;</span><br><span class="line">print(s3) #&#123;1, 2, 3, 4, 5&#125;</span><br></pre></td></tr></table></figure><h2 id="集合与其他数据类型转换"><a href="#集合与其他数据类型转换" class="headerlink" title="集合与其他数据类型转换"></a>集合与其他数据类型转换</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">#列表转set</span><br><span class="line">s4=list(s3) </span><br><span class="line">print(s4,type(s4)) #[1, 2, 3, 4, 5] &lt;class &apos;list&apos;&gt;</span><br><span class="line">s5=set(s4)</span><br><span class="line">print(s5,type(s5)) #&#123;1, 2, 3, 4, 5&#125; &lt;class &apos;set&apos;&gt;</span><br><span class="line"></span><br><span class="line">#元组转set</span><br><span class="line">s6=tuple((range(5))) </span><br><span class="line">print(s6,type(s6)) #(0, 1, 2, 3, 4) &lt;class &apos;tuple&apos;&gt;</span><br><span class="line">s7=set(s6)</span><br><span class="line">print(s7,type(s7)) #&#123;0, 1, 2, 3, 4&#125; &lt;class &apos;set&apos;&gt;</span><br><span class="line"></span><br><span class="line">#字符串转set</span><br><span class="line">s8=set(&apos;Python&apos;) </span><br><span class="line">print(s8) #&#123;&apos;h&apos;, &apos;t&apos;, &apos;n&apos;, &apos;P&apos;, &apos;y&apos;, &apos;o&apos;&#125; 无序的</span><br></pre></td></tr></table></figure><h2 id="集合元素的判断-集合是无序的"><a href="#集合元素的判断-集合是无序的" class="headerlink" title="集合元素的判断,集合是无序的"></a>集合元素的判断,集合是无序的</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s1=&#123;1,22,33,2&#125;</span><br><span class="line">print(&apos;shu&apos; in s1)</span><br><span class="line">print(1 not in s1)</span><br></pre></td></tr></table></figure><h2 id="集合元素的增加"><a href="#集合元素的增加" class="headerlink" title="集合元素的增加"></a>集合元素的增加</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#add方法一次只能添加一个</span><br><span class="line">s1.add(88) </span><br><span class="line">print(s1)</span><br><span class="line"></span><br><span class="line">#update方法至少添加一个</span><br><span class="line">s1.update((11,21,31)) #将元组转换并添加</span><br><span class="line">print(s1)</span><br><span class="line"></span><br><span class="line">s1.update([&apos;shu&apos;,9]) #将列表转换并添加</span><br><span class="line">print(s1) #&#123;1, 2, 33, 9, 11, 21, 22, 88, &apos;shu&apos;, 31&#125;</span><br><span class="line"></span><br><span class="line">s1.update(&#123;&apos;love&apos;,520&#125;) #添加集合</span><br><span class="line">print(s1) #&#123;1, 2, 33, &apos;love&apos;, 520, 9, 11, &apos;shu&apos;, 21, 22, 88, 31&#125;</span><br></pre></td></tr></table></figure><h2 id="集合元素的删除"><a href="#集合元素的删除" class="headerlink" title="集合元素的删除"></a>集合元素的删除</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">s2=&#123;21,33,&apos;yaya&apos;,88&#125;</span><br><span class="line"># 删除指定元素</span><br><span class="line">s2.remove(21) </span><br><span class="line">print(s2) #&#123;88, 33, &apos;yaya&apos;&#125;</span><br><span class="line"></span><br><span class="line">#remove()被删除元素没有，则抛异常</span><br><span class="line"># s2.remove(1)</span><br><span class="line"># print(s2) #KeyError: 1</span><br><span class="line"></span><br><span class="line">#discard()被删除元素有则删除，没有的话不会抛出错误</span><br><span class="line">s2.discard(88)</span><br><span class="line">print(s2) #&#123;33, &apos;yaya&apos;&#125;</span><br><span class="line">s2.discard(500)</span><br><span class="line">print(s2) #&#123;33, &apos;yaya&apos;&#125;</span><br><span class="line"></span><br><span class="line">#pop()没有参数，随机删除一个元素</span><br><span class="line">s2.pop()</span><br><span class="line">print(s2)</span><br></pre></td></tr></table></figure><h2 id="clear-清空集合"><a href="#clear-清空集合" class="headerlink" title="clear()清空集合"></a>clear()清空集合</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s2.clear()</span><br><span class="line">print(s2) #set()</span><br></pre></td></tr></table></figure><h2 id="集合间的关系"><a href="#集合间的关系" class="headerlink" title="集合间的关系"></a>集合间的关系</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">s1=&#123;0,1,2,3&#125;</span><br><span class="line">s2=&#123;3,0,2,1&#125;</span><br><span class="line">print(s1==s2) #True 集合是无序的</span><br><span class="line"></span><br><span class="line"># issubset()判断s3是s1的子集吗</span><br><span class="line">s3=&#123;0,1,2&#125; </span><br><span class="line">print(s3.issubset(s1)) #True</span><br><span class="line"></span><br><span class="line"># issuperset()判断s1是s3的超集吗,与子集相反</span><br><span class="line">print(s1.issuperset(s3)) #True</span><br><span class="line"></span><br><span class="line"># isdisjoint()p判断s1与s3没有交集吗</span><br><span class="line">print(s1.isdisjoint(s3)) #False</span><br></pre></td></tr></table></figure><h2 id="集合间的数学操作-原集合不变"><a href="#集合间的数学操作-原集合不变" class="headerlink" title="集合间的数学操作,原集合不变"></a>集合间的数学操作,原集合不变</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 交集</span><br><span class="line">s1=&#123;22,1,45,3&#125;</span><br><span class="line">s2=&#123;3,0,2,1&#125;</span><br><span class="line">print(s1.intersection(s2)) #&#123;1, 3&#125;</span><br><span class="line">print(s1 &amp; s2) #&#123;1, 3&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#并集</span><br><span class="line">print(s1.union(s2)) #&#123;0, 1, 2, 3, 45, 22&#125;</span><br><span class="line">print(s1 | s2) #&#123;0, 1, 2, 3, 45, 22&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#差集</span><br><span class="line">print(s1.difference(s2)) #&#123;45, 22&#125;</span><br><span class="line">print(s2.difference(s1)) #&#123;0, 2&#125;</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#对称差集</span><br><span class="line">print(s1.symmetric_difference(s2)) #&#123;0, 2, 22, 45&#125;</span><br><span class="line">print(s1 ^ s2) #&#123;0, 2, 22, 45&#125;</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/Python%E8%AF%AD%E6%B3%953/Python-%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Python-循环与列表</title>
      <link>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%88%97%E8%A1%A8/</link>
      <guid>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%88%97%E8%A1%A8/</guid>
      <pubDate>Sun, 07 Feb 2021 01:13:14 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div style=&quot;width:100%;height:1px;background-color:pink;opacity:.7&quot;&gt;&lt;/div&gt;&lt;br&gt;&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="pass空语句"><a href="#pass空语句" class="headerlink" title="pass空语句"></a>pass空语句</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">某一段逻辑没有想好，让其先通过</span><br><span class="line">a=1</span><br><span class="line">b=2</span><br><span class="line">if a&gt;b :</span><br><span class="line">  pass</span><br><span class="line">else :</span><br><span class="line">  print(&apos;sssss&apos;)</span><br></pre></td></tr></table></figure><h2 id="range-函数的使用"><a href="#range-函数的使用" class="headerlink" title="range()函数的使用"></a>range()函数的使用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">range函数的优点：不管range函数表示的整数序列有多长，</span><br><span class="line">所有range对象占用的内存空间是相同的，因为仅仅只要存储start，stop，step</span><br><span class="line">只有当用到range对象时，才会去计算range对象中的相关元素</span><br><span class="line">range函数返回的是一个可迭代对象（类型是对象），常用在for循环中</span><br><span class="line"></span><br><span class="line">r1=range(10)</span><br><span class="line">print(r1) #range(0, 10) 默认从零开始，步长为一</span><br><span class="line">#使用list()函数查看列表</span><br><span class="line">print(list(r1)) #[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br><span class="line"></span><br><span class="line">r2=range(1,10) #指定开始值</span><br><span class="line">print(r2) #range(1, 10)</span><br><span class="line">print(list(r2)) #[1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br><span class="line"></span><br><span class="line">r3=range(1,10,2) #指定步长</span><br><span class="line">print(r3) #range(1, 10, 2)</span><br><span class="line">print(list(r3)) #[1, 3, 5, 7, 9]</span><br></pre></td></tr></table></figure><h2 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># 执行N次的话，则需要判断N+1次</span><br><span class="line">a=1</span><br><span class="line">while a&lt;10 :</span><br><span class="line">  print(a)</span><br><span class="line">  a+=1</span><br><span class="line"></span><br><span class="line"># 选择结构的if与循环结构的while的区别</span><br><span class="line"># if是判断一次，条件为True时执行一次</span><br><span class="line"># while是判断N+1次,条件为True时执行N次</span><br></pre></td></tr></table></figure><h2 id="break"><a href="#break" class="headerlink" title="break"></a>break</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for i in range(10) :</span><br><span class="line">  print(i)</span><br><span class="line">  if i==8 :</span><br><span class="line">    break #跳出循环</span><br></pre></td></tr></table></figure><h2 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">结束当前循环，进入下一次循环</span><br><span class="line">for i in range(10) :</span><br><span class="line">  if i%2 == 0 :</span><br><span class="line">    continue</span><br><span class="line">  print(i)</span><br></pre></td></tr></table></figure><h2 id="else与while、for、if搭配"><a href="#else与while、for、if搭配" class="headerlink" title="else与while、for、if搭配"></a>else与while、for、if搭配</h2><h2 id="双层循环"><a href="#双层循环" class="headerlink" title="双层循环"></a>双层循环</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for i in range(1,10):</span><br><span class="line">  for j in range(1,i+1):</span><br><span class="line">    print(i,&apos;*&apos;,j,&apos;=&apos;,i*j,end=&apos;  &apos;)</span><br><span class="line">  print() # 外层打印行数</span><br></pre></td></tr></table></figure><h2 id="列表，相当于其他语言中的数组"><a href="#列表，相当于其他语言中的数组" class="headerlink" title="列表，相当于其他语言中的数组"></a>列表，相当于其他语言中的数组</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#第一种方式创建列表用[]</span><br><span class="line">ls1=[&apos;shulu&apos;,520,&apos;哈哈哈&apos;]</span><br><span class="line">print(ls1)</span><br><span class="line"># 第二种方式创建列表用内置函数list([])</span><br><span class="line">ls2=list([&apos;shulu&apos;,1314,&apos;hhh&apos;])</span><br><span class="line">print(ls2)</span><br><span class="line"></span><br><span class="line">#按索引获取列表元素</span><br><span class="line">ls1=[&apos;shulu&apos;,520,&apos;哈哈哈&apos;]</span><br><span class="line">print(ls1[0])</span><br><span class="line">## 获取列表元素的索引</span><br><span class="line">print(ls1.index(&apos;哈哈哈&apos;))</span><br><span class="line">## 指定索引区间获取列表元素的索引</span><br><span class="line">print(ls1.index(520,1,5))</span><br></pre></td></tr></table></figure><h2 id="列表切片复制"><a href="#列表切片复制" class="headerlink" title="列表切片复制"></a>列表切片复制</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls=[1,2,3,4,5,6,7,8]</span><br><span class="line">print(ls[2:6:1]) #start:stop:step</span><br></pre></td></tr></table></figure><h2 id="列表元素的判断"><a href="#列表元素的判断" class="headerlink" title="列表元素的判断"></a>列表元素的判断</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls=[1,2,3,4,5,6,7,8]</span><br><span class="line">print(1 in ls)</span><br><span class="line">print(10 not in ls)</span><br></pre></td></tr></table></figure><h2 id="列表元素的遍历"><a href="#列表元素的遍历" class="headerlink" title="列表元素的遍历"></a>列表元素的遍历</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for i in ls:</span><br><span class="line">  print(i)</span><br></pre></td></tr></table></figure><h2 id="向列表添加元素"><a href="#向列表添加元素" class="headerlink" title="向列表添加元素"></a>向列表添加元素</h2><h1 id="末尾添加-内存地址不变"><a href="#末尾添加-内存地址不变" class="headerlink" title="末尾添加,内存地址不变"></a>末尾添加,内存地址不变</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">ls=[1,2,3]</span><br><span class="line">ls2=[&apos;yachan&apos;,666]</span><br><span class="line"></span><br><span class="line">print(ls)</span><br><span class="line">print(id(ls))</span><br><span class="line">## 向末尾添加一个元素</span><br><span class="line">ls.append(ls2)</span><br><span class="line">print(ls)</span><br><span class="line">print(id(ls))</span><br><span class="line">## 向列表末尾添加多个元素</span><br><span class="line">ls.extend(ls2) #将ls2展开添加到末尾</span><br><span class="line">print(ls)</span><br><span class="line"></span><br><span class="line">## 向任意位置添加一个元素</span><br><span class="line">ls.insert(2,520) #start和要添加的元素</span><br><span class="line">print(ls)</span><br><span class="line"></span><br><span class="line">## 切片替换添加，任意位置，多个元素</span><br><span class="line">ls3=[11,22,33,44]</span><br><span class="line">ls4=[55,66,77]</span><br><span class="line">ls3[1:]=ls4 #指定位置,从索引1开始到结束</span><br><span class="line">print(ls3) #[11, 55, 66, 77]</span><br></pre></td></tr></table></figure><h2 id="删除列表元素"><a href="#删除列表元素" class="headerlink" title="删除列表元素"></a>删除列表元素</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># remove()</span><br><span class="line">ls1=[1,22,3,4]</span><br><span class="line">ls1.remove(22) #删除指定元素</span><br><span class="line">print(ls1)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#pop()</span><br><span class="line">ls2=[1,2,3,4]</span><br><span class="line">ls2.pop() #删除最后一个元素</span><br><span class="line">print(ls2) #[1, 2, 3]</span><br><span class="line"></span><br><span class="line">ls3=[1,2,3]</span><br><span class="line">ls3.pop(1) #删除指定索引的元素</span><br><span class="line">print(ls3) #[1, 3]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 切片删除</span><br><span class="line">ls4=[1,2,3,4,5]</span><br><span class="line">#从索引2开始，到索引4结束，左闭右开区间</span><br><span class="line">ls5=ls4[2:4] #切出来赋值给ls5</span><br><span class="line">print(ls5) #产生一个新的列表对象</span><br><span class="line">print(&apos;ls4&apos;,id(ls4)) #2305914778560</span><br><span class="line">print(&apos;ls5&apos;,id(ls5)) #2305914779584</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#不产生新的元素</span><br><span class="line">ls6=[1,2,3,4,5]</span><br><span class="line">print(id(ls6)) #2095779428480</span><br><span class="line">ls6[1:3]=[] #删掉第二三个元素</span><br><span class="line">print(ls6)</span><br><span class="line">print(id(ls6)) #2095779428480</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#清空列表元素</span><br><span class="line">ls7=[1,2,3,4,5]</span><br><span class="line">ls7.clear()</span><br><span class="line">print(ls7)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#删除列表</span><br><span class="line">ls8=[1,2,3,4,5]</span><br><span class="line">del ls8</span><br><span class="line">print(ls8) #name &apos;ls8&apos; is not defined</span><br></pre></td></tr></table></figure><h2 id="列表修改，类似切片替换添加，任意位置，多个元素"><a href="#列表修改，类似切片替换添加，任意位置，多个元素" class="headerlink" title="列表修改，类似切片替换添加，任意位置，多个元素"></a>列表修改，类似切片替换添加，任意位置，多个元素</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ls3=[11,22,33,44,211,223]</span><br><span class="line">ls4=[55,66,77]</span><br><span class="line">ls3[1:4]=ls4 #指定位置,从索引1开始到4,左闭右开区间</span><br><span class="line">print(ls3) #[11, 55, 66, 77, 211, 223]</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># 列表修改,修改某一个指定索引的值</span><br><span class="line">ls5=[11,22,33,44]</span><br><span class="line">ls5[2]=88</span><br><span class="line">print(ls5) #[11, 22, 88, 44]</span><br></pre></td></tr></table></figure><h2 id="列表元素排序sort-对原列表排序"><a href="#列表元素排序sort-对原列表排序" class="headerlink" title="列表元素排序sort(),对原列表排序"></a>列表元素排序sort(),对原列表排序</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ls1=[1,22,23,14,55,25,13]</span><br><span class="line">print(id(ls1)) #1910309785344</span><br><span class="line">ls1.sort() #默认升序</span><br><span class="line">print(ls1)</span><br><span class="line">print(id(ls1)) #1910309785344</span><br><span class="line"></span><br><span class="line">ls1.sort(reverse=True) #降序</span><br><span class="line">print(ls1)</span><br></pre></td></tr></table></figure><h2 id="列表元素排序sorted-排序后产生一个新的列表，原列表不变"><a href="#列表元素排序sorted-排序后产生一个新的列表，原列表不变" class="headerlink" title="列表元素排序sorted() 排序后产生一个新的列表，原列表不变"></a>列表元素排序sorted() 排序后产生一个新的列表，原列表不变</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#升序</span><br><span class="line">ls7=[21,14,66,25,11]</span><br><span class="line">print(id(ls7)) #2798832727872</span><br><span class="line">ls8=sorted(ls7)</span><br><span class="line">print(ls8) #[11, 14, 21, 25, 66] 默认升序</span><br><span class="line">print(id(ls8)) #2798832727936</span><br><span class="line">print(id(ls7)) #2798832727872</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#降序</span><br><span class="line">ls9=sorted(ls8,reverse=True) #降序</span><br><span class="line">print(ls9)</span><br><span class="line">print(id(ls9)) #2050346596480</span><br><span class="line">print(ls7) #[21, 14, 66, 25, 11]</span><br><span class="line">print(id(ls7)) #2798832727872</span><br></pre></td></tr></table></figure><h2 id="列表生成表达式"><a href="#列表生成表达式" class="headerlink" title="列表生成表达式"></a>列表生成表达式</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ls=[i for i in range(1,10)]</span><br><span class="line">print(ls) #[1, 2, 3, 4, 5, 6, 7, 8, 9]</span><br><span class="line">ls=[i*i for i in range(1,10)]</span><br><span class="line">print(ls) #[1, 4, 9, 16, 25, 36, 49, 64, 81]</span><br></pre></td></tr></table></figure><h2 id="合并列表"><a href="#合并列表" class="headerlink" title="合并列表"></a>合并列表</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ls1=[1,2,3]</span><br><span class="line">ls2=[4,5,6]</span><br><span class="line">ls=ls1+ls2 #[1,2,3,4,5,6]</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python-%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%88%97%E8%A1%A8/#disqus_thread</comments>
    </item>
    
    <item>
      <title>Python基础</title>
      <link>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python%E5%9F%BA%E7%A1%80/</link>
      <guid>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python%E5%9F%BA%E7%A1%80/</guid>
      <pubDate>Wed, 03 Feb 2021 22:05:24 GMT</pubDate>
      <description>
      
        终于开始了Python编程的学习之路，哈哈哈
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;最帅的人就是我</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="Python中字符串前“r”-“u”的作用"><a href="#Python中字符串前“r”-“u”的作用" class="headerlink" title="Python中字符串前“r”,“u”的作用"></a>Python中字符串前“r”,“u”的作用</h2><ol><li>字符串前加 u</li></ol><p>例：u”我是含有中文字符组成的字符串。”</p><p>作用：后面字符串以 Unicode 格式 进行编码，一般用在中文字符串前面，防止因为源码储存格式问题，导致再次使用时出现乱码。</p><ol start="2"><li>字符串前加 r</li></ol><p>例：r”\n\n\n\n”　　表示一个普通生字符串 \n\n\n\n，而不表示换行了。</p><p>作用：去掉反斜杠的转移机制。（特殊字符：即那些，反斜杠加上对应字母，表示对应的特殊含义的，比如最常见的”\n”表示换行，”\t”表示Tab等。）<br>应用：常用于正则表达式，对应着re模块。</p><h2 id="变量-标识符-开头只能是字母数字或下划线"><a href="#变量-标识符-开头只能是字母数字或下划线" class="headerlink" title="变量(标识符)开头只能是字母数字或下划线"></a>变量(标识符)开头只能是字母数字或下划线</h2><h2 id="print-函数-打印输出"><a href="#print-函数-打印输出" class="headerlink" title="print 函数 打印输出"></a>print 函数 打印输出</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(520)</span><br><span class="line">print(1+1)</span><br><span class="line">print(&quot;shulu520&quot;)</span><br><span class="line">print(&quot;sdsdsd&quot;)</span><br></pre></td></tr></table></figure><h2 id="将数据输出到文件中-’a-’意思是文件不存在的话就创建，已经存在的话就追加内容"><a href="#将数据输出到文件中-’a-’意思是文件不存在的话就创建，已经存在的话就追加内容" class="headerlink" title="将数据输出到文件中,’a+’意思是文件不存在的话就创建，已经存在的话就追加内容"></a>将数据输出到文件中,’a+’意思是文件不存在的话就创建，已经存在的话就追加内容</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ft = open(&apos;E:/love.txt&apos;,&apos;a+&apos;) </span><br><span class="line">print(&apos;helloworld&apos;,file=ft)</span><br><span class="line">ft.close()</span><br></pre></td></tr></table></figure><h2 id="不进行换行输出，使用逗号分隔"><a href="#不进行换行输出，使用逗号分隔" class="headerlink" title="不进行换行输出，使用逗号分隔"></a>不进行换行输出，使用逗号分隔</h2><p><code>print(11,111,333,&#39;erere&#39;)</code></p><h2 id="转义字符，反斜杠-转义字符的首字母-n-newline的首字母"><a href="#转义字符，反斜杠-转义字符的首字母-n-newline的首字母" class="headerlink" title="转义字符，反斜杠+转义字符的首字母,n newline的首字母"></a>转义字符，反斜杠+转义字符的首字母,n newline的首字母</h2><p><code>print(&#39;shulu\n520&#39;)</code></p><h2 id="制表符-不太懂"><a href="#制表符-不太懂" class="headerlink" title="制表符 不太懂"></a>制表符 不太懂</h2><p><code>print(&#39;hello\tshulu&#39;)</code><br><code>print(&#39;hellooooo\tshulu&#39;)</code></p><h2 id="覆盖"><a href="#覆盖" class="headerlink" title="覆盖"></a>覆盖</h2><p><code>print(&#39;shulu\r520&#39;)</code></p><h2 id="退格，将u退没了"><a href="#退格，将u退没了" class="headerlink" title="退格，将u退没了"></a>退格，将u退没了</h2><p><code>print(&#39;shulu\b520&#39;)</code></p><h2 id="双反斜杠的应用"><a href="#双反斜杠的应用" class="headerlink" title="双反斜杠的应用"></a>双反斜杠的应用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(&apos;https:\\shulu520.com&apos;)</span><br><span class="line">print(&apos;https:\\\\shulu520.com&apos;)</span><br></pre></td></tr></table></figure><h2 id="引号"><a href="#引号" class="headerlink" title="引号"></a>引号</h2><p><code>print(&#39;shulu说:\&#39;i love you\&#39;&#39;)</code></p><h2 id="原字符-不让字符串中的转义字符起作用-注意字符串最后一个不能是反斜杠"><a href="#原字符-不让字符串中的转义字符起作用-注意字符串最后一个不能是反斜杠" class="headerlink" title="原字符 不让字符串中的转义字符起作用,注意字符串最后一个不能是反斜杠"></a>原字符 不让字符串中的转义字符起作用,注意字符串最后一个不能是反斜杠</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(r&apos;shulu\n520&apos;)</span><br><span class="line">print(R&apos;shulu\n520&apos;)</span><br><span class="line">print(R&apos;shulu\n520\\&apos;)</span><br></pre></td></tr></table></figure><h2 id="变量直接写，不用声明"><a href="#变量直接写，不用声明" class="headerlink" title="变量直接写，不用声明"></a>变量直接写，不用声明</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">name=&apos;shulu&apos;</span><br><span class="line">age=18</span><br><span class="line">money=100.888</span><br><span class="line">bo=True</span><br><span class="line">print(name,age,money,bo)</span><br></pre></td></tr></table></figure><h2 id="变量的内存地址，变量类型"><a href="#变量的内存地址，变量类型" class="headerlink" title="变量的内存地址，变量类型"></a>变量的内存地址，变量类型</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(id(name),type(name))</span><br><span class="line">print(id(age),type(age))</span><br><span class="line">print(id(money),type(money))</span><br><span class="line">print(id(bo),type(bo))</span><br></pre></td></tr></table></figure><h2 id="类型转换"><a href="#类型转换" class="headerlink" title="类型转换"></a>类型转换</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">print(type(str(age)))</span><br><span class="line">print(type(str(money)))</span><br><span class="line"></span><br><span class="line">print(float(age),type(float(age)))</span><br><span class="line">print(int(money),type(int(money)))</span><br><span class="line"></span><br><span class="line">print(int(bo),type(int(bo)))</span><br><span class="line">print(float(bo),type(float(bo)))</span><br></pre></td></tr></table></figure><h2 id="多行注释"><a href="#多行注释" class="headerlink" title="多行注释"></a>多行注释</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&apos;&apos;&apos;</span><br><span class="line">这是多行注释</span><br><span class="line">&apos;&apos;&apos;</span><br></pre></td></tr></table></figure><h2 id="input输入函数，接收用户的输入，做提示语"><a href="#input输入函数，接收用户的输入，做提示语" class="headerlink" title="input输入函数，接收用户的输入，做提示语"></a>input输入函数，接收用户的输入，做提示语</h2><h2 id="运行代码，输入答案回车看看"><a href="#运行代码，输入答案回车看看" class="headerlink" title="运行代码，输入答案回车看看"></a>运行代码，输入答案回车看看</h2><p><code>print(input(&#39;你爱我吗&#39;))</code></p><h2 id="算数运算符，整除"><a href="#算数运算符，整除" class="headerlink" title="算数运算符，整除"></a>算数运算符，整除</h2><p><code>print(11//2)</code></p><h2 id="一正一负，整除，向下取整"><a href="#一正一负，整除，向下取整" class="headerlink" title="一正一负，整除，向下取整"></a>一正一负，整除，向下取整</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(-9//4)</span><br><span class="line">print(9//-4)</span><br></pre></td></tr></table></figure><h2 id="幂运算"><a href="#幂运算" class="headerlink" title="幂运算"></a>幂运算</h2><p><code>print(2**3)</code></p><h2 id="取余"><a href="#取余" class="headerlink" title="取余"></a>取余</h2><p><code>print(11%2)</code></p><h2 id="赋值运算符"><a href="#赋值运算符" class="headerlink" title="赋值运算符"></a>赋值运算符</h2><h2 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a,b,c = 1,2,3</span><br><span class="line">print(a,b,c)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">交换两个变量的值</span><br><span class="line">c,d = 4,5</span><br><span class="line">print(&apos;交换之前&apos;,c,d)</span><br><span class="line">c,d = d,c</span><br><span class="line">print(&apos;交换之后&apos;,c,d)</span><br></pre></td></tr></table></figure><h2 id="比较运算符-比较的是值，is比较内存地址"><a href="#比较运算符-比较的是值，is比较内存地址" class="headerlink" title="比较运算符==,比较的是值，is比较内存地址"></a>比较运算符==,比较的是值，is比较内存地址</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">a,b,c = 1,2,1</span><br><span class="line">print(a==b) </span><br><span class="line">print(a&gt;b)</span><br><span class="line">print(a&lt;b)</span><br><span class="line">print(id(a),id(c))</span><br><span class="line">print(a==c)</span><br><span class="line">print(a is c) #比较的是内存地址id，此处为True</span><br><span class="line"></span><br><span class="line">lt1 = [11,22,33]</span><br><span class="line">lt2 = [11,22,33]</span><br><span class="line">print(id(lt1),id(lt2))</span><br><span class="line">print(lt1==lt2)</span><br><span class="line">print(lt1 is lt2) #比较的是内存地址id，此处为False</span><br><span class="line">print(lt1 is not lt2) #True</span><br></pre></td></tr></table></figure><h2 id="布尔运算算符and，当两个云算数都为True时结果才为True"><a href="#布尔运算算符and，当两个云算数都为True时结果才为True" class="headerlink" title="布尔运算算符and，当两个云算数都为True时结果才为True"></a>布尔运算算符and，当两个云算数都为True时结果才为True</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a,b=1,2</span><br><span class="line">print(a==1 and b==2) #True and True为True</span><br><span class="line">print(a==2 and b==2) #False and True为False</span><br><span class="line">print(a!=1 and b!=2) #False and False为False</span><br></pre></td></tr></table></figure><h2 id="or"><a href="#or" class="headerlink" title="or"></a>or</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a,b=1,2</span><br><span class="line">print(a!=1 or b==2)</span><br></pre></td></tr></table></figure><h2 id="not对布尔值取反"><a href="#not对布尔值取反" class="headerlink" title="not对布尔值取反"></a>not对布尔值取反</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">c,d=True,False</span><br><span class="line">print(not c, not d)</span><br></pre></td></tr></table></figure><h2 id="in-not-in"><a href="#in-not-in" class="headerlink" title="in,not in"></a>in,not in</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">love=&apos;shulu&apos;</span><br><span class="line">print(&apos;s&apos; in love, &apos;x&apos; not in love)</span><br></pre></td></tr></table></figure><h2 id="对象的布尔值-使用内置函数bool-查看"><a href="#对象的布尔值-使用内置函数bool-查看" class="headerlink" title="对象的布尔值,使用内置函数bool()查看"></a>对象的布尔值,使用内置函数bool()查看</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">以下对象的布尔值为False</span><br><span class="line"></span><br><span class="line">print(bool(False))</span><br><span class="line">print(bool(0))</span><br><span class="line">print(bool(0.0))</span><br><span class="line">print(bool(&apos;&apos;))</span><br><span class="line">print(bool(&quot;&quot;))</span><br><span class="line">print(bool(None))</span><br><span class="line">print(bool([])) #空列表</span><br><span class="line">print(bool(list())) #空列表</span><br><span class="line">print(bool(())) #空元组</span><br><span class="line">print(bool(tuple())) #空元组</span><br><span class="line">print(bool(&#123;&#125;)) #空字典</span><br><span class="line">print(bool(dict())) #空字典</span><br><span class="line">print(bool(set())) #空集合</span><br></pre></td></tr></table></figure><h2 id="分支结构-if-elif-else"><a href="#分支结构-if-elif-else" class="headerlink" title="分支结构 if elif else"></a>分支结构 if elif else</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">score=int(input(&apos;请输入成绩&apos;))</span><br><span class="line">if score&gt;=90 and score&lt;=100 :</span><br><span class="line">  print(&apos;A&apos;)</span><br><span class="line">elif score&gt;=80 and score&lt;90 :</span><br><span class="line">  print(&apos;B&apos;)</span><br><span class="line">elif score&lt;80:</span><br><span class="line">  print(&apos;不合格&apos;)</span><br><span class="line">else:</span><br><span class="line">  print(&apos;成绩有误&apos;)</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">可以用数学中的方式来简写</span><br><span class="line">score=int(input(&apos;请输入成绩&apos;))</span><br><span class="line">if 90&lt;=score&lt;=100 :</span><br><span class="line">  print(&apos;A&apos;)</span><br><span class="line">elif 80&lt;=score&lt;90 :</span><br><span class="line">  print(&apos;B&apos;)</span><br><span class="line">elif score&lt;80:</span><br><span class="line">  print(&apos;不合格&apos;)</span><br><span class="line">else:</span><br><span class="line">  print(&apos;成绩有误&apos;)</span><br></pre></td></tr></table></figure><h2 id="if-else-条件表达式，双分支结构的简写"><a href="#if-else-条件表达式，双分支结构的简写" class="headerlink" title="if else 条件表达式，双分支结构的简写"></a>if else 条件表达式，双分支结构的简写</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">money=1000</span><br><span class="line">s=int(input(&apos;请输入取款金额&apos;))</span><br><span class="line"></span><br><span class="line">if money&gt;=s:</span><br><span class="line">  money-=s</span><br><span class="line">  print(&apos;您的余额为：&apos;,money)</span><br><span class="line">else:</span><br><span class="line">  print(&apos;钱不够，快去挣钱呀&apos;)</span><br><span class="line"></span><br><span class="line">等于下面的代码</span><br><span class="line">print(&apos;您的余额为：&apos;+str(money-s) if money&gt;=s else &apos;钱不够，快去挣钱呀&apos;)</span><br></pre></td></tr></table></figure><h2 id="模糊匹配"><a href="#模糊匹配" class="headerlink" title="模糊匹配"></a>模糊匹配</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># 用户输入部分搜索内容后，根据这部分内容去模糊匹配，然后列出所有的匹配项，供其再次精确选择</span><br><span class="line"># https://www.cnblogs.com/weiman3389/p/6047017.html</span><br><span class="line"># 以下代码作者优化的挺好的</span><br><span class="line">import re</span><br><span class="line">def fuzzyfinder(user_input, collection):</span><br><span class="line">  suggestions = []</span><br><span class="line">  pattern = &apos;.*?&apos;.join(user_input)    # Converts &apos;djm&apos; to &apos;d.*?j.*?m&apos;</span><br><span class="line">  regex = re.compile(pattern)         # Compiles a regex.</span><br><span class="line">  for item in collection:</span><br><span class="line">    match = regex.search(item)      # Checks if the current item matches the regex.</span><br><span class="line">    if match:</span><br><span class="line">      suggestions.append((len(match.group()), match.start(), item))</span><br><span class="line">  return [x for _, _, x in sorted(suggestions)]</span><br><span class="line"></span><br><span class="line">lst=[&apos;清华大学&apos;,&apos;北京大学&apos;,&apos;苏州的大学&apos;,&apos;兰州大学&apos;,&apos;经济学院&apos;,&apos;化工学院&apos;]</span><br><span class="line"></span><br><span class="line">user_input=input(&apos;请输入学校名称：&apos;)</span><br><span class="line">fuzzy_result=fuzzyfinder(user_input,lst)</span><br><span class="line">print(fuzzy_result)</span><br></pre></td></tr></table></figure><h2 id="续行符"><a href="#续行符" class="headerlink" title="续行符 \"></a>续行符 \</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 当某一段代码太长了，可以这么干</span><br><span class="line">s=&apos;你好啊你好啊你好啊你好啊\</span><br><span class="line">  你好啊你好啊你好啊你好啊你好啊\</span><br><span class="line">  你好啊你好啊你好啊你好啊你好啊&apos;</span><br><span class="line"></span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure><h2 id="打包成-exe可执行文件"><a href="#打包成-exe可执行文件" class="headerlink" title="打包成.exe可执行文件"></a>打包成.exe可执行文件</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">name=input(&apos;请输入你的名字：&apos;)</span><br><span class="line">age=eval(input(&apos;请输入你的年龄：&apos;))</span><br><span class="line">with open(&apos;可执行文件.txt&apos;,&apos;w&apos;) as file:</span><br><span class="line">  file.write(name+&apos;----&apos;+str(age))</span><br><span class="line"></span><br><span class="line">while True:</span><br><span class="line">  answer=input(&apos;退出吗？y/n&apos;)</span><br><span class="line">  if answer==&apos;y&apos;:</span><br><span class="line">    break</span><br></pre></td></tr></table></figure><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 程序写好之后，进入cmd</span><br><span class="line"># 输入 pyinstaller -F 你的.py文件的绝对路径</span><br><span class="line"># 如：pyinstaller -F E:\Users\lqy\Desktop\xuexiPy\word\14.py</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 这是一个简单的生成一个文本文件的程序，</span><br><span class="line"># 如果程序运行中需要用到图片视频等文件时，</span><br><span class="line"># 只需将他们放到C:\Users\Administrator\dist这个目录下</span><br><span class="line"># 这是可执行文件打包后的位置</span><br><span class="line"></span><br><span class="line"># 练习时发现，电脑病毒报错，</span><br><span class="line"># 打开设置，进入Windows Defender，</span><br><span class="line"># 点击病毒和威胁防护，点击‘病毒和威胁防护’设置，将实时保护关闭。</span><br><span class="line"># 待软件安装完成之后，再将实时保护关闭即可。</span><br></pre></td></tr></table></figure><h2 id="字符串的反向输出"><a href="#字符串的反向输出" class="headerlink" title="字符串的反向输出"></a>字符串的反向输出</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s=&apos;12345678&apos;</span><br><span class="line">print(s[::-1]) #87654321</span><br></pre></td></tr></table></figure><h2 id="进制转换函数"><a href="#进制转换函数" class="headerlink" title="进制转换函数"></a>进制转换函数</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">number=888</span><br><span class="line"># 转为二进制</span><br><span class="line">print(bin(number)) #0b1101111000</span><br><span class="line"></span><br><span class="line"># 转为八进制</span><br><span class="line">print(oct(number)) #0o1570</span><br><span class="line"></span><br><span class="line"># 转为16进制</span><br><span class="line">print(hex(number)) #0x378</span><br></pre></td></tr></table></figure><h2 id="常见的datetime日期时间模块"><a href="#常见的datetime日期时间模块" class="headerlink" title="常见的datetime日期时间模块"></a>常见的datetime日期时间模块</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"># datetime模块重新封装了time模块</span><br><span class="line">import datetime</span><br><span class="line"></span><br><span class="line">time1=datetime.datetime.now()</span><br><span class="line">print(time1) #2021-02-27 18:59:13.885794</span><br><span class="line"></span><br><span class="line">time2=datetime.date.today()</span><br><span class="line">print(time2) #2021-02-27</span><br><span class="line"></span><br><span class="line">time3=datetime.datetime.today()</span><br><span class="line">print(time3) #2021-02-27 18:58:39.614459</span><br><span class="line"></span><br><span class="line">time4=datetime.datetime.today().timestamp()</span><br><span class="line">print(time4) #1614423830.81342</span><br><span class="line"></span><br><span class="line"># 返回当前日期时间的日期部分：2021-02-27</span><br><span class="line">print(datetime.datetime.now().date())</span><br><span class="line"></span><br><span class="line"># 返回当前日期时间的时间部分：19:13:45.310397</span><br><span class="line">print(datetime.datetime.now().time())</span><br><span class="line"></span><br><span class="line"># delta时间间隔</span><br><span class="line">past=datetime.datetime(2017, 4, 16, 21, 21, 20, 871000)</span><br><span class="line">now=datetime.datetime.now()</span><br><span class="line">delta=now-past</span><br><span class="line">print(delta) #1412 days, 22:07:46.382359</span><br><span class="line">print(delta.days) #1412</span><br></pre></td></tr></table></figure><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/Python%E8%AF%AD%E6%B3%95/Python%E5%9F%BA%E7%A1%80/#disqus_thread</comments>
    </item>
    
    <item>
      <title>现代礼仪</title>
      <link>https://shulu520.com/%E5%A4%A7%E5%AD%A6MOOC/%E7%8E%B0%E4%BB%A3%E7%A4%BC%E4%BB%AA/</link>
      <guid>https://shulu520.com/%E5%A4%A7%E5%AD%A6MOOC/%E7%8E%B0%E4%BB%A3%E7%A4%BC%E4%BB%AA/</guid>
      <pubDate>Fri, 31 Jul 2020 14:12:22 GMT</pubDate>
      <description>
      
        人无礼则不生，事无礼则不成，国家无礼则不宁。————荀子
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;不学礼，无以立————孔子</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><blockquote><p>&emsp;&emsp;你没有第二次机会给人留下第一印象。</p></blockquote><blockquote><p>&emsp;&emsp;留心处处皆学问。</p></blockquote><h2 id="礼仪的内涵"><a href="#礼仪的内涵" class="headerlink" title="礼仪的内涵"></a>礼仪的内涵</h2><h3 id="礼貌：尊敬、重视和有好的态度。礼节：待人接物方面的形式。仪表：精神状态。"><a href="#礼貌：尊敬、重视和有好的态度。礼节：待人接物方面的形式。仪表：精神状态。" class="headerlink" title="礼貌：尊敬、重视和有好的态度。礼节：待人接物方面的形式。仪表：精神状态。"></a>礼貌：尊敬、重视和有好的态度。礼节：待人接物方面的形式。仪表：精神状态。</h3><h3 id="仪式：约定俗成的共同认可的行为规范。"><a href="#仪式：约定俗成的共同认可的行为规范。" class="headerlink" title="仪式：约定俗成的共同认可的行为规范。"></a>仪式：约定俗成的共同认可的行为规范。</h3><h2 id="礼仪的实质：敬人敬己、慎独、三分资质，七分打扮。"><a href="#礼仪的实质：敬人敬己、慎独、三分资质，七分打扮。" class="headerlink" title="礼仪的实质：敬人敬己、慎独、三分资质，七分打扮。"></a>礼仪的实质：敬人敬己、慎独、三分资质，七分打扮。</h2><h2 id="仪容礼仪：面部、颈部、手、皮肤护理"><a href="#仪容礼仪：面部、颈部、手、皮肤护理" class="headerlink" title="仪容礼仪：面部、颈部、手、皮肤护理"></a>仪容礼仪：面部、颈部、手、皮肤护理</h2><ul><li>头型，定制发型，不遮眼，不遮耳，不遮颈</li><li>面部，每天早晚用洗面奶清洗两遍，保湿，清洁鼻子眼睛嘴唇耳朵下巴，刷牙漱口，保持清新口气</li><li>颈部，与面部同等级的护理</li><li>手部，避免洗衣粉之类的，或使用手套，洗手液清洗护理，指甲剪断 清理污物，指甲油透明的或肉色的</li><li>皮肤，保持愉快的心情，良好的睡眠习惯，睡前洗脸，常喝水，饮食清淡，水果蔬菜，防紫外线</li></ul><h2 id="仪表礼仪"><a href="#仪表礼仪" class="headerlink" title="仪表礼仪"></a>仪表礼仪</h2><h3 id="面部表情"><a href="#面部表情" class="headerlink" title="面部表情"></a>面部表情</h3><ul><li>真诚，友善，眼神注视时间三分之二左右，眉毛，微笑</li></ul><h3 id="着装礼仪"><a href="#着装礼仪" class="headerlink" title="着装礼仪"></a>着装礼仪</h3><ul><li>时间，地点，目的</li><li>整洁，整体，不超过三色，个性，鞋子比裤子重要，裤子比上衣重要，里面的衣服比外面的衣服重要</li></ul><h3 id="西服"><a href="#西服" class="headerlink" title="西服"></a>西服</h3><ul><li>两粒纽扣，站着时候只扣上面的一个，坐下时可以都打开，下面的一粒永远都不要扣，双排扣都得扣上</li><li>衬衫，白色最好，里面的衬衫比外面的外套厂1厘米左右</li><li>领带，配西服与衬衫</li><li>鞋子，皮鞋，深颜色的棉袜，深蓝色黑色</li><li>三一定律，黑色的西服皮鞋公文包，褐色的皮带公文包皮鞋</li><li>口袋里面不要放太多的东西，腰间不挂钥匙链</li></ul><h3 id="女士套裙"><a href="#女士套裙" class="headerlink" title="女士套裙"></a>女士套裙</h3><ul><li>套裙要有袜子，鞋子前不露脚趾后不露脚跟，不要黑色的皮短裙</li></ul><h3 id="配饰"><a href="#配饰" class="headerlink" title="配饰"></a>配饰</h3><ul><li>男士看表，女士看包</li><li>数量不超过6个点</li><li>同色同质</li><li>扬长避短，长型的脸戴耳钉，不戴长链的</li><li>戒指戴在中指表示正在恋爱中，已婚的人戴在无名指，独身的小拇指，装饰性的食指</li><li>男士，眼镜，皮带，领带，西服皮带3公分</li></ul><h2 id="仪态礼仪：形态-站姿-走姿-坐姿-蹲姿-手势"><a href="#仪态礼仪：形态-站姿-走姿-坐姿-蹲姿-手势" class="headerlink" title="仪态礼仪：形态 站姿 走姿 坐姿 蹲姿 手势"></a>仪态礼仪：形态 站姿 走姿 坐姿 蹲姿 手势</h2><h2 id="生活礼仪"><a href="#生活礼仪" class="headerlink" title="生活礼仪"></a>生活礼仪</h2><h3 id="家庭"><a href="#家庭" class="headerlink" title="家庭"></a>家庭</h3><ul><li>孝敬父母 礼待亲戚朋友 兄弟姐妹常联系 夫妻之间相互欣赏鼓励互相宽容</li></ul><h3 id="学校生活礼仪"><a href="#学校生活礼仪" class="headerlink" title="学校生活礼仪"></a>学校生活礼仪</h3><h3 id="课堂"><a href="#课堂" class="headerlink" title="课堂"></a>课堂</h3><ul><li>尊重老师</li><li>注重个人形象</li><li>教室不进食</li><li>认真听讲</li><li>发言举手</li></ul><h3 id="同学"><a href="#同学" class="headerlink" title="同学"></a>同学</h3><ul><li>尊重</li><li>有借有还</li><li>关心</li><li>平等对待</li><li>发现别人的优点</li><li>学会分享</li><li>不要斤斤计较</li></ul><h3 id="交友婚恋礼仪"><a href="#交友婚恋礼仪" class="headerlink" title="交友婚恋礼仪"></a>交友婚恋礼仪</h3><ul><li>欲知其人，先观其朋</li><li>物以类聚，人以群分</li><li>近朱者赤，近墨者黑</li><li>孟母三迁</li><li>广泛交友</li><li>坚持原则</li><li>完善自我</li><li>真诚付出</li></ul><h3 id="男性朋友"><a href="#男性朋友" class="headerlink" title="男性朋友"></a>男性朋友</h3><ul><li>有男子汉气魄 </li><li>有君子的风范</li><li>讲原则</li></ul><h3 id="女性朋友"><a href="#女性朋友" class="headerlink" title="女性朋友"></a>女性朋友</h3><ul><li>注重形象</li><li>坦诚相待</li><li>有容人之心</li></ul><h3 id="异性交友"><a href="#异性交友" class="headerlink" title="异性交友"></a>异性交友</h3><ul><li>男女有别</li><li>互相尊重</li><li>光明正大</li><li>顾全“大局”，当异性朋友有了对象以后，保持距离</li></ul><h3 id="恋爱朋友"><a href="#恋爱朋友" class="headerlink" title="恋爱朋友"></a>恋爱朋友</h3><ul><li>表白，首先了解对方是否有了对象，表白直白明确不模糊</li><li>拒绝，尊重别人的自尊心，不可以伤害一个喜欢自己的人，拒绝直白明确不模糊</li><li>相处，不要终日吵架，不轻易说分手，不要激化矛盾，不翻旧账，</li><li>分手，当面把话说清楚，好聚好散，到公共场所，不拖泥带水，避免发生冲突</li></ul><h3 id="出行礼仪"><a href="#出行礼仪" class="headerlink" title="出行礼仪"></a>出行礼仪</h3><ul><li>行路礼仪：不三五成群挡住别人，不玩手机，注意生命安全</li><li>行车礼仪：宁停三分，不抢一秒，一慢二看三通过，不往车窗外扔东西，雨天慢性注意行人</li><li>乘坐电梯：面朝电梯门，靠里面站</li><li>自动扶梯：要手抓扶梯，不然一旦骤停很危险，靠右边站</li><li>乘车礼仪：注意安全</li></ul><h3 id="公共场所礼仪"><a href="#公共场所礼仪" class="headerlink" title="公共场所礼仪"></a>公共场所礼仪</h3><ul><li></li></ul><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><img width="50px" height="50px" src="https://www.z4a.net/images/2019/05/27/20190527-20267.th.png" alt="QQ" border="0"></center>]]></content:encoded>
      
      <comments>https://shulu520.com/%E5%A4%A7%E5%AD%A6MOOC/%E7%8E%B0%E4%BB%A3%E7%A4%BC%E4%BB%AA/#disqus_thread</comments>
    </item>
    
    <item>
      <title>sp入职培训</title>
      <link>https://shulu520.com/sp%E5%85%A5%E8%81%8C%E5%9F%B9%E8%AE%AD/sp%E5%85%A5%E8%81%8C%E5%9F%B9%E8%AE%AD/</link>
      <guid>https://shulu520.com/sp%E5%85%A5%E8%81%8C%E5%9F%B9%E8%AE%AD/sp%E5%85%A5%E8%81%8C%E5%9F%B9%E8%AE%AD/</guid>
      <pubDate>Fri, 24 Jul 2020 15:26:42 GMT</pubDate>
      <description>
      
        浅记入职培训之经过
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;7月20日正式入职以来至今，为期一周的职前培训，学习了很多的东西，经历了好多事情，生活过的相当充实，丰富多彩，值得回味。</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><ul><li>20日，了解工作，认识同事，熟悉环境，转换角色，重新认识自我</li><li>21日，进行双选会，面试不同的部门，期待心仪的工作岗位</li><li>22日，来到小南湖风景区，安全培训知识学习，加强团队建设，体验农家生活</li><li>23日，文化，素养，后勤，认识，6S，等学习</li><li><p>24日，职业安全培训，对生活中的安全问题有了大致的了解，考试，新人才艺表演</p></li><li><p>感受最深的就是“安全”二字，不但要时刻想着安全，而且还得不断践行在生活中的细节里</p></li></ul><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><img width="50px" height="50px" src="https://www.z4a.net/images/2019/05/27/20190527-20267.th.png" alt="QQ" border="0"><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/sp%E5%85%A5%E8%81%8C%E5%9F%B9%E8%AE%AD/sp%E5%85%A5%E8%81%8C%E5%9F%B9%E8%AE%AD/#disqus_thread</comments>
    </item>
    
    <item>
      <title>电脑问题处理</title>
      <link>https://shulu520.com/%E7%94%B5%E8%84%91/%E7%94%B5%E8%84%91%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86/</link>
      <guid>https://shulu520.com/%E7%94%B5%E8%84%91/%E7%94%B5%E8%84%91%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86/</guid>
      <pubDate>Fri, 19 Jun 2020 05:20:14 GMT</pubDate>
      <description>
      
        电脑使用中的Q&amp;A
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;git  fuck 文章写完之后直接上传，这是已经配置好的简化命令。</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><h2 id="软件安装注册时"><a href="#软件安装注册时" class="headerlink" title="软件安装注册时"></a>软件安装注册时</h2><p>电脑Windows Defender消息显示有病毒，无法进行安装注册<br>打开设置，进入Windows Defender，<br>点击病毒和威胁防护，点击‘病毒和威胁防护’设置，将实时保护关闭。<br>待软件安装完成之后，再将实时保护关闭即可。</p><h2 id="博客文章发表出现的问题"><a href="#博客文章发表出现的问题" class="headerlink" title="博客文章发表出现的问题"></a>博客文章发表出现的问题</h2><p>注意在 “description：” 这里的冒号之后有一个空格，少了这个空格会导致这篇文章无法发表。</p><h2 id="Excel-无法打开文件“新建-Microsoft-Excel-工作表-xlsx”"><a href="#Excel-无法打开文件“新建-Microsoft-Excel-工作表-xlsx”" class="headerlink" title="Excel 无法打开文件“新建 Microsoft Excel 工作表.xlsx”"></a>Excel 无法打开文件“新建 Microsoft Excel 工作表.xlsx”</h2><ul><li>因为文件格式或文件扩展名无效 解决方法如下：按Win+R输入regedit，打开注册表</li><li>与之前安装过WPS有关</li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://blog.csdn.net/learllp/article/details/79723078?utm_medium=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.control&amp;dist_request_id=229aed61-e516-4d52-bab0-8fb76592087b&amp;depth_1-utm_source=distribute.pc_relevant_t0.none-task-blog-BlogCommendFromMachineLearnPai2-1.control</span><br></pre></td></tr></table></figure><h2 id="vscode-更新后自定义背景消失解决方法"><a href="#vscode-更新后自定义背景消失解决方法" class="headerlink" title="vscode 更新后自定义背景消失解决方法"></a>vscode 更新后自定义背景消失解决方法</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">本地文件目前的解决方法为：将图片、或图片目录放到vscode扩展目录下，例如windows：C:\Users\Administrator.vscode\extensions\。然后重新配置下图片目录</span><br><span class="line">https://blog.csdn.net/weixin_44470813/article/details/105693969</span><br></pre></td></tr></table></figure><h2 id="删除流氓软件注册表，解决弹窗问题"><a href="#删除流氓软件注册表，解决弹窗问题" class="headerlink" title="删除流氓软件注册表，解决弹窗问题"></a>删除流氓软件注册表，解决弹窗问题</h2><ul><li>以压缩软件-快压为例</li><li>原因:老是弹出辣鸡弹窗</li><li>删除安装文件夹之后有残留</li><li>就是那个后缀为.dll的文件</li><li>做法超级简单：修改次文件的后缀名为.txt或其他</li><li>重启电脑，将这个文件删除即可</li></ul><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><img width="50px" height="50px" src="https://www.z4a.net/images/2019/05/27/20190527-20267.th.png" alt="QQ" border="0"><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/%E7%94%B5%E8%84%91/%E7%94%B5%E8%84%91%E9%97%AE%E9%A2%98%E5%A4%84%E7%90%86/#disqus_thread</comments>
    </item>
    
    <item>
      <title>壁纸</title>
      <link>https://shulu520.com/%E5%A3%81%E7%BA%B8/%E5%A3%81%E7%BA%B8/</link>
      <guid>https://shulu520.com/%E5%A3%81%E7%BA%B8/%E5%A3%81%E7%BA%B8/</guid>
      <pubDate>Tue, 16 Jun 2020 08:55:54 GMT</pubDate>
      <description>
      
        免费使用必应最新的桌面壁纸
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;嘿嘿嘿</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p><ul><li>必应搜索页面<br>进入必应首页cn.bing.com，<br>点击图片右键查看网页源代码，<br>在第三行可以看到一行js代码，<br>中间有蓝色部分的图片链接，点击进入，<br>浏览器会在新页面打开这张图片，<br>右键图片另存为某地即可，<br>如果觉得好看的话，可以设置为桌面壁纸</li></ul><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><img width="50px" height="50px" src="/壁纸/壁纸/./images/1592484666484.png" alt="QQ" border="0"><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/%E5%A3%81%E7%BA%B8/%E5%A3%81%E7%BA%B8/#disqus_thread</comments>
    </item>
    
    <item>
      <title>2020开篇</title>
      <link>https://shulu520.com/uncategorized/2020%E5%BC%80%E7%AF%87/</link>
      <guid>https://shulu520.com/uncategorized/2020%E5%BC%80%E7%AF%87/</guid>
      <pubDate>Sat, 30 May 2020 16:10:27 GMT</pubDate>
      <description>
      
        &lt;blockquote&gt;
&lt;p&gt;&amp;emsp;&amp;emsp;代码之路停下久矣，今晚无聊之时，正好试试手，看看那些花里胡哨的操作还是否记的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;div style=&quot;width:100%;height:1px;background-color:pink;opacity:.7&quot;&gt;&lt;/div&gt;&lt;br&gt;&lt;/p&gt;
      
      </description>
      
      <content:encoded><![CDATA[<blockquote><p>&emsp;&emsp;代码之路停下久矣，今晚无聊之时，正好试试手，看看那些花里胡哨的操作还是否记的。</p></blockquote><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a><br>&emsp;&emsp;哈哈哈哈哈，还好没忘记，不错不错，阔以阔以，往后继续加油哦。</p><p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p><center><img width="50px" height="50px" src="https://www.z4a.net/images/2019/05/27/20190527-20267.th.png" alt="QQ" border="0"><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">有事您Q我👇</a></center>]]></content:encoded>
      
      <comments>https://shulu520.com/uncategorized/2020%E5%BC%80%E7%AF%87/#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
