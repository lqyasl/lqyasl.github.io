<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">

<script>
    (function(){
        if(''){
            if (prompt('åšä¸»ç§æœ‰æ–‡ç« ï¼Œè¯·è¾“å…¥å¯†ç :  shulu520') !== ''){
                alert('å¯†ç é”™è¯¯ï¼');
                history.back();
            }
        }
    })();
</script>


  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-flash.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">










  <meta name="baidu-site-verification" content="J3muXvxFkF">







  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.jpg?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="H5-newApi,">





  <link rel="alternate" href="/rss2.xml" title="æ¢¦ä¸æˆ" type="application/atom+xml">







  <script>
  (function(i,s,o,g,r,a,m){i["DaoVoiceObject"]=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;a.charset="utf-8";m.parentNode.insertBefore(a,m)})(window,document,"script",('https:' == document.location.protocol ? 'https:' : 'http:') + "//widget.daovoice.io/widget/0f81ff2f.js","daovoice")
  daovoice('init', {
      app_id: "5af61f84"
    });
  daovoice('update');
  </script>


<meta name="description" content="H5æ–°çš„apiå­¦ä¹ ">
<meta name="keywords" content="H5-newApi">
<meta property="og:type" content="article">
<meta property="og:title" content="H5-newApi">
<meta property="og:url" content="https://shulu520.com/H5/H5-newApi/index.html">
<meta property="og:site_name" content="æ¢¦ä¸æˆ">
<meta property="og:description" content="H5æ–°çš„apiå­¦ä¹ ">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="https://www.z4a.net/images/2019/05/27/20190527-20267.th.png">
<meta property="og:updated_time" content="2019-08-18T12:49:58.993Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="H5-newApi">
<meta name="twitter:description" content="H5æ–°çš„apiå­¦ä¹ ">
<meta name="twitter:image" content="https://www.z4a.net/images/2019/05/27/20190527-20267.th.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":true,"scrollpercent":true,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":true,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="https://shulu520.com/H5/H5-newApi/">





  <title>H5-newApi | æ¢¦ä¸æˆ</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>
    
    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">æ¢¦ä¸æˆ</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">æ€å¿µå¦‚é©¬-è‡ªåˆ«ç¦»-æœªåœè¹„</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            å…³äºæˆ‘
          </a>
        </li>
      
        
        <li class="menu-item menu-item-love">
          <a href="/love/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-heartbeat"></i> <br>
            
            love
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            æ–‡ç« æ ‡ç­¾
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            æ–‡ç« åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            æ–‡ç« å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-ç•™è¨€æ¿">
          <a href="/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-book"></i> <br>
            
            ç•™è¨€æ¿
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br>
            
            search
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off" placeholder="æ¥å•Šï¼Œå¿«æ¥æ¢ç´¢æˆ‘çš„ç§˜å¯†å§..." spellcheck="false" type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>




<link href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css" rel="stylesheet"> </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://shulu520.com/H5/H5-newApi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="æ¢¦ä¸æˆ">
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/head_icon.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="æ¢¦ä¸æˆ">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">H5-newApi</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2019-07-31T16:43:44+08:00">
                2019-07-31
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">æ›´æ–°&#58;</span>
              
              <time title="æ›´æ–°" itemprop="dateModified" datetime="2019-08-18T20:49:58+08:00">
                2019-08-18
              </time>
            
          </span>

          
            <span class="post-category">
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/H5/" itemprop="url" rel="index">
                    <span itemprop="name">H5</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          
            <span class="post-meta-divider">|</span>
            <span class="page-pv"><i class="fa fa-free-code-camp"></i> çƒ­åº¦
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>ğŸ”¥
            </span>
          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">å­—æ•°&#58;</span>
                
                <span title="å­—æ•°">
                  4.1k å­—
                </span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">é˜…è¯»æ—¶é•¿ &asymp;</span>
                
                <span title="é˜…è¯»æ—¶é•¿">
                  18 åˆ†é’Ÿ
                </span>
              
            </div>
          

          
              <div class="post-description">
                  H5æ–°çš„apiå­¦ä¹ 
              </div>
          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <blockquote>
<p>&emsp;&emsp;</p>
</blockquote>
<p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div><br><a id="more"></a></p>
<h2 id="onlineç½‘ç»œçŠ¶æ€"><a href="#onlineç½‘ç»œçŠ¶æ€" class="headerlink" title="onlineç½‘ç»œçŠ¶æ€"></a>onlineç½‘ç»œçŠ¶æ€</h2><ul>
<li>æˆ‘ä»¬å¯ä»¥é€šè¿‡window.navigator.onLineæ¥æ£€æµ‹ï¼Œç”¨æˆ·å½“å‰çš„ç½‘ç»œçŠ¶å†µï¼Œè¿”å›ä¸€ä¸ªå¸ƒå°”å€¼ï¼Œ ä½†æ˜¯ä¸åŒæµè§ˆå™¨ä¼šå­˜åœ¨å·®å¼‚.</li>
<li>æ‰€ä»¥HTML5 ç»™æˆ‘ä»¬æä¾›äº†2ä¸ªäº‹ä»¶: onlineå’Œoffline </li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> å½“ç½‘ç»œè¿æ¥åˆ°æ—¶å€™  å¼¹å‡º p æ˜¾ç¤ºç½‘ç»œè¿æ¥ ç„¶åæ¶ˆå¤±</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'online'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">".tips"</span>).text(<span class="string">"ç½‘ç»œå·²è¿æ¥"</span>).fadeIn(<span class="number">500</span>).delay(<span class="number">1000</span>).fadeOut();</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span> å½“ç½‘ç»œæ–­å¼€åˆ°æ—¶å€™  å¼¹å‡º p æ˜¾ç¤ºç½‘ç»œå·²æ–­å¼€ ç„¶åæ¶ˆå¤±</span><br><span class="line"><span class="built_in">window</span>.addEventListener(<span class="string">'offline'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  $(<span class="string">".tips"</span>).text(<span class="string">"å“å‘€ï¼Œç½‘ç»œæ–­å¼€äº†"</span>).fadeIn(<span class="number">500</span>).delay(<span class="number">1000</span>).fadeOut();</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
<h2 id="dom-requestFullScreen-å…¨å±æ˜¾ç¤º"><a href="#dom-requestFullScreen-å…¨å±æ˜¾ç¤º" class="headerlink" title="dom.requestFullScreen()å…¨å±æ˜¾ç¤º"></a>dom.requestFullScreen()å…¨å±æ˜¾ç¤º</h2><ul>
<li>å…¨å±æ˜¾ç¤ºå¯ä»¥æ˜¯ä»»æ„å…ƒç´ </li>
<li>H5 API å­˜åœ¨å…¼å®¹æ€§é—®é¢˜  ie9 +  </li>
<li>å³ä½¿é«˜ç‰ˆæœ¬æµè§ˆå™¨æœ‰å…¼å®¹æ€§é—®é¢˜  </li>
<li>ä¸åŒæµè§ˆå™¨éœ€è¦æ·»åŠ ä¸åŒçš„å‰ç¼€ webkit  moz  o  ms </li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* æ³¨æ„å…¼å®¹æ€§é—®é¢˜  å…¨å±æ˜¾ç¤ºä¼ªç±»é€‰æ‹©å™¨ */</span></span><br><span class="line"><span class="selector-tag">div</span><span class="selector-pseudo">:-webkit-full-screen</span> &#123; </span><br><span class="line">  <span class="attribute">background-color</span>: pink;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"pic1.png"</span> <span class="attr">height</span>=<span class="string">"300"</span>  <span class="attr">alt</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"full"</span>&gt;</span>å…¨å±æ˜¾ç¤º<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"cancelFull"</span>&gt;</span>å–æ¶ˆå…¨å±<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"isFull"</span>&gt;</span>æ˜¯å¦å…¨å±<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> div = <span class="built_in">document</span>.querySelector(<span class="string">"div"</span>);</span><br><span class="line"><span class="comment">// 1 å•å‡»å…¨å±æ˜¾ç¤º</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">"#full"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="comment">// èƒ½åŠ›æ£€æµ‹  åšä¸€ä¸ªå…¼å®¹æ€§çš„è§£å†³æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">if</span>(div.requestFullScreen) &#123;  <span class="comment">// æ­£å¸¸æµè§ˆå™¨ </span></span><br><span class="line">    div.requestFullScreen();</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (div.webkitRequestFullScreen) &#123;  <span class="comment">// webkit å†…æ ¸</span></span><br><span class="line">    div.webkitRequestFullScreen();</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (div.mozRequestFullScreen) &#123;  <span class="comment">// moz</span></span><br><span class="line">    div.mozRequestFullScreen();</span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (div.msRequestFullscreen) &#123;  </span><br><span class="line">    <span class="comment">// ms å¾®è½¯  è¿™é‡Œé¢æœ‰ä¸ªå‘ åˆ«æ‰è¿›å»äº†</span></span><br><span class="line">    div.msRequestFullscreen(); </span><br><span class="line">    <span class="comment">// ms é‡Œé¢è¿™æ ·å†™msRequestFullscreen()  sæ˜¯å°å†™çš„  </span></span><br><span class="line"></span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;  <span class="comment">// æ¬§æœ‹</span></span><br><span class="line">    div.oRequestFullScreen();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 å–æ¶ˆå…¨å±  è·Ÿå…ƒç´ æ²¡æœ‰å…³ç³»  è·Ÿ documentæœ‰å…³ç³»</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">"#cancelFull"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">document</span>.webkitCancelFullScreen();  <span class="comment">// document é€€å‡ºå…¨å±</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 3 æ˜¯å¦å…¨å±æ˜¾ç¤º</span></span><br><span class="line"><span class="built_in">document</span>.querySelector(<span class="string">"#isFull"</span>).onclick = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="built_in">document</span>.webkitIsFullScreen); <span class="comment">// webkitæ˜¯å¦å­˜åœ¨ å…¨å±çŠ¶æ€</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="input-type-fileæ–‡ä»¶è¯»å–å¹¶æ˜¾ç¤º"><a href="#input-type-fileæ–‡ä»¶è¯»å–å¹¶æ˜¾ç¤º" class="headerlink" title="input type=fileæ–‡ä»¶è¯»å–å¹¶æ˜¾ç¤º"></a>input type=fileæ–‡ä»¶è¯»å–å¹¶æ˜¾ç¤º</h2><h3 id="demo-å¯ä»¥æŠŠä¸Šä¼ çš„æ–‡ä»¶ï¼Œæ–‡æœ¬å†…å®¹æ˜¾ç¤ºåˆ°é¡µé¢ï¼Ÿ"><a href="#demo-å¯ä»¥æŠŠä¸Šä¼ çš„æ–‡ä»¶ï¼Œæ–‡æœ¬å†…å®¹æ˜¾ç¤ºåˆ°é¡µé¢ï¼Ÿ" class="headerlink" title="demo-å¯ä»¥æŠŠä¸Šä¼ çš„æ–‡ä»¶ï¼Œæ–‡æœ¬å†…å®¹æ˜¾ç¤ºåˆ°é¡µé¢ï¼Ÿ"></a>demo-å¯ä»¥æŠŠä¸Šä¼ çš„æ–‡ä»¶ï¼Œæ–‡æœ¬å†…å®¹æ˜¾ç¤ºåˆ°é¡µé¢ï¼Ÿ</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">multiple</span> &gt;</span> //multipleå¯é€‰æ‹©å¤šä¸ªæ–‡ä»¶</span><br><span class="line"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> ä¸Šä¼ æˆ‘ä»¬çš„æ–‡ä»¶ </span><br><span class="line"><span class="keyword">let</span> file = <span class="built_in">document</span>.querySelector(<span class="string">"input"</span>);</span><br><span class="line"><span class="keyword">let</span> div = <span class="built_in">document</span>.querySelector(<span class="string">"div"</span>);</span><br><span class="line"></span><br><span class="line">å½“inputå‘ç”Ÿæ”¹å˜çš„æ—¶å€™ ä¸‹æ‹‰èœå• select ä¹Ÿæ˜¯è¿™ä¸ªäº‹ä»¶ onchange</span><br><span class="line">file.onchange = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; </span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.files);  <span class="comment">// ä¸Šä¼ æ–‡ä»¶ç»„æˆçš„é›†åˆ </span></span><br><span class="line"></span><br><span class="line">  <span class="number">2.</span> é€‰æ‹©æˆ‘ä»¬è¦çš„æ–‡ä»¶ï¼Œ è¿›è¡Œè¯»å–æ–‡ä»¶é‡Œé¢çš„å†…å®¹</span><br><span class="line">  <span class="keyword">let</span> reader = <span class="keyword">new</span> FileReader();  <span class="comment">// åˆå§‹åŒ–ä¸€ä¸ªæ–‡ä»¶è¯»å–å¯¹è±¡reader </span></span><br><span class="line"></span><br><span class="line">    reader.readAsText(<span class="keyword">this</span>.files[<span class="number">0</span>]); <span class="comment">// è¯»å–this.files[0] ç¬¬ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">    <span class="number">3.</span> è¯»å–å®Œæ¯•æŠŠè¯»å–çš„å†…å®¹æ˜¾ç¤ºåˆ°é¡µé¢ä¸­</span><br><span class="line">    reader.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      div.innerHTML = <span class="keyword">this</span>.result; <span class="comment">//resultå­˜å‚¨ç€è¯»å–åçš„å†…å®¹ï¼Œè¿™é‡Œä¸ºæ–‡æœ¬</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸Šä¼ å®Œæ¯•å›¾ç‰‡æ˜¾ç¤ºç¼©ç•¥å›¾-è‡ªå·±å†™imgçš„å®½é«˜-åˆ°é¡µé¢ä¸Š"><a href="#ä¸Šä¼ å®Œæ¯•å›¾ç‰‡æ˜¾ç¤ºç¼©ç•¥å›¾-è‡ªå·±å†™imgçš„å®½é«˜-åˆ°é¡µé¢ä¸Š" class="headerlink" title="ä¸Šä¼ å®Œæ¯•å›¾ç‰‡æ˜¾ç¤ºç¼©ç•¥å›¾(è‡ªå·±å†™imgçš„å®½é«˜)åˆ°é¡µé¢ä¸Š"></a>ä¸Šä¼ å®Œæ¯•å›¾ç‰‡æ˜¾ç¤ºç¼©ç•¥å›¾(è‡ªå·±å†™imgçš„å®½é«˜)åˆ°é¡µé¢ä¸Š</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;file&quot; name=&quot;&quot; id=&quot;&quot; multiple &gt; </span><br><span class="line">&lt;img src=&quot;&quot; alt=&quot;&quot; width=&quot;100&quot;&gt;</span><br><span class="line"></span><br><span class="line">let file = document.querySelector(&quot;input&quot;);</span><br><span class="line">let img = document.querySelector(&quot;img&quot;);</span><br><span class="line"></span><br><span class="line">file.onchange = function() &#123; </span><br><span class="line"></span><br><span class="line">  let reader = new FileReader();  </span><br><span class="line">  reader.readAsDataURL(this.files[0]); </span><br><span class="line"></span><br><span class="line">  reader.onload = function() &#123;</span><br><span class="line"></span><br><span class="line">    console.log(this.result); // resultä¸º data: URL å³base64æ ¼å¼çš„å­—ç¬¦ä¸²</span><br><span class="line">    </span><br><span class="line">    img.src = this.result; // æŠŠè¯»å–çš„å†…å®¹èµ‹å€¼ç»™å›¾ç‰‡ src  </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="fileså¯¹è±¡"><a href="#fileså¯¹è±¡" class="headerlink" title="fileså¯¹è±¡"></a>fileså¯¹è±¡</h3><ul>
<li>ç”±äºHTML5ä¸­æˆ‘ä»¬å¯ä»¥é€šè¿‡ä¸ºè¡¨å•å…ƒç´ æ·»åŠ multipleå±æ€§ï¼Œå› æ­¤æˆ‘ä»¬é€šè¿‡inputä¸Šä¼ æ–‡ä»¶åå¾—åˆ°çš„æ˜¯ä¸€ä¸ªfileså¯¹è±¡ï¼ˆä¼ªæ•°ç»„å½¢å¼ï¼‰ã€‚</li>
</ul>
<h3 id="FileReaderå¯¹è±¡"><a href="#FileReaderå¯¹è±¡" class="headerlink" title="FileReaderå¯¹è±¡"></a>FileReaderå¯¹è±¡</h3><ul>
<li><p>FileReader å¯¹è±¡å…è®¸Webåº”ç”¨ç¨‹åºå¼‚æ­¥è¯»å–å­˜å‚¨åœ¨ç”¨æˆ·è®¡ç®—æœºä¸Šçš„æ–‡ä»¶ï¼ˆæˆ–åŸå§‹æ•°æ®ç¼“å†²åŒºï¼‰çš„å†…å®¹.</p>
</li>
<li><p>let reader = new FileReader; å¯ä»¥å®ä¾‹åŒ–ä¸€ä¸ªå¯¹è±¡</p>
</li>
<li><p>å®ä¾‹æ–¹æ³•</p>
</li>
<li>FileReader.readAsDataURL() è¯»å–ç»“æœä¸ºdata: URLæ ¼å¼çš„å­—ç¬¦ä¸²</li>
<li><p>FileReader.readAsText() è¯»å–ç»“æœä¸ºæ–‡æœ¬å­—ç¬¦ä¸²</p>
</li>
<li><p>äº‹ä»¶ç›‘å¬</p>
<ul>
<li>onload å½“è¯»å–å®Œæˆæ—¶è§¦å‘</li>
</ul>
</li>
<li><p>å±æ€§</p>
<ul>
<li>result æ–‡ä»¶è¯»å–ç»“æœå†…å®¹</li>
</ul>
</li>
</ul>
<h2 id="åœ°ç†å®šä½"><a href="#åœ°ç†å®šä½" class="headerlink" title="åœ°ç†å®šä½"></a>åœ°ç†å®šä½</h2><ul>
<li>è°·æ­Œåœ°ç†ä½ç½®å®šä½navigator.geolocationï¼Œå’±ä»¬ä¸ç”¨</li>
</ul>
<h3 id="ç™¾åº¦åœ°å›¾"><a href="#ç™¾åº¦åœ°å›¾" class="headerlink" title="ç™¾åº¦åœ°å›¾"></a>ç™¾åº¦åœ°å›¾</h3><ul>
<li><a href="http://lbsyun.baidu.com/" target="_blank" rel="noopener">ç™¾åº¦åœ°å›¾api</a></li>
<li>æœ‰åœ°ç†åç‰‡ç­‰ç­‰å¥½å¤šçš„åŠŸèƒ½</li>
</ul>
<h2 id="æ‹–æ‹½"><a href="#æ‹–æ‹½" class="headerlink" title="æ‹–æ‹½"></a>æ‹–æ‹½</h2><ul>
<li>åœ¨ HTML5 ä¸­ï¼Œæ‹–æ”¾æ˜¯æ ‡å‡†çš„ä¸€éƒ¨åˆ†ï¼Œä»»ä½•å…ƒç´ éƒ½èƒ½å¤Ÿæ‹–æ”¾ã€‚</li>
<li>draggable å±æ€§ï¼šå°±æ˜¯æ ‡ç­¾å…ƒç´ è¦è®¾ç½®draggable=trueï¼Œå¦åˆ™ä¸ä¼šæœ‰æ•ˆæœ </li>
<li>æ³¨æ„ï¼šé“¾æ¥å’Œå›¾ç‰‡é»˜è®¤æ˜¯å¯æ‹–åŠ¨çš„ï¼Œä¸éœ€è¦ draggable å±æ€§ã€‚</li>
<li><a href="https://blog.csdn.net/baidu_25343343/article/details/53215193" target="_blank" rel="noopener">csdn</a></li>
</ul>
<h3 id="æ‹–æ‹½å’Œé‡Šæ”¾"><a href="#æ‹–æ‹½å’Œé‡Šæ”¾" class="headerlink" title="æ‹–æ‹½å’Œé‡Šæ”¾"></a>æ‹–æ‹½å’Œé‡Šæ”¾</h3><ul>
<li>æ‹–æ‹½ï¼šdrag</li>
<li>é‡Šæ”¾ï¼šdrop</li>
<li>æ‹–æ‹½æŒ‡çš„æ˜¯é¼ æ ‡ç‚¹å‡»æºå¯¹è±¡åä¸€ç›´ç§»åŠ¨å¯¹è±¡ä¸æ¾æ‰‹ï¼Œä¸€ä½†æ¾æ‰‹å³é‡Šæ”¾äº†</li>
</ul>
<h3 id="æ‹–æ‹½APIçš„ç›¸å…³äº‹ä»¶"><a href="#æ‹–æ‹½APIçš„ç›¸å…³äº‹ä»¶" class="headerlink" title="æ‹–æ‹½APIçš„ç›¸å…³äº‹ä»¶"></a>æ‹–æ‹½APIçš„ç›¸å…³äº‹ä»¶</h3><ul>
<li>æ‹–æ‹½APIæ€»å…±å°±æ˜¯7ä¸ªå‡½æ•°ï¼ï¼</li>
</ul>
<p><strong>è¢«æ‹–åŠ¨çš„æºå¯¹è±¡å¯ä»¥è§¦å‘çš„äº‹ä»¶ï¼š</strong></p>
<ol>
<li>ondragstartï¼šæºå¯¹è±¡å¼€å§‹è¢«æ‹–åŠ¨</li>
<li>ondragï¼šæºå¯¹è±¡è¢«æ‹–åŠ¨è¿‡ç¨‹ä¸­(é¼ æ ‡å¯èƒ½åœ¨ç§»åŠ¨ä¹Ÿå¯èƒ½æœªç§»åŠ¨)</li>
<li>ondragendï¼šæºå¯¹è±¡è¢«æ‹–åŠ¨ç»“æŸ</li>
</ol>
<p><strong>æ‹–åŠ¨æºå¯¹è±¡å¯ä»¥è¿›å…¥åˆ°ä¸Šæ–¹çš„ç›®æ ‡å¯¹è±¡å¯ä»¥è§¦å‘çš„äº‹ä»¶ï¼š</strong></p>
<ol>
<li>ondragenterï¼šç›®æ ‡å¯¹è±¡è¢«æºå¯¹è±¡æ‹–åŠ¨ç€è¿›å…¥</li>
<li>ondragoverï¼šç›®æ ‡å¯¹è±¡è¢«æºå¯¹è±¡æ‹–åŠ¨ç€æ‚¬åœåœ¨ä¸Šæ–¹</li>
<li>ondragleaveï¼šæºå¯¹è±¡æ‹–åŠ¨ç€ç¦»å¼€äº†ç›®æ ‡å¯¹è±¡</li>
<li>ondropï¼šæºå¯¹è±¡æ‹–åŠ¨ç€åœ¨ç›®æ ‡å¯¹è±¡ä¸Šæ–¹é‡Šæ”¾/æ¾æ‰‹</li>
</ol>
<h3 id="åœ¨æ‹–åŠ¨çš„æºå¯¹è±¡äº‹ä»¶å’Œç›®æ ‡å¯¹è±¡äº‹ä»¶é—´ä¼ é€’æ•°æ®"><a href="#åœ¨æ‹–åŠ¨çš„æºå¯¹è±¡äº‹ä»¶å’Œç›®æ ‡å¯¹è±¡äº‹ä»¶é—´ä¼ é€’æ•°æ®" class="headerlink" title="åœ¨æ‹–åŠ¨çš„æºå¯¹è±¡äº‹ä»¶å’Œç›®æ ‡å¯¹è±¡äº‹ä»¶é—´ä¼ é€’æ•°æ®"></a>åœ¨æ‹–åŠ¨çš„æºå¯¹è±¡äº‹ä»¶å’Œç›®æ ‡å¯¹è±¡äº‹ä»¶é—´ä¼ é€’æ•°æ®</h3><ul>
<li>HTML5ä¸ºæ‰€æœ‰çš„æ‹–åŠ¨ç›¸å…³äº‹ä»¶æä¾›äº†ä¸€ä¸ªæ–°çš„å±æ€§ï¼š</li>
<li>e.dataTransfer { } æ•°æ®ä¼ é€’å¯¹è±¡</li>
<li><p>ç”¨äºåœ¨æºå¯¹è±¡å’Œç›®æ ‡å¯¹è±¡çš„äº‹ä»¶é—´ä¼ é€’æ•°æ®</p>
</li>
<li><p>æºå¯¹è±¡ä¸Šçš„äº‹ä»¶å¤„ç†ä¸­ä¿å­˜æ•°æ®ï¼š</p>
</li>
<li><p>e.dataTransfer.setData( k, v );  k-vå¿…é¡»éƒ½æ˜¯stringç±»å‹</p>
</li>
<li><p>ç›®æ ‡å¯¹è±¡ä¸Šçš„äº‹ä»¶å¤„ç†ä¸­è¯»å–æ•°æ®ï¼š</p>
</li>
<li>let v = e.dataTransfer.getData( k );</li>
</ul>
<h3 id="HTML5æ–°å¢çš„æ–‡ä»¶æ“ä½œå¯¹è±¡ï¼š"><a href="#HTML5æ–°å¢çš„æ–‡ä»¶æ“ä½œå¯¹è±¡ï¼š" class="headerlink" title="HTML5æ–°å¢çš„æ–‡ä»¶æ“ä½œå¯¹è±¡ï¼š"></a>HTML5æ–°å¢çš„æ–‡ä»¶æ“ä½œå¯¹è±¡ï¼š</h3><ul>
<li><p>Fileï¼š ä»£è¡¨ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡</p>
</li>
<li><p>FileListï¼š ä»£è¡¨ä¸€ä¸ªæ–‡ä»¶åˆ—è¡¨å¯¹è±¡ï¼Œç±»æ•°ç»„</p>
</li>
<li><p>FileReaderï¼šç”¨äºä»æ–‡ä»¶ä¸­è¯»å–æ•°æ®</p>
</li>
<li><p>FileWriterï¼šç”¨äºå‘æ–‡ä»¶ä¸­å†™å‡ºæ•°æ®</p>
</li>
<li><p>ç›¸å…³å‡½æ•°ï¼š</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">div.ondrop = function(e)&#123;</span><br><span class="line"></span><br><span class="line">  let file = e.dataTransfer.files[0]; //æ‰¾åˆ°æ‹–æ”¾çš„æ–‡ä»¶</span><br><span class="line"></span><br><span class="line">  let reader = new FileReader(); Â  //åˆ›å»ºæ–‡ä»¶è¯»å–å™¨</span><br><span class="line"></span><br><span class="line">  reader.readAsURLData(file); Â  Â //è¯»å–æ–‡ä»¶å†…å®¹</span><br><span class="line"></span><br><span class="line">  reader.onload = function()&#123; Â //è¯»å–å®Œæˆ</span><br><span class="line"></span><br><span class="line">    img.src = reader.result; Â  //ä½¿ç”¨è¯»å–åˆ°çš„æ•°æ®</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="demo-ä»æ¡Œé¢-å®¢æˆ·ç«¯ç”µè„‘-æ‹–æ‹½ä¸Šä¼ å¤´åƒ"><a href="#demo-ä»æ¡Œé¢-å®¢æˆ·ç«¯ç”µè„‘-æ‹–æ‹½ä¸Šä¼ å¤´åƒ" class="headerlink" title="demo-ä»æ¡Œé¢(å®¢æˆ·ç«¯ç”µè„‘)æ‹–æ‹½ä¸Šä¼ å¤´åƒ"></a>demo-ä»æ¡Œé¢(å®¢æˆ·ç«¯ç”µè„‘)æ‹–æ‹½ä¸Šä¼ å¤´åƒ</h3><ul>
<li>å¥½ç©å¥½ç©</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">//æ ·å¼</span><br><span class="line">#container &#123;</span><br><span class="line">  border: 1px solid #aaa;</span><br><span class="line">  border-radius: 3px;</span><br><span class="line">  padding: 10px;</span><br><span class="line">  margin: 10px;</span><br><span class="line">  min-height: 400px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//dom</span><br><span class="line">&lt;h3&gt;è¯·æ‹–åŠ¨æ‚¨çš„ç…§ç‰‡åˆ°ä¸‹æ–¹æ–¹æ¡†åŒºåŸŸ&lt;/h3&gt;</span><br><span class="line">&lt;div id=&quot;container&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">//javascript</span><br><span class="line"></span><br><span class="line">//ç›‘å¬documentçš„dropäº‹ä»¶â€”â€”å–æ¶ˆå…¶é»˜è®¤è¡Œä¸ºï¼šåœ¨æ–°çª—å£ä¸­æ‰“å¼€å›¾ç‰‡</span><br><span class="line">document.ondragover = function(e)&#123;</span><br><span class="line">  e.preventDefault(); //ä½¿å¾—dropäº‹ä»¶å¯ä»¥è§¦å‘</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.ondrop = function(e)&#123;</span><br><span class="line">  e.preventDefault(); //é˜»æ­¢åœ¨æ–°çª—å£ä¸­æ‰“å¼€å›¾ç‰‡ï¼Œå¦åˆ™ä»ç„¶ä¼šæ‰§è¡Œä¸‹è½½æ“ä½œï¼ï¼ï¼</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//ç›‘å¬div#containerçš„dropäº‹ä»¶ï¼Œè®¾æ³•è¯»å–åˆ°é‡Šæ”¾çš„å›¾ç‰‡æ•°æ®ï¼Œæ˜¾ç¤ºå‡ºæ¥</span><br><span class="line">container.ondragover = function(e)&#123;</span><br><span class="line">  e.preventDefault();</span><br><span class="line">&#125;</span><br><span class="line">container.ondrop = function(e)&#123;</span><br><span class="line">  console.log(&apos;å®¢æˆ·ç«¯æ‹–åŠ¨ç€ä¸€å¼ å›¾ç‰‡é‡Šæ”¾äº†...&apos;)</span><br><span class="line">  //å½“å‰çš„ç›®æ ‡å¯¹è±¡è¯»å–æ‹–æ”¾æºå¯¹è±¡å­˜å‚¨çš„æ•°æ®</span><br><span class="line">  //console.log(e.dataTransfer); //æ˜¾ç¤ºæœ‰é—®é¢˜</span><br><span class="line">  //console.log(e.dataTransfer.files.length); //æ‹–è¿›æ¥çš„å›¾ç‰‡çš„æ•°é‡</span><br><span class="line">  let f0 = e.dataTransfer.files[0];</span><br><span class="line">  //console.log(f0); //æ–‡ä»¶å¯¹è±¡ File</span><br><span class="line"></span><br><span class="line">  //ä»æ–‡ä»¶å¯¹è±¡ä¸­è¯»å–æ•°æ®</span><br><span class="line">  let fr = new FileReader();</span><br><span class="line">  //fr.readAsText(f0); //ä»æ–‡ä»¶ä¸­è¯»å–æ–‡æœ¬å­—ç¬¦ä¸²</span><br><span class="line">  fr.readAsDataURL(f0); //ä»æ–‡ä»¶ä¸­è¯»å–URLæ•°æ®</span><br><span class="line">  fr.onload = function()&#123;</span><br><span class="line">    console.log(&apos;è¯»å–æ–‡ä»¶å®Œæˆ&apos;)</span><br><span class="line">    console.log(fr.result);</span><br><span class="line">    let img = new Image();</span><br><span class="line">    img.src = fr.result; //URLæ•°æ®</span><br><span class="line">    container.appendChild(img);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="demo-å…ƒç´ å•å‘æ‹–åŠ¨"><a href="#demo-å…ƒç´ å•å‘æ‹–åŠ¨" class="headerlink" title="demo-å…ƒç´ å•å‘æ‹–åŠ¨"></a>demo-å…ƒç´ å•å‘æ‹–åŠ¨</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">//æ ·å¼</span><br><span class="line">div &#123;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  border: 1px solid red;</span><br><span class="line">  float: left;</span><br><span class="line">  margin: 10px;</span><br><span class="line">&#125;</span><br><span class="line">div:nth-child(2) &#123;</span><br><span class="line">  border: 1px solid green;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">p &#123;</span><br><span class="line">  height: 25px;</span><br><span class="line">  background-color: pink;</span><br><span class="line">  line-height: 25px;</span><br><span class="line">  text-align: center;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//dom</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;</span><br><span class="line">  &lt;p id=&quot;p1&quot; draggable=&quot;true&quot;&gt;æ‹–æ‹½å†…å®¹1&lt;/p&gt;</span><br><span class="line">  &lt;p id=&quot;p2&quot; draggable=&quot;true&quot;&gt;æ‹–æ‹½å†…å®¹2&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">//javascript</span><br><span class="line">let obj = null; // ç”¨äºå­˜æ”¾æˆ‘ä»¬æ‹–æ”¾å¯¹è±¡ æºå¯¹è±¡</span><br><span class="line">document.ondragstart = function(event) &#123;</span><br><span class="line"></span><br><span class="line">  obj = event.target;  // æŠŠå½“å‰å¯¹è±¡ç»™ obj ç„¶åè¿½åŠ åˆ° æ–°ç›®æ ‡å¯¹è±¡é‡Œé¢å°±é˜”ä»¥äº†</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let target = document.querySelector(&quot;#div2&quot;);</span><br><span class="line"></span><br><span class="line">target.ondragover = function(e) &#123;</span><br><span class="line">  // å¦‚æœæƒ³è¦è§¦å‘ ondrop äº‹ä»¶ åˆ™éœ€è¦åœ¨over é‡Œé¢ é˜»æ­¢  é»˜è®¤è¡Œä¸º</span><br><span class="line">  return false;</span><br><span class="line">  // e.preventDefault()</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">target.ondrop = function() &#123;</span><br><span class="line">  // ç›®æ ‡å¯¹è±¡. appendChild(æºå¯¹è±¡)</span><br><span class="line">  this.appendChild(obj);</span><br><span class="line">    // æ‹–æ‹½çš„æ—¶å€™ ï¼Œä¸ç”¨åˆ é™¤åŸæ¥çš„ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="demo-åƒåœ¾ç®±æ•ˆæœ"><a href="#demo-åƒåœ¾ç®±æ•ˆæœ" class="headerlink" title="demo-åƒåœ¾ç®±æ•ˆæœ"></a>demo-åƒåœ¾ç®±æ•ˆæœ</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">//style</span><br><span class="line">div &#123;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  border: 1px solid red;</span><br><span class="line">  float: left;</span><br><span class="line">  margin: 10px;</span><br><span class="line">&#125;</span><br><span class="line">div:nth-child(2) &#123;</span><br><span class="line">  width: 300px;</span><br><span class="line">  line-height: 200px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  border: 1px solid green;</span><br><span class="line">&#125;</span><br><span class="line">p &#123;</span><br><span class="line">  height: 25px;</span><br><span class="line">  background-color: pink;</span><br><span class="line">  line-height: 25px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  margin-top: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//dom</span><br><span class="line">&lt;div id=&quot;div1&quot;&gt;</span><br><span class="line">  &lt;p id=&quot;p1&quot; class=&quot;drag&quot; draggable=&quot;true&quot;&gt;æ‹–æ‹½å†…å®¹1&lt;/p&gt;</span><br><span class="line">  &lt;p id=&quot;p2&quot; class=&quot;drag&quot; draggable=&quot;true&quot;&gt;æ‹–æ‹½å†…å®¹2&lt;/p&gt;</span><br><span class="line">  &lt;p id=&quot;p3&quot; class=&quot;drag&quot; draggable=&quot;true&quot;&gt;æ‹–æ‹½å†…å®¹3&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div id=&quot;div2&quot;&gt;åƒåœ¾ç®±&lt;/div&gt;</span><br><span class="line"></span><br><span class="line">//js	</span><br><span class="line">let dragList = document.querySelectorAll(&apos;.drag&apos;);//æ‰¾åˆ°å…¨éƒ¨på…ƒç´ </span><br><span class="line">for(let i=0; i&lt;dragList.length; i++)&#123; //éå†på…ƒç´ </span><br><span class="line">  let p = dragList[i];</span><br><span class="line">  p.ondragstart = function(e) &#123;</span><br><span class="line">    e.dataTransfer.setData(&apos;PlaneID&apos;,this.id);//ä¿å­˜æ•°æ®--è¯¥imgå…ƒç´ çš„id</span><br><span class="line">      console.log(&apos;this.id :&apos;, this.id); //å…ƒç´ çš„idå±æ€§å€¼</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let target = document.querySelector(&quot;#div2&quot;);</span><br><span class="line"></span><br><span class="line">target.ondragover = function(e) &#123;</span><br><span class="line">  return false;</span><br><span class="line">  // e.preventDefault()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">target.ondrop = function(e) &#123;</span><br><span class="line">  //åˆ é™¤è¢«æ‹–åŠ¨çš„æºå¯¹è±¡</span><br><span class="line">  let id = e.dataTransfer.getData(&apos;PlaneID&apos;);//å¾—åˆ°æ•°æ®--idå€¼</span><br><span class="line">  let p = document.getElementById(id); //æ ¹æ®idå€¼æ‰¾åˆ°ç›¸å…³çš„å…ƒç´ </span><br><span class="line">  p.parentNode.removeChild(p);  //ä»çˆ¶å…ƒç´ ä¸­åˆ é™¤å­èŠ‚ç‚¹</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="demo-æ¥å›æ‹–åŠ¨å…ƒç´ "><a href="#demo-æ¥å›æ‹–åŠ¨å…ƒç´ " class="headerlink" title="demo-æ¥å›æ‹–åŠ¨å…ƒç´ "></a>demo-æ¥å›æ‹–åŠ¨å…ƒç´ </h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">//css</span><br><span class="line">section&#123;</span><br><span class="line">  border: 1px solid red;</span><br><span class="line">  width: 606px;</span><br><span class="line">  height: 202px;</span><br><span class="line">&#125;</span><br><span class="line">div &#123;</span><br><span class="line">  width: 200px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  border: 1px solid red;</span><br><span class="line">  float: left;</span><br><span class="line">&#125;</span><br><span class="line">div:nth-child(2) &#123;</span><br><span class="line">  border: 1px solid green;</span><br><span class="line">&#125;</span><br><span class="line">div:nth-child(3)&#123;</span><br><span class="line">  border: 1px solid blue;</span><br><span class="line">&#125;</span><br><span class="line">p &#123;</span><br><span class="line">  height: 25px;</span><br><span class="line">  background-color: pink;</span><br><span class="line">  line-height: 25px;</span><br><span class="line">  text-align: center;</span><br><span class="line">  margin-bottom: 5px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//dom</span><br><span class="line">&lt;section id=&quot;section&quot;&gt;</span><br><span class="line">  &lt;div id=&quot;div1&quot;&gt;</span><br><span class="line">    &lt;p id=&quot;p1&quot; draggable=&quot;true&quot;&gt;æ‹–æ‹½å†…å®¹1&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;p2&quot; draggable=&quot;true&quot;&gt;æ‹–æ‹½å†…å®¹2&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;p3&quot; draggable=&quot;true&quot;&gt;æ‹–æ‹½å†…å®¹3&lt;/p&gt;</span><br><span class="line">    &lt;p id=&quot;p4&quot; draggable=&quot;true&quot;&gt;æ‹–æ‹½å†…å®¹4&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;div id=&quot;div2&quot;&gt;&lt;/div&gt;</span><br><span class="line">  &lt;div id=&quot;div3&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;/section&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//js	</span><br><span class="line">let section = document.getElementById(&apos;section&apos;)</span><br><span class="line">section.ondragstart = function(event) &#123;</span><br><span class="line">  // å½“æˆ‘ä»¬å¼€å§‹æ‹–æ‹½çš„æ—¶å€™ï¼Œå°±å­˜å‚¨æ•°æ®</span><br><span class="line">  // è®°å½• å½“å‰æºå¯¹è±¡çš„id åå­—</span><br><span class="line">  event.dataTransfer.setData(&quot;dragId&quot;, event.target.id);  </span><br><span class="line">&#125;</span><br><span class="line">	</span><br><span class="line">section.ondragover = function(e) &#123;</span><br><span class="line">  return false;</span><br><span class="line">  // e.preventDefault()</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line">section.ondrop = function(event) &#123;</span><br><span class="line">  </span><br><span class="line">  // è·å– dataTransferé‡Œé¢çš„æ•°æ®</span><br><span class="line">  var id = event.dataTransfer.getData(&quot;dragId&quot;);</span><br><span class="line">  event.target.appendChild(document.getElementById(id));</span><br><span class="line">  // å› ä¸ºæˆ‘ä»¬è¿½åŠ çš„ æºå¯¹è±¡p  id åªæ˜¯idåå­—ï¼Œéœ€è¦é€šè¿‡id è·å–å…ƒç´  è¿½åŠ åˆ°ç›®æ ‡å¯¹è±¡é‡Œé¢</span><br><span class="line">  // æ‰€ä»¥æˆ‘ä»¬ document.getElementById(id)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="storageæœ¬åœ°å­˜å‚¨"><a href="#storageæœ¬åœ°å­˜å‚¨" class="headerlink" title="storageæœ¬åœ°å­˜å‚¨"></a>storageæœ¬åœ°å­˜å‚¨</h2><ul>
<li>éšç€äº’è”ç½‘çš„å¿«é€Ÿå‘å±•ï¼ŒåŸºäºç½‘é¡µçš„åº”ç”¨è¶Šæ¥è¶Šæ™®éï¼ŒåŒæ—¶ä¹Ÿå˜çš„è¶Šæ¥è¶Šå¤æ‚ï¼Œä¸ºäº†æ»¡è¶³å„ç§å„æ ·çš„éœ€æ±‚ï¼Œä¼šç»å¸¸æ€§åœ¨æœ¬åœ°å­˜å‚¨å¤§é‡çš„æ•°æ®ï¼ŒHTML5è§„èŒƒæå‡ºäº†ç›¸å…³è§£å†³æ–¹æ¡ˆã€‚</li>
</ul>
<h3 id="å­˜å‚¨ç‰¹æ€§"><a href="#å­˜å‚¨ç‰¹æ€§" class="headerlink" title="å­˜å‚¨ç‰¹æ€§"></a>å­˜å‚¨ç‰¹æ€§</h3><ol>
<li><p>è®¾ç½®ã€è¯»å–æ–¹ä¾¿ã€é¡µé¢åˆ·æ–°ä¸ä¸¢å¤±æ•°æ®</p>
</li>
<li><p>å®¹é‡è¾ƒå¤§ï¼ŒsessionStorageçº¦5Mã€localStorageçº¦20M</p>
</li>
<li><p>åªèƒ½å­˜å‚¨å­—ç¬¦ä¸²ï¼Œå¯ä»¥å°†å¯¹è±¡JSON.stringify() ç¼–ç åå­˜å‚¨</p>
</li>
</ol>
<h3 id="æ–¹æ³•è¯¦è§£"><a href="#æ–¹æ³•è¯¦è§£" class="headerlink" title="æ–¹æ³•è¯¦è§£"></a>æ–¹æ³•è¯¦è§£</h3><ul>
<li><p>setItem(key, value) è®¾ç½®å­˜å‚¨å†…å®¹</p>
</li>
<li><p>getItem(key) è¯»å–å­˜å‚¨å†…å®¹</p>
</li>
<li><p>removeItem(key) åˆ é™¤é”®å€¼ä¸ºkeyçš„å­˜å‚¨å†…å®¹</p>
</li>
<li><p>clear() æ¸…ç©ºæ‰€æœ‰å­˜å‚¨å†…å®¹</p>
</li>
</ul>
<h3 id="window-sessionStorage"><a href="#window-sessionStorage" class="headerlink" title="window.sessionStorage"></a>window.sessionStorage</h3><ol>
<li><p>ç”Ÿå‘½å‘¨æœŸä¸ºå…³é—­æµè§ˆå™¨çª—å£</p>
</li>
<li><p>åœ¨åŒä¸€ä¸ªçª—å£(é¡µé¢)ä¸‹æ•°æ®å¯ä»¥å…±äº«</p>
</li>
</ol>
<ul>
<li>å³å°èŒƒå›´ çŸ­å‘¨æœŸ </li>
</ul>
<h3 id="window-localStorage"><a href="#window-localStorage" class="headerlink" title="window.localStorage"></a>window.localStorage</h3><ol>
<li><p>æ°¸ä¹…ç”Ÿæ•ˆï¼Œé™¤éæ‰‹åŠ¨åˆ é™¤ å…³é—­é¡µé¢ä¹Ÿä¼šå­˜åœ¨</p>
</li>
<li><p>å¯ä»¥å¤šçª—å£ï¼ˆé¡µé¢ï¼‰å…±äº«ï¼ˆåŒä¸€æµè§ˆå™¨å¯ä»¥å…±äº«ï¼‰</p>
</li>
</ol>
<ul>
<li>å³å¤§èŒƒå›´ é•¿å‘¨æœŸ</li>
</ul>
<h3 id="å…¶å®ƒæ–°çš„å­˜å‚¨æ–¹æ¡ˆ"><a href="#å…¶å®ƒæ–°çš„å­˜å‚¨æ–¹æ¡ˆ" class="headerlink" title="å…¶å®ƒæ–°çš„å­˜å‚¨æ–¹æ¡ˆ"></a>å…¶å®ƒæ–°çš„å­˜å‚¨æ–¹æ¡ˆ</h3><ul>
<li>WebSQL</li>
<li>IndexDB</li>
</ul>
<h3 id="demo-window-sessionStorage"><a href="#demo-window-sessionStorage" class="headerlink" title="demo-window.sessionStorage"></a>demo-window.sessionStorage</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; id=&quot;username&quot;&gt; &lt;br /&gt;&lt;br /&gt;</span><br><span class="line">&lt;button id=&quot;setData&quot;&gt;è®¾ç½®æ•°æ®&lt;/button&gt;</span><br><span class="line">&lt;button id=&quot;getData&quot;&gt;è·å–æ•°æ®&lt;/button&gt;</span><br><span class="line">&lt;button id=&quot;delData&quot;&gt;åˆ é™¤æ•°æ®&lt;/button&gt;</span><br><span class="line">&lt;button id=&quot;getAge&quot;&gt;getAge&lt;/button&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var username = document.querySelector(&quot;#username&quot;);</span><br><span class="line">// ç‚¹å‡»æŒ‰é’®å­˜å–æ•°æ® </span><br><span class="line">window.sessionStorage.setItem(&quot;age&quot;, 18);</span><br><span class="line">window.sessionStorage.setItem(&quot;address&quot;, &quot;åŒ—äº¬&quot;);</span><br><span class="line"></span><br><span class="line">getAge.onclick = function () &#123;</span><br><span class="line">  alert(window.sessionStorage.getItem(&quot;address&quot;))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.querySelector(&quot;#setData&quot;).onclick = function() &#123;</span><br><span class="line">// ç‚¹å‡»ä¹‹åå¾—åˆ° username é‡Œé¢å€¼</span><br><span class="line">  var val = username.value;  </span><br><span class="line">  // å­˜å‚¨æ•°æ®</span><br><span class="line">  // window.sessionStorage.setItem(key, value) è®¾ç½®å­˜å‚¨å†…å®¹</span><br><span class="line">  window.sessionStorage.setItem(&quot;username&quot;, val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  // ç‚¹å‡»æŒ‰é’®è·å¾—æ•°æ® </span><br><span class="line">document.querySelector(&quot;#getData&quot;).onclick = function() &#123;</span><br><span class="line"></span><br><span class="line">  // è·å¾—æ•°æ®</span><br><span class="line">  // window.sessionStorage.getItem(key) è¯»å–å­˜å‚¨å†…å®¹</span><br><span class="line">  alert(window.sessionStorage.getItem(&quot;username&quot;)) ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.querySelector(&quot;#delData&quot;).onclick = function() &#123;</span><br><span class="line"></span><br><span class="line">  // window.sessionStorage.removeItem(key) åˆ é™¤é”®å€¼ä¸ºkeyçš„å­˜å‚¨å†…å®¹</span><br><span class="line">  // window.sessionStorage.removeItem(&quot;username&quot;);</span><br><span class="line"></span><br><span class="line">  // åˆ é™¤æ‰€æœ‰çš„ æ•°æ® </span><br><span class="line">  window.sessionStorage.clear();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="demo-window-localStorage"><a href="#demo-window-localStorage" class="headerlink" title="demo-window.localStorage"></a>demo-window.localStorage</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;input type=&quot;text&quot; id=&quot;username&quot;&gt; &lt;br /&gt;&lt;br /&gt;</span><br><span class="line">&lt;button id=&quot;setData&quot;&gt;è®¾ç½®æ•°æ®-userName&lt;/button&gt;</span><br><span class="line">&lt;button id=&quot;getData&quot;&gt;è·å–æ•°æ®-userName&lt;/button&gt;</span><br><span class="line">&lt;button id=&quot;delData&quot;&gt;åˆ é™¤æ•°æ®-userName&lt;/button&gt;</span><br><span class="line"></span><br><span class="line">var username = document.querySelector(&quot;#username&quot;);</span><br><span class="line"></span><br><span class="line">  window.localStorage.setItem(&quot;age&quot;, 18);</span><br><span class="line">  window.localStorage.setItem(&quot;address&quot;, &quot;åŒ—äº¬&quot;);</span><br><span class="line"></span><br><span class="line">document.querySelector(&quot;#setData&quot;).onclick = function() &#123;</span><br><span class="line">    var val = username.value;  </span><br><span class="line">    window.localStorage.setItem(&quot;username&quot;, val);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.querySelector(&quot;#getData&quot;).onclick = function() &#123;</span><br><span class="line">  alert(window.localStorage.getItem(&quot;username&quot;)) ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">document.querySelector(&quot;#delData&quot;).onclick = function() &#123;</span><br><span class="line">  window.localStorage.removeItem(&quot;username&quot;);</span><br><span class="line">  // åˆ é™¤æ‰€æœ‰çš„ æ•°æ® </span><br><span class="line">  // window.localStorage.clear();  è¿™ä¸ªæ¸…æ¥šè¦æ…ç”¨ </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="manifest-appcacheåº”ç”¨ç¼“å­˜"><a href="#manifest-appcacheåº”ç”¨ç¼“å­˜" class="headerlink" title="manifest-appcacheåº”ç”¨ç¼“å­˜"></a>manifest-appcacheåº”ç”¨ç¼“å­˜</h2><ul>
<li>HTML5ä¸­æˆ‘ä»¬å¯ä»¥è½»æ¾çš„æ„å»ºä¸€ä¸ªç¦»çº¿ï¼ˆæ— ç½‘ç»œçŠ¶æ€ï¼‰åº”ç”¨ï¼Œåªéœ€è¦åˆ›å»ºä¸€ä¸ªcache manifestæ–‡ä»¶ã€‚</li>
</ul>
<h3 id="ç¼“å­˜ä¼˜åŠ¿"><a href="#ç¼“å­˜ä¼˜åŠ¿" class="headerlink" title="ç¼“å­˜ä¼˜åŠ¿"></a>ç¼“å­˜ä¼˜åŠ¿</h3><ol>
<li><p>å¯é…ç½®éœ€è¦ç¼“å­˜çš„èµ„æº</p>
</li>
<li><p>ç½‘ç»œæ— è¿æ¥åº”ç”¨ä»å¯ç”¨</p>
</li>
<li><p>æœ¬åœ°è¯»å–ç¼“å­˜èµ„æºï¼Œæå‡è®¿é—®é€Ÿåº¦ï¼Œå¢å¼ºç”¨æˆ·ä½“éªŒ</p>
</li>
<li><p>å‡å°‘è¯·æ±‚ï¼Œç¼“è§£æœåŠ¡å™¨è´Ÿæ‹…</p>
</li>
</ol>
<h3 id="ç¼“å­˜æ¸…å•"><a href="#ç¼“å­˜æ¸…å•" class="headerlink" title="ç¼“å­˜æ¸…å•"></a>ç¼“å­˜æ¸…å•</h3><ul>
<li><p>ä¸€ä¸ªæ™®é€šæ–‡æœ¬æ–‡ä»¶ï¼Œå…¶ä¸­åˆ—å‡ºäº†æµè§ˆå™¨åº”ç¼“å­˜ä»¥ä¾›ç¦»çº¿è®¿é—®çš„èµ„æºï¼Œæ¨èä½¿ç”¨.appcacheä¸ºåç¼€å</p>
</li>
<li><p>ä¾‹å¦‚æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªåä¸ºdemo.appcacheçš„æ–‡ä»¶ï¼Œç„¶ååœ¨éœ€è¦åº”ç”¨ç¼“å­˜åœ¨é¡µé¢çš„æ ¹å…ƒç´ (html)æ·»åŠ å±æ€§manifest=â€demo.appcacheâ€ï¼Œè·¯å¾„è¦ä¿è¯æ­£ç¡®ã€‚</p>
</li>
</ul>
<h3 id="manifestæ–‡ä»¶æ ¼å¼"><a href="#manifestæ–‡ä»¶æ ¼å¼" class="headerlink" title="manifestæ–‡ä»¶æ ¼å¼"></a>manifestæ–‡ä»¶æ ¼å¼</h3><ol>
<li><p>é¡¶è¡Œå†™CACHE MANIFEST</p>
</li>
<li><p>CACHE: æ¢è¡Œ æŒ‡å®šæˆ‘ä»¬éœ€è¦ç¼“å­˜çš„é™æ€èµ„æºï¼Œå¦‚.cssã€imageã€jsç­‰</p>
</li>
<li><p>NETWORK: æ¢è¡Œ æŒ‡å®šéœ€è¦åœ¨çº¿è®¿é—®çš„èµ„æºï¼Œå¯ä½¿ç”¨é€šé…ç¬¦</p>
</li>
<li><p>FALLBACK: æ¢è¡Œ å½“è¢«ç¼“å­˜çš„æ–‡ä»¶æ‰¾ä¸åˆ°æ—¶çš„å¤‡ç”¨èµ„æº</p>
</li>
</ol>
<h3 id="ç¼“å­˜å…¶å®ƒçŸ¥è¯†"><a href="#ç¼“å­˜å…¶å®ƒçŸ¥è¯†" class="headerlink" title="ç¼“å­˜å…¶å®ƒçŸ¥è¯†"></a>ç¼“å­˜å…¶å®ƒçŸ¥è¯†</h3><ol>
<li><p>CACHE: å¯ä»¥çœç•¥ï¼Œè¿™ç§æƒ…å†µä¸‹å°†éœ€è¦ç¼“å­˜çš„èµ„æºå†™åœ¨CACHE MANIFEST</p>
</li>
<li><p>å¯ä»¥æŒ‡å®šå¤šä¸ªCACHE: NETWORK: FALLBACK:ï¼Œæ— é¡ºåºé™åˆ¶</p>
</li>
<li><p>ï¼ƒè¡¨ç¤ºæ³¨é‡Šï¼Œåªæœ‰å½“demo.appcacheæ–‡ä»¶å†…å®¹å‘ç”Ÿæ”¹å˜æ—¶æˆ–è€…æ‰‹åŠ¨æ¸…é™¤ç¼“å­˜åï¼Œæ‰ä¼šé‡æ–°ç¼“å­˜ã€‚</p>
</li>
<li><p>chrome å¯ä»¥é€šè¿‡chrome://appcache-internals/å·¥å…·å’Œç¦»çº¿ï¼ˆofflineï¼‰æ¨¡å¼æ¥è°ƒè¯•ç®¡ç†åº”ç”¨ç¼“å­˜</p>
</li>
</ol>
<h3 id="demo-å›¾ç‰‡ç¼“å­˜"><a href="#demo-å›¾ç‰‡ç¼“å­˜" class="headerlink" title="demo-å›¾ç‰‡ç¼“å­˜"></a>demo-å›¾ç‰‡ç¼“å­˜</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;zh-CN&quot; manifest=&quot;study.appcache&quot;&gt;</span><br><span class="line"> &lt;!-- study.appcache å¼•å…¥ ç¼“å­˜æ¸…å• --&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">	&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">	&lt;title&gt;ç¼“å­˜&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">	&lt;img src=&quot;images/img1.jpg&quot; &gt;</span><br><span class="line">	&lt;img src=&quot;images/img2.jpg&quot; &gt;</span><br><span class="line">	&lt;img src=&quot;images/img3.jpg&quot; &gt;</span><br><span class="line">	&lt;img src=&quot;images/img4.jpg&quot; &gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<ul>
<li>ç¼“å­˜æ¸…å•study.appcacheæ–‡ä»¶</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">CACHE MANIFEST</span><br><span class="line"># ä¸Šé¢å¿…é¡»æ˜¯ç¬¬ä¸€è¡Œ </span><br><span class="line">CACHE:</span><br><span class="line"></span><br><span class="line">#æ­¤éƒ¨åˆ†å†™éœ€è¦ç¼“å­˜çš„èµ„æº ï¼ˆ#æ˜¯æ³¨é‡Šçš„æ„æ€ï¼‰</span><br><span class="line"></span><br><span class="line">./images/img1.jpg</span><br><span class="line">./images/img2.jpg</span><br><span class="line">./images/img3.jpg</span><br><span class="line">./images/img4.jpg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">NETWORK:</span><br><span class="line"></span><br><span class="line">#æ­¤éƒ¨åˆ†è¦å†™éœ€è¦æœ‰ç½‘ç»œæ‰å¯è®¿é—®çš„èµ„æºï¼Œæ— ç½‘ç»œä¸è®¿é—®</span><br><span class="line"></span><br><span class="line">./images/img1.jpg</span><br><span class="line">./images/img2.jpg</span><br><span class="line"></span><br><span class="line">#*</span><br><span class="line"></span><br><span class="line">FALLBACK:</span><br><span class="line"></span><br><span class="line">#å½“è®¿é—®ä¸åˆ°æŸä¸ªèµ„æºçš„æƒ…å†µä¸‹ï¼Œè‡ªåŠ¨ç”±å¦ä¸€ä¸ªèµ„æºæ›¿æ¢</span><br><span class="line"></span><br><span class="line">./images/img4.jpg  ./images/img5.jpg</span><br></pre></td></tr></table></figure>
<h2 id="audio-video-å¤šåª’ä½“"><a href="#audio-video-å¤šåª’ä½“" class="headerlink" title="audio/video-å¤šåª’ä½“"></a>audio/video-å¤šåª’ä½“</h2><ul>
<li><a href="https://www.w3school.com.cn/tags/html_ref_audio_video_dom.asp" target="_blank" rel="noopener">w3c</a></li>
</ul>
<h3 id="æ–¹æ³•ï¼š"><a href="#æ–¹æ³•ï¼š" class="headerlink" title="æ–¹æ³•ï¼š"></a>æ–¹æ³•ï¼š</h3><ul>
<li>load() é‡æ–°åŠ è½½éŸ³é¢‘/è§†é¢‘å…ƒç´ </li>
<li>play() å¼€å§‹æ’­æ”¾éŸ³é¢‘/è§†é¢‘</li>
<li>pause() æš‚åœå½“å‰æ’­æ”¾çš„éŸ³é¢‘/è§†é¢‘</li>
</ul>
<h3 id="å±æ€§ï¼š"><a href="#å±æ€§ï¼š" class="headerlink" title="å±æ€§ï¼š"></a>å±æ€§ï¼š</h3><ul>
<li>autoplay    è®¾ç½®æˆ–è¿”å›æ˜¯å¦åœ¨åŠ è½½å®Œæˆåéšå³æ’­æ”¾éŸ³é¢‘/è§†é¢‘</li>
<li>controls    è®¾ç½®æˆ–è¿”å›éŸ³é¢‘/è§†é¢‘æ˜¯å¦æ˜¾ç¤ºæ§ä»¶ï¼ˆæ¯”å¦‚æ’­æ”¾/æš‚åœç­‰ï¼‰</li>
<li>currentSrc    è¿”å›å½“å‰éŸ³é¢‘/è§†é¢‘çš„ URL</li>
<li>currentTime    è®¾ç½®æˆ–è¿”å›éŸ³é¢‘/è§†é¢‘ä¸­çš„å½“å‰æ’­æ”¾ä½ç½®ï¼ˆä»¥ç§’è®¡ï¼‰</li>
<li>duration    è¿”å›å½“å‰éŸ³é¢‘/è§†é¢‘çš„é•¿åº¦ï¼ˆä»¥ç§’è®¡ï¼‰</li>
<li>ended    è¿”å›éŸ³é¢‘/è§†é¢‘çš„æ’­æ”¾æ˜¯å¦å·²ç»“æŸ</li>
<li>loop    è®¾ç½®æˆ–è¿”å›éŸ³é¢‘/è§†é¢‘æ˜¯å¦åº”åœ¨ç»“æŸæ—¶é‡æ–°æ’­æ”¾</li>
<li>paused    è®¾ç½®æˆ–è¿”å›éŸ³é¢‘/è§†é¢‘æ˜¯å¦æš‚åœ</li>
<li>ç­‰ç­‰</li>
</ul>
<h3 id="äº‹ä»¶ï¼š"><a href="#äº‹ä»¶ï¼š" class="headerlink" title="äº‹ä»¶ï¼š"></a>äº‹ä»¶ï¼š</h3><ul>
<li>oncanplay å½“æµè§ˆå™¨å¯ä»¥æ’­æ”¾éŸ³é¢‘/è§†é¢‘æ—¶  </li>
<li>ontimeupdate å½“ç›®å‰çš„æ’­æ”¾ä½ç½®å·²æ›´æ”¹æ—¶</li>
<li>ended    å½“ç›®å‰çš„æ’­æ”¾åˆ—è¡¨å·²ç»“æŸæ—¶</li>
<li>error    å½“åœ¨éŸ³é¢‘/è§†é¢‘åŠ è½½æœŸé—´å‘ç”Ÿé”™è¯¯æ—¶</li>
<li>progress    å½“æµè§ˆå™¨æ­£åœ¨ä¸‹è½½éŸ³é¢‘/è§†é¢‘æ—¶</li>
<li><p>ç­‰ç­‰</p>
</li>
<li><p><a href="https://www.awaimai.com/2053.html" target="_blank" rel="noopener">å¤§ç¥åšå®¢video.js</a></p>
</li>
</ul>
<p><div style="width:100%;height:1px;background-color:pink;opacity:.7"></div></p>
<center><img width="50px" height="50px" src="https://www.z4a.net/images/2019/05/27/20190527-20267.th.png" alt="QQ" border="0"><a target="_blank" style="color:skyblue;font-weight:bold;" href="http://wpa.qq.com/msgrd?v=3&uin=2642816105&site=qq&menu=yes">æœ‰äº‹æ‚¨Qæˆ‘ğŸ‘‡</a></center>

      
    </div>
    
    
    

    
      <div>
        
<div style="text-align:center;color: #006400;font-size:14px;">
	------ The Happy Ending<i class="fa fa-paw"></i>Thanks for your reading! ------</div>

      </div>
    

    

    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>å†™çš„ä¸é”™å˜›ï¼Œèµä½ åƒğŸ¬</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>ğŸ¤ğŸ¤ğŸ¤</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechatpay.jpg" alt="æ¢¦ä¸æˆ å¾®ä¿¡æ”¯ä»˜">
        <p>å¾®ä¿¡æ”¯ä»˜</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.jpg" alt="æ¢¦ä¸æˆ æ”¯ä»˜å®">
        <p>æ”¯ä»˜å®</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>æœ¬æ–‡ä½œè€…ï¼š</strong>
    æ¢¦ä¸æˆ
  </li>
  <li class="post-copyright-link">
    <strong>åŸå§‹é“¾æ¥ï¼š</strong>
    <a href="https://shulu520.com/H5/H5-newApi/" title="H5-newApi">https://shulu520.com/H5/H5-newApi/</a>
  </li>
  <li class="post-copyright-license">
    <strong>ç‰ˆæƒå£°æ˜ï¼š </strong>
    æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> è®¸å¯åè®®ã€‚æ¬¢è¿è½¬è½½ï¼Œè¯·ä¿ç•™åŸæ–‡é“¾æ¥åŠä½œè€…
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/H5-newApi/" rel="tag"><i class="fa fa-tag"></i> H5-newApi</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        
          <div class="wp_rating">
            <div id="wpac-rating"></div>
          </div>
        

        

        
          
          <div id="needsharebutton-postbottom">
            <span class="btn">
              <i class="fa fa-share-alt" aria-hidden="true"></i>
            </span>
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/H5/H5-Document-header/" rel="next" title="H5-Document-header">
                <i class="fa fa-chevron-left"></i> H5-Document-header
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/npm/npm/" rel="prev" title="npm">
                npm <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
        
<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          

  
    <div class="comments" id="comments">
      <div id="lv-container" data-id="city" data-uid="MTAyMC80MzgyMi8yMDM1Nw=="></div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            æ–‡ç« ç›®å½•
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            ç«™ç‚¹æ¦‚è§ˆ
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/head_icon.gif" alt="æ¢¦ä¸æˆ">
            
              <p class="site-author-name" itemprop="name">æ¢¦ä¸æˆ</p>
              <p class="site-description motion-element" itemprop="description">å›å­ç”Ÿéå¼‚ä¹Ÿï¼Œå–„å‡äºç‰©ä¹Ÿ</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">106</span>
                  <span class="site-state-item-name">æ—¥å¿—</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">56</span>
                  <span class="site-state-item-name">åˆ†ç±»</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">54</span>
                  <span class="site-state-item-name">æ ‡ç­¾</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/rss2.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/lqyasl" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:2642816105@qq.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.zhihu.com/people/wu-jia-yi-26-93/activities" target="_blank" title="çŸ¥ä¹">
                      
                        <i class="fa fa-fw fa-gratipay"></i>çŸ¥ä¹</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="https://www.jianshu.com/u/c3c177adad8e" target="_blank" title="ç®€ä¹¦">
                      
                        <i class="fa fa-fw fa-globe"></i>ç®€ä¹¦</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#onlineç½‘ç»œçŠ¶æ€"><span class="nav-number">1.</span> <span class="nav-text">onlineç½‘ç»œçŠ¶æ€</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#dom-requestFullScreen-å…¨å±æ˜¾ç¤º"><span class="nav-number">2.</span> <span class="nav-text">dom.requestFullScreen()å…¨å±æ˜¾ç¤º</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#input-type-fileæ–‡ä»¶è¯»å–å¹¶æ˜¾ç¤º"><span class="nav-number">3.</span> <span class="nav-text">input type=fileæ–‡ä»¶è¯»å–å¹¶æ˜¾ç¤º</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#demo-å¯ä»¥æŠŠä¸Šä¼ çš„æ–‡ä»¶ï¼Œæ–‡æœ¬å†…å®¹æ˜¾ç¤ºåˆ°é¡µé¢ï¼Ÿ"><span class="nav-number">3.1.</span> <span class="nav-text">demo-å¯ä»¥æŠŠä¸Šä¼ çš„æ–‡ä»¶ï¼Œæ–‡æœ¬å†…å®¹æ˜¾ç¤ºåˆ°é¡µé¢ï¼Ÿ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä¸Šä¼ å®Œæ¯•å›¾ç‰‡æ˜¾ç¤ºç¼©ç•¥å›¾-è‡ªå·±å†™imgçš„å®½é«˜-åˆ°é¡µé¢ä¸Š"><span class="nav-number">3.2.</span> <span class="nav-text">ä¸Šä¼ å®Œæ¯•å›¾ç‰‡æ˜¾ç¤ºç¼©ç•¥å›¾(è‡ªå·±å†™imgçš„å®½é«˜)åˆ°é¡µé¢ä¸Š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#fileså¯¹è±¡"><span class="nav-number">3.3.</span> <span class="nav-text">fileså¯¹è±¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#FileReaderå¯¹è±¡"><span class="nav-number">3.4.</span> <span class="nav-text">FileReaderå¯¹è±¡</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#åœ°ç†å®šä½"><span class="nav-number">4.</span> <span class="nav-text">åœ°ç†å®šä½</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç™¾åº¦åœ°å›¾"><span class="nav-number">4.1.</span> <span class="nav-text">ç™¾åº¦åœ°å›¾</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#æ‹–æ‹½"><span class="nav-number">5.</span> <span class="nav-text">æ‹–æ‹½</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ‹–æ‹½å’Œé‡Šæ”¾"><span class="nav-number">5.1.</span> <span class="nav-text">æ‹–æ‹½å’Œé‡Šæ”¾</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ‹–æ‹½APIçš„ç›¸å…³äº‹ä»¶"><span class="nav-number">5.2.</span> <span class="nav-text">æ‹–æ‹½APIçš„ç›¸å…³äº‹ä»¶</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åœ¨æ‹–åŠ¨çš„æºå¯¹è±¡äº‹ä»¶å’Œç›®æ ‡å¯¹è±¡äº‹ä»¶é—´ä¼ é€’æ•°æ®"><span class="nav-number">5.3.</span> <span class="nav-text">åœ¨æ‹–åŠ¨çš„æºå¯¹è±¡äº‹ä»¶å’Œç›®æ ‡å¯¹è±¡äº‹ä»¶é—´ä¼ é€’æ•°æ®</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTML5æ–°å¢çš„æ–‡ä»¶æ“ä½œå¯¹è±¡ï¼š"><span class="nav-number">5.4.</span> <span class="nav-text">HTML5æ–°å¢çš„æ–‡ä»¶æ“ä½œå¯¹è±¡ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demo-ä»æ¡Œé¢-å®¢æˆ·ç«¯ç”µè„‘-æ‹–æ‹½ä¸Šä¼ å¤´åƒ"><span class="nav-number">5.5.</span> <span class="nav-text">demo-ä»æ¡Œé¢(å®¢æˆ·ç«¯ç”µè„‘)æ‹–æ‹½ä¸Šä¼ å¤´åƒ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demo-å…ƒç´ å•å‘æ‹–åŠ¨"><span class="nav-number">5.6.</span> <span class="nav-text">demo-å…ƒç´ å•å‘æ‹–åŠ¨</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demo-åƒåœ¾ç®±æ•ˆæœ"><span class="nav-number">5.7.</span> <span class="nav-text">demo-åƒåœ¾ç®±æ•ˆæœ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demo-æ¥å›æ‹–åŠ¨å…ƒç´ "><span class="nav-number">5.8.</span> <span class="nav-text">demo-æ¥å›æ‹–åŠ¨å…ƒç´ </span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#storageæœ¬åœ°å­˜å‚¨"><span class="nav-number">6.</span> <span class="nav-text">storageæœ¬åœ°å­˜å‚¨</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#å­˜å‚¨ç‰¹æ€§"><span class="nav-number">6.1.</span> <span class="nav-text">å­˜å‚¨ç‰¹æ€§</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–¹æ³•è¯¦è§£"><span class="nav-number">6.2.</span> <span class="nav-text">æ–¹æ³•è¯¦è§£</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#window-sessionStorage"><span class="nav-number">6.3.</span> <span class="nav-text">window.sessionStorage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#window-localStorage"><span class="nav-number">6.4.</span> <span class="nav-text">window.localStorage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å…¶å®ƒæ–°çš„å­˜å‚¨æ–¹æ¡ˆ"><span class="nav-number">6.5.</span> <span class="nav-text">å…¶å®ƒæ–°çš„å­˜å‚¨æ–¹æ¡ˆ</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demo-window-sessionStorage"><span class="nav-number">6.6.</span> <span class="nav-text">demo-window.sessionStorage</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demo-window-localStorage"><span class="nav-number">6.7.</span> <span class="nav-text">demo-window.localStorage</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#manifest-appcacheåº”ç”¨ç¼“å­˜"><span class="nav-number">7.</span> <span class="nav-text">manifest-appcacheåº”ç”¨ç¼“å­˜</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¼“å­˜ä¼˜åŠ¿"><span class="nav-number">7.1.</span> <span class="nav-text">ç¼“å­˜ä¼˜åŠ¿</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¼“å­˜æ¸…å•"><span class="nav-number">7.2.</span> <span class="nav-text">ç¼“å­˜æ¸…å•</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#manifestæ–‡ä»¶æ ¼å¼"><span class="nav-number">7.3.</span> <span class="nav-text">manifestæ–‡ä»¶æ ¼å¼</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç¼“å­˜å…¶å®ƒçŸ¥è¯†"><span class="nav-number">7.4.</span> <span class="nav-text">ç¼“å­˜å…¶å®ƒçŸ¥è¯†</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#demo-å›¾ç‰‡ç¼“å­˜"><span class="nav-number">7.5.</span> <span class="nav-text">demo-å›¾ç‰‡ç¼“å­˜</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#audio-video-å¤šåª’ä½“"><span class="nav-number">8.</span> <span class="nav-text">audio/video-å¤šåª’ä½“</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#æ–¹æ³•ï¼š"><span class="nav-number">8.1.</span> <span class="nav-text">æ–¹æ³•ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å±æ€§ï¼š"><span class="nav-number">8.2.</span> <span class="nav-text">å±æ€§ï¼š</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#äº‹ä»¶ï¼š"><span class="nav-number">8.3.</span> <span class="nav-text">äº‹ä»¶ï¼š</span></a></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
            <span id="scrollpercent"><span>0</span>%</span>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

<div class="copyright">&copy; 2019 &mdash; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    
    <i class="fa fa-heartbeat"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">æ¢¦ä¸æˆ</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">æœ¬ç«™å­—æ•°å…±è®¡&#58;</span>
    
    <span title="æœ¬ç«™å­—æ•°å…±è®¡">98.7k</span>
  
</div>












<!-- ç½‘ç«™è¿è¡Œæ—¶é—´çš„è®¾ç½® -->
<span id="timeDate">è½½å…¥å¤©æ•°...</span>
<span id="times">è½½å…¥æ—¶åˆ†ç§’...</span>  
<script>
    var now = new Date();
    function createtime() {
        var grt= new Date("04/17/2019 11:28:36");//æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
        now.setTime(now.getTime()+250);
        days = (now - grt ) / 1000 / 60 / 60 / 24; dnum = Math.floor(days);
        hours = (now - grt ) / 1000 / 60 / 60 - (24 * dnum); hnum = Math.floor(hours);
        if(String(hnum).length ==1 ){hnum = "0" + hnum;} minutes = (now - grt ) / 1000 /60 - (24 * 60 * dnum) - (60 * hnum);
        mnum = Math.floor(minutes); if(String(mnum).length ==1 ){mnum = "0" + mnum;}
        seconds = (now - grt ) / 1000 - (24 * 60 * 60 * dnum) - (60 * 60 * hnum) - (60 * mnum);
        snum = Math.round(seconds); if(String(snum).length ==1 ){snum = "0" + snum;}
        document.getElementById("timeDate").innerHTML = "æœ¬ç«™å·²è¿è¡Œ "+dnum+" å¤© ";
        document.getElementById("times").innerHTML = hnum + " å°æ—¶ " + mnum + " åˆ† " + snum + " ç§’";
    }
setInterval("createtime()",250);
</script>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-users"></i> æ‚¨æ˜¯ç¬¬
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      ä½è®¿å®¢
    </span>
  

  
</div>








        
      </div>
    </footer>

    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  




  
  









  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three.min.js"></script>
  

  
  
    <script type="text/javascript" src="/lib/three/three-waves.min.js"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  
    <script type="text/javascript">
      (function(d, s) {
        var j, e = d.getElementsByTagName(s)[0];
        if (typeof LivereTower === 'function') { return; }
        j = d.createElement(s);
        j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
        j.async = true;
        e.parentNode.insertBefore(j, e);
      })(document, 'script');
    </script>
  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';        
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>


  
  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css">

  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>

  <script>
    
      pbOptions = {};
      
          pbOptions.iconStyle = "box";
      
          pbOptions.boxForm = "horizontal";
      
          pbOptions.position = "bottomCenter";
      
          pbOptions.networks = "Weibo,Douban,QQZone,Twitter,Facebook";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>

  
  <script type="text/javascript">
  wpac_init = window.wpac_init || [];
  wpac_init.push({widget: 'Rating', id: 18789,
    el: 'wpac-rating',
    color: 'fc6423'
  });
  (function() {
    if ('WIDGETPACK_LOADED' in window) return;
    WIDGETPACK_LOADED = true;
    var mc = document.createElement('script');
    mc.type = 'text/javascript';
    mc.async = true;
    mc.src = '//embed.widgetpack.com/widget.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
  })();
  </script>


  

  

  


  
   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;"></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/src/fireworks.js"></script>
  
  
  undefined

  <!-- ç‚¹å‡»å¤åˆ¶æŒ‰é’® -->
  <script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script>
<script type="text/javascript" src="/js/src/custom.js"></script>
<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"/live2dw/assets/shizuku.model.json"},"display":{"superSample":2,"width":160,"height":320,"position":"left","hOffset":-12,"vOffset":-43},"mobile":{"show":true,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false,"tagMode":false});</script></body>
</html>
<!-- é¡µé¢ç‚¹å‡»å°çº¢å¿ƒ -->
<script type="text/javascript" src="/js/src/clicklove.js"></script>
